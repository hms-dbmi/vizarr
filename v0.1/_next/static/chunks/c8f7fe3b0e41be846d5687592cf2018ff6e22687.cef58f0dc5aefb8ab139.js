(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"+7vx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("BQ9P"),A=n("K7jV"),f=n("ykdB"),h=n("0i8A");function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var d=[0,0,0,255],p={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:d},getLineColor:{type:"accessor",value:d},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},v=function(e){Object(a.a)(n,e);var t=g(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(e){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = smoothedge(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[u.a,l.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var a=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(a)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.radiusUnits,o=r.radiusScale,a=r.radiusMinPixels,s=r.radiusMaxPixels,c=r.stroked,u=r.filled,l=r.lineWidthUnits,A=r.lineWidthScale,f=r.lineWidthMinPixels,h=r.lineWidthMaxPixels,g="pixels"===i?n.metersPerPixel:1,d="pixels"===l?n.metersPerPixel:1;this.state.model.setUniforms(t).setUniforms({stroked:c?1:0,filled:u,radiusScale:o*g,radiusMinPixels:a,radiusMaxPixels:s,lineWidthScale:A*d,lineWidthMinPixels:f,lineWidthMaxPixels:h}).draw()}},{key:"_getModel",value:function(e){return new f.a(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new h.a({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]),n}(A.a);v.layerName="ScatterplotLayer",v.defaultProps=p},"+Jdq":function(e,t,n){"use strict";var r=n("QPTa");t.a={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if (__VERSION__ < 300)\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[r.a]}},"+qE3":function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function A(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function g(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return A(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return A(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return g(this,e,!0)},s.prototype.rawListeners=function(e){return g(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"0i8A":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("vpQ4"),i=n("1OyB"),o=n("vuIU"),a=n("VdrS"),s=n("CxzY"),c={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e);var n=t.id,r=void 0===n?Object(a.c)("geometry"):n,o=t.drawMode,s=void 0===o?c.TRIANGLES:o,u=t.attributes,l=void 0===u?{}:u,A=t.indices,f=void 0===A?null:A,h=t.vertexCount,g=void 0===h?null:h;this.id=r,this.drawMode=0|s,this.attributes={},this.userData={},this._setAttributes(l,f),this.vertexCount=g||this._calculateVertexCount(this.attributes,this.indices)}return Object(o.a)(e,null,[{key:"DRAW_MODE",get:function(){return c}}]),Object(o.a)(e,[{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?Object(r.a)({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,Object(s.a)(ArrayBuffer.isView(r.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?(Object(s.a)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var i=e[r],o=i.value,a=i.size;!i.constant&&o&&a>=1&&(n=Math.min(n,o.length/a))}return Object(s.a)(Number.isFinite(n)),n}},{key:"mode",get:function(){return this.drawMode}}]),e}()},3:function(e,t){},"3BRs":function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=B,B.WritableState=_;var a={deprecate:n("t9FE")},s=n("QpuX"),c=n("HDXh").Buffer,u=t.Uint8Array||function(){};var l,A=n("RoFp"),f=n("DbZ5").getHighWaterMark,h=n("ybjB").codes,g=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,I=A.errorOrDestroy;function C(){}function _(e,t,a){o=o||n("sZro"),e=e||{},"boolean"!==typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(T,e,t),e._writableState.errorEmitted=!0,I(e,i)):(o(i),e._writableState.errorEmitted=!0,I(e,i),T(e,t))}(e,n,i,t,o);else{var a=x(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||S(e,n),i?r.nextTick(O,e,n,a,o):O(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function B(e){var t=this instanceof(o=o||n("sZro"));if(!t&&!l.call(B,this))return new B(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function w(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function S(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,w(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,A=n.callback;if(w(e,t,!1,t.objectMode?1:u.length,u,l,A),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&I(e,n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=x(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n("P7XM")(B,s),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===B&&(e&&e._writableState instanceof _)}})):l=function(e){return e instanceof this},B.prototype.pipe=function(){I(this,new v)},B.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!==typeof n&&(n=C),o.ending?function(e,t){var n=new b;I(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new m:"string"===typeof n||t.objectMode||(o=new g("chunk",["string","Buffer"],n)),!o||(I(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},B.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(e,t,n){n(new d("_write()"))},B.prototype._writev=null,B.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)}}).call(this,n("yLpj"),n("8oxB"))},"3Cr/":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("atKK");let i=r.a;function o(e){i=Object(r.b)(i,e)}function a(e){return i.deserialize(e)}function s(e){return i.serialize(e)}},"3DrS":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return A}));var r=n("VmRL"),i=n.n(r);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function c(e,t,n,r){for(var i=t,o=n.length,a=0;a<o;a++)for(var s=0;s<r;s++)e[i++]=n[a][s]||0;if(!function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(var c=0;c<r;c++)e[i++]=n[0][c]||0;return i}function u(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=(o=o||n.length)-i;if(a<=0)return t;for(var c=t,u=0;u<a;u++)e[c++]=n[i+u];if(!s(n,r,i,o))for(var l=0;l<r;l++)e[c++]=n[i+l];return c}function l(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);var n=[],r=[];if(e.positions){var i=e,a=i.positions,s=i.holeIndices;if(s){for(var l=0,A=0;A<=s.length;A++)l=u(n,l,a,t,s[A-1],s[A]),r.push(l);return r.pop(),{positions:n,holeIndices:r}}e=a}if(Number.isFinite(e[0]))return u(n,0,e,t),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){var f,h=0,g=o(e);try{for(g.s();!(f=g.n()).done;){h=c(n,h,f.value,t),r.push(h)}}catch(d){g.e(d)}finally{g.f()}return r.pop(),{positions:n,holeIndices:r}}return c(n,0,e,t),n}function A(e,t,n){var r=null;e.holeIndices&&(r=e.holeIndices.map((function(e){return e/t})));var o=e.positions||e;if(n){var a=o.length;o=o.slice();for(var s=[],c=0;c<a;c+=t){s[0]=o[c],s[1]=o[c+1];var u=n(s);o[c]=u[0],o[c+1]=u[1]}}return i()(o,r,t)}},"3JDX":function(e,t,n){e.exports=function(e){function t(e){let n;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=t.formatters[i];if("function"===typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n}),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=t.selectColor(e),o.destroy=r,o.extend=i,"function"===typeof t.init&&t.init(o),t.instances.push(o),o}function r(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function i(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("FGiv"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},4:function(e,t){},"43KI":function(e,t,n){(t=e.exports=n("rXFu")).Stream=t,t.Readable=t,t.Writable=n("3BRs"),t.Duplex=n("sZro"),t.Transform=n("J78i"),t.PassThrough=n("eA/Y"),t.finished=n("kDxh"),t.pipeline=n("XRzD")},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"4JlD":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4abu":function(e,t,n){"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+i+"$");t.isExist=function(e){return"undefined"!==typeof e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isName=function(e){const t=o.exec(e);return!(null===t||"undefined"===typeof t)},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[],o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=i},5:function(e,t){},"5lV4":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K7jV"),l=n("hZZG"),A=n("Zk56");function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var d=function(e){Object(a.a)(n,e);var t=g(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"setState",value:function(e){Object(o.a)(Object(c.a)(n.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.object;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?Object.assign(t,{object:n.__source.object,index:n.__source.index}):t}},{key:"renderLayers",value:function(){return null}},{key:"shouldRenderSubLayer",value:function(e,t){var n=this.props._subLayerProps;return t&&t.length||n&&n[e]}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerRow",value:function(e,t,n){return e.__source={parent:this,object:t,index:n},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={data:this.props.data,target:[]};return function(n,r){return n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}}return e}},{key:"getSubLayerProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.opacity,r=t.pickable,i=t.visible,o=t.parameters,a=t.getPolygonOffset,s=t.highlightedObjectIndex,c=t.autoHighlight,u=t.highlightColor,l=t.coordinateSystem,A=t.coordinateOrigin,h=t.wrapLongitude,g=t.positionFormat,d=t.modelMatrix,p=t.extensions,v=t._subLayerProps,y={opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:c,highlightColor:u,coordinateSystem:l,coordinateOrigin:A,wrapLongitude:h,positionFormat:g,modelMatrix:d,extensions:p},m=v&&v[e.id],b=m&&m.updateTriggers,E=e.id||"sublayer";if(m){var I=this.constructor._propTypes;for(var C in m){var _=I[C];_&&"accessor"===_.type&&(m[C]=this.getSubLayerAccessor(m[C]))}}Object.assign(y,e,m,{id:"".concat(this.props.id,"-").concat(E),updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers,b)});var B,w=f(p);try{for(w.s();!(B=w.n()).done;){var O=B.value,S=O.getSubLayerProps.call(this,O);S&&Object.assign(y,S,{updateTriggers:Object.assign(y.updateTriggers,S.updateTriggers)})}}catch(x){w.e(x)}finally{w.f()}return y}},{key:"_getAttributeManager",value:function(){return null}},{key:"_renderLayers",value:function(){var e=this.internalState.subLayers,t=!e||this.needsUpdate();t&&(e=this.renderLayers(),e=Object(A.b)(e,Boolean),this.internalState.subLayers=e),Object(l.a)("compositeLayer.renderLayers",this,t,e);var n,r=f(e);try{for(r.s();!(n=r.n()).done;){n.value.parent=this}}catch(i){r.e(i)}finally{r.f()}}},{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return Object(o.a)(Object(c.a)(n.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}}]),n}(u.a);d.layerName="CompositeLayer"},6:function(e,t){},7:function(e,t){},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"7tol":function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},"91Zk":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("QPTa"),i="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",o={name:"gouraud-lighting",dependencies:[r.a],vs:i,defines:{LIGHTING_VERTEX:1},getUniforms:u},a={name:"phong-lighting",dependencies:[r.a],fs:i,defines:{LIGHTING_FRAGMENT:1},getUniforms:u},s={};function c(e){var t=e.ambient,n=void 0===t?.35:t,r=e.diffuse,i=void 0===r?.6:r,o=e.shininess,a=void 0===o?32:o,s=e.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:(void 0===s?[30,30,30]:s).map((function(e){return e/255}))}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(!("material"in e))return{};var t=e.material;return t?c(t):{lighting_uEnabled:!1}}},"9peF":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("vpQ4"),i=n("1OyB"),o=n("md7G"),a=n("foSv"),s=n("Ji7U"),c=n("0i8A"),u=n("VdrS"),l=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),A=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),f=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),h=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),g={POSITION:{size:3,value:new Float32Array(A)},NORMAL:{size:3,value:new Float32Array(f)},TEXCOORD_0:{size:2,value:new Float32Array(h)}},d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,t);var n=e.id,s=void 0===n?Object(u.c)("cube-geometry"):n;return Object(o.a)(this,Object(a.a)(t).call(this,Object(r.a)({},e,{id:s,indices:{size:1,value:new Uint16Array(l)},attributes:Object(r.a)({},g,e.attributes)})))}return Object(s.a)(t,e),t}(c.a)},"9rVn":function(e,t,n){"use strict";const r=n(7),i=/\s+at.*(?:\(|\s)(.*)\)?/,o=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,a="undefined"===typeof r.homedir?"":r.homedir();e.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter(e=>{const t=e.match(i);if(null===t||!t[1])return!0;const n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!o.test(n)}).filter(e=>""!==e.trim()).map(e=>t.pretty?e.replace(i,(e,t)=>e.replace(t,t.replace(a,"~"))):e).join("\n"))},AHNb:function(e,t,n){"use strict";t.a={isWorkerRuntime:function(){const e="undefined"!==typeof self&&"undefined"!==typeof Window&&self instanceof Window;return!("undefined"===typeof self||!self.postMessage||e)},postMessageToMaster:function(e,t){self.postMessage(e,t)},subscribeToMasterMessages:function(e){const t=t=>{e(t.data)};return self.addEventListener("message",t),()=>{self.removeEventListener("message",t)}}}},AIJu:function(e,t,n){"use strict";var r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};t.a={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var i=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(i[3])||(i[3]=1),t.picking_uHighlightColor=i}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}}},Aabs:function(e,t,n){"use strict";n.r(t),t.default={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},Ab0Y:function(e,t,n){"use strict";n.r(t),n.d(t,"createLoader",(function(){return z})),n.d(t,"createSourceData",(function(){return Y})),n.d(t,"initLayerStateFromSource",(function(){return K}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("ODXe"),s=n("KQm4"),c=n("QPfr"),u=n("ICJ1"),l=n("dqDI"),A=n.n(l),f=n("fdqv");function h(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(c.openArray)({store:t,path:n});case 5:return r=e.sent,o=z([r]),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.log("Failed to create loader: ".concat(n));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(i.a.mark((function e(t,n,r){var o,s,u,l,A,g,d,p,v,y,b,E,I,C,_,B,w,O,S,x,R;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.acquisition?parseInt(t.acquisition):void 0,s=[],(u=r.well).images){e.next=5;break}throw Error("Well .zattrs missing images");case 5:if(l=n.url.split("/").filter(Boolean).slice(-2),A=Object(a.a)(l,2),g=A[0],d=A[1],p=u.images,!((v=p.flatMap((function(e){return e.acquisition?[e.acquisition]:[]}))).length>1)){e.next=16;break}return b=n.url.replace("/".concat(g,"/").concat(d),""),E=new c.HTTPStore(b),e.next=13,Object(f.f)(E,".zattrs");case 13:I=e.sent,s=null===I||void 0===I||null===(y=I.plate)||void 0===y?void 0:y.acquisitions,o&&v.includes(o)&&(p=p.filter((function(e){return e.acquisition===o})));case 16:return C=p.map((function(e){return Object(f.k)(e.path,"/")})),e.next=19,Object(f.f)(n,"".concat(C[0],"/.zattrs"));case 19:return _=e.sent,B=_.multiscales[0].datasets[0].path,w=C.map((function(e){return h(n,Object(f.h)(e,B))})),e.next=24,Promise.all(w);case 24:return O=e.sent,S=O.find(Boolean),x=m(t,_.omero,S),R=Math.ceil(Math.sqrt(C.length)),s.length>0&&(x.acquisitions=s,x.acquisitionId=o||-1),x.loaders=O,x.name="Well ".concat(g).concat(d),x.rows=Math.ceil(C.length/R),x.columns=R,x.onClick=t.onClick||function(e){var t=e.gridCoord;if(t){var n=t.row,r=t.column,i=x.source;if("string"===typeof i&&!isNaN(n)&&!isNaN(r)){var o=n*R+r,a=Object(f.h)(i,C[o]);window.open(window.location.origin+window.location.pathname+"?source="+a)}}},e.abrupt("return",x);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function e(t,n,r){var a,s,c,u,l,g,d,p,v,y,b,E,I,C,_,B,w,O,S,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=function(){return(I=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(f.f)(n,Object(f.h)(t,".zattrs"));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)},E=function(e){return I.apply(this,arguments)},"columns"in(c=r.plate)&&"rows"in c){e.next=5;break}throw Error("Plate .zattrs missing columns or rows");case 5:u=c.rows.length,l=c.columns.length,g=c.rows.map((function(e){return e.name})),d=c.columns.map((function(e){return e.name})),p=c.wells.map((function(e){return Object(f.k)(e.path,"/")})),"0",v=(null===c||void 0===c||null===(a=c.acquisitions)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.path)||"",y=g.flatMap((function(e){return d.map((function(t){var n=Object(f.h)(v,e,t);return p.includes(n)?Object(f.h)(n,"0"):""}))})),b=void 0,C=0;case 15:if(!(C<y.length)){e.next=24;break}return e.next=18,E(y[C]);case 18:if(!(b=e.sent)){e.next=21;break}return e.abrupt("break",24);case 21:C++,e.next=15;break;case 24:return _=b.multiscales[0].datasets.slice(-1)[0].path,B=function(e){return h(n,e?Object(f.h)(e,_):void 0)},e.next=28,A()(y,B,{concurrency:10});case 28:return w=e.sent,e.next=31,Promise.all(w);case 31:return O=e.sent,S=O.find(Boolean),(x=m(t,b.omero,S)).loaders=O,x.name=c.name||"Plate",x.rows=u,x.columns=l,x.onClick=t.onClick||function(e){var t=e.gridCoord;if(t){var n=t.row,r=t.column,i=x.source;if("string"===typeof i&&!isNaN(n)&&!isNaN(r)){var o=Object(f.h)(i,v,g[n],d[r]);window.open(window.location.origin+window.location.pathname+"?source="+o)}}},e.abrupt("return",x);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){var r,i,o,a=e.name,s=e.opacity,c=void 0===s?1:s,u=e.colormap,l=void 0===u?"":u,A=e.translate,f=e.source,h=t.rdefs,g=t.channels,d=null!==(r=h.defaultT)&&void 0!==r?r:0,p=null!==(i=h.defaultZ)&&void 0!==i?i:0,v=[],y=[],m=[],b=[];return g.forEach((function(e){v.push(e.color),y.push([e.window.start,e.window.end]),m.push(e.active),b.push(e.label)})),{loader:n,source:f,name:null!==(o=t.name)&&void 0!==o?o:a,channel_axis:1,colors:v,names:b,contrast_limits:y,visibilities:m,defaults:{selection:[d,0,p,0,0],colormap:l,opacity:c},axis_labels:["t","c","z","y","x"],translate:null!==A&&void 0!==A?A:[0,0]}}var b=n("rePB"),E=n("1OyB"),I=n("vuIU"),C=n("Ji7U"),_=n("md7G"),B=n("foSv"),w=n("V3d6"),O=n("5lV4"),S=n("KHNG"),x=(n("Ficz"),n("Aabs"));x.default.R8UI,x.default.RED_INTEGER,x.default.UNSIGNED_BYTE,Uint8Array,x.default.R16UI,x.default.RED_INTEGER,x.default.UNSIGNED_SHORT,Uint16Array,x.default.R32UI,x.default.RED_INTEGER,x.default.UNSIGNED_INT,Uint32Array,x.default.R32F,x.default.RED,x.default.FLOAT,Float32Array;function R(e,t,n){const{data:r,width:i,height:o}=e,a=new r.constructor(t*n);for(let s=0;s<o;s+=1){const e=s*i,n=r.subarray(e,e+i);a.set(n,s*t)}return a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(B.a)(e);if(t){var i=Object(B.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(_.a)(this,n)}}var M={sliderValues:{type:"array",value:[],compare:!0},channelIsOn:{type:"array",value:[],compare:!0},colorValues:{type:"array",value:[],compare:!0},loaderSelection:{type:"array",value:[],compare:!0},colormap:{type:"string",value:"",compare:!0},domain:{type:"array",value:[],compare:!0},viewportId:{type:"string",value:"",compare:!0},z:{type:"number",value:0,compare:!0},loaders:{type:"array",value:[],compare:!0},spacer:{type:"number",value:5,compare:!0},rows:{type:"number",value:0,compare:!0},columns:{type:"number",value:0,compare:!0},concurrency:{type:"number",value:10,compare:!1},isLensOn:{type:"boolean",value:!1,compare:!0},lensSelection:{type:"number",value:0,compare:!0},lensRadius:{type:"number",value:100,compare:!0},lensBorderColor:{type:"array",value:[255,255,255],compare:!0},lensBorderRadius:{type:"number",value:.02,compare:!0},pickable:!0,onClick:{type:"function",value:null,compare:!0},onHover:{type:"function",value:null,compare:!0},coordinateSystem:w.a.CARTESIAN};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Object(a.a)(n,2),o=i[0],s=i[1],c=e*r+o,u=t*r+s;return[o,u,c,s]}function N(e){var t=e.loaders,n=void 0===t?[]:t,r=e.loaderSelection,a=void 0===r?[]:r,s=e.z,c=void 0===s?0:s,u=e.concurrency;u&&a.length>0&&(u=Math.ceil(u/a.length));var l=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getRaster({loaderSelection:a,z:c});case 4:if((n=e.sent).width%4===0){e.next=9;break}return r=n.width,o=n.height,s=4*Math.ceil(r/4),e.abrupt("return",{data:n.data.map((function(e){return R({data:e,width:r,height:o},s,o)})),height:o,width:s});case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return A()(n,l,{concurrency:u})}var k=function(e){Object(C.a)(n,e);var t=P(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"initializeState",value:function(){var e=this;this.state={gridData:[],width:0,height:0},N(this.props).then((function(t){var n=function(e){var t=e.find(Boolean);if(!t)return{width:0,height:0};var n=t.width,r=t.height;return e.forEach((function(e){if(e&&((null===e||void 0===e?void 0:e.width)!==n||(null===e||void 0===e?void 0:e.height)!==r))throw new Error("Grid data is not same shape.")})),{width:n,height:r}}(t),r=n.width,i=n.height;e.setState({gridData:t,width:r,height:i})}))}},{key:"updateState",value:function(e){var t=this,n=e.props,r=e.oldProps,i=e.changeFlags.propsChanged,o="string"===typeof i&&i.includes("props.loaders"),a=n.loaderSelection!==r.loaderSelection;(o||a)&&N(this.props).then((function(e){t.setState({gridData:e})}))}},{key:"getPickingInfo",value:function(e){var t=e.info;if(!t.coordinate)return t;var n=this.props,r=n.rows,i=n.columns,o=this.props.spacer||0,a=this.state,s=a.width,c=a.height,u=i*s+(i-1)*o,l=r*c+(r-1)*o,A=t.coordinate[0]+u/2,f=t.coordinate[1]+l/2,h=Math.floor(f/(c+o)),g=Math.floor(A/(s+o));return t.gridCoord={row:h,column:g},t}},{key:"renderLayers",value:function(){var e=this,t=this.state,n=t.gridData,r=t.width,i=t.height;if(0===r||0===i)return null;var o=this.props,a=o.loaders,c=o.rows,l=o.columns,A=o.spacer,h=o.id,g=void 0===h?"":h,d=-c*(i+A)/2,p=-l*(r+A)/2,v=Object(f.j)(c).flatMap((function(t){return Object(f.j)(l).map((function(o){var s,c=d+t*(i+A),f=p+o*(r+A),h=o+t*l,v={channelData:n[h]||null,bounds:L(r,i,[f,c]),id:"".concat(g,"-GridLayer-").concat(t,"-").concat(o),dtype:(null===(s=a[h])||void 0===s?void 0:s.dtype)||"<u2"};return new u.XRLayer(Q(Q({},e.props),v))}))}));if(this.props.pickable){var y=d+c*(i+A),m=p+l*(r+A),b={data:[{polygon:[[p,d],[m,d],[m,y],[p,y]]}],getPolygon:function(e){return e.polygon},getFillColor:[0,0,0,0],getLineColor:[0,0,0,0],pickable:!0,id:"".concat(g,"-GridLayer-picking")};return[new S.a(Q(Q({},this.props),b))].concat(Object(s.a)(v))}return v}}]),n}(O.a);function D(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=e.axis_labels;n&&n.length==t.base.shape.length||(n=t.base.shape.slice(0,-2).map((function(e,t){return""+t})).concat(["y","x"]));return n}function U(e,t,n){var r=e.color,i=e.contrast_limits,o=e.visibility,a=e.name,s=e.colormap,c=void 0===s?"":s,u=e.opacity,l=void 0===u?1:u,A=e.translate;return{loader:t,name:a,channel_axis:null,colors:[null!==r&&void 0!==r?r:f.a.white],names:["channel_0"],contrast_limits:[null!==i&&void 0!==i?i:[0,n]],visibilities:[null===o||void 0===o||o],defaults:{selection:Array(t.base.shape.length).fill(0),colormap:c,opacity:l},axis_labels:F(e,t),translate:null!==A&&void 0!==A?A:[0,0]}}function G(e,t,n){for(var r=e.names,i=e.channel_axis,o=e.name,c=e.opacity,u=void 0===c?1:c,l=e.colormap,A=void 0===l?"":l,h=e.translate,g=e.contrast_limits,d=e.visibilities,p=e.colors,v=t.base.shape[i],y=0,m=[g,d,r,p];y<m.length;y++){var b=m[y];if(b&&b.length!==v){var E=Object.keys({channelProp:b})[0];throw Error("channel_axis is length ".concat(v," and provided channel_axis property ").concat(E," is different size."))}}if(d||(d=v<=f.d?Array(v).fill(!0):[].concat(Object(s.a)(Array(f.d).fill(!0)),Object(s.a)(Array(v-f.d).fill(!1)))),!p)if(1==v)p=[f.a.white];else if(2==v)p=f.c;else if(3===v)p=f.e;else if(v<=f.d)p=f.b.slice(0,v);else{p=Array(v).fill(f.a.white);var I,C=D(d.flatMap((function(e,t){return e?t:[]})).entries());try{for(C.s();!(I=C.n()).done;){var _=Object(a.a)(I.value,2),B=_[0];p[_[1]]=f.b[B]}}catch(O){C.e(O)}finally{C.f()}}var w=F(e,t);return w[i]="c",{loader:t,name:o,channel_axis:i,colors:p,names:null!==r&&void 0!==r?r:Object(f.j)(v).map((function(e){return"channel_".concat(e)})),contrast_limits:null!==g&&void 0!==g?g:Array(v).fill([0,n]),visibilities:d,defaults:{selection:Array(t.base.shape.length).fill(0),colormap:A,opacity:u},axis_labels:w,translate:null!==h&&void 0!==h?h:[0,0]}}function z(e){var t=e[0],n=t.chunks,r=t.shape,i=n.slice(-2),o=Object(a.a)(i,2),c=o[0],l=o[1],A=1===e.length||c!==l?t:e,h=[].concat(Object(s.a)(Object(f.j)(r.length-2)),["y","x"]).map((function(e){return{field:e}}));return new u.ZarrLoader({data:A,dimensions:h})}function V(e,t){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(i.a.mark((function e(t,n){var r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=["0"],"multiscales"in n&&(o=n.multiscales[0].datasets,r=o.map((function(e){return e.path}))),a=r.map((function(e){return Object(c.openArray)({store:t,path:e})})),e.next=5,Promise.all(a);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(i.a.mark((function e(t){var n,r,o,a,s,l,A,h,g,p,y,b,E,I,C,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.source,l=Object(f.i)(o),e.next=4,l.containsItem(".zgroup");case 4:if(!e.sent){e.next=35;break}return e.prev=5,e.next=8,Object(f.f)(l,".zattrs");case 8:if(s=e.sent,!(null===(A=s)||void 0===A?void 0:A.plate)){e.next=13;break}return e.abrupt("return",v(t,l,s));case 13:if(!(null===(h=s)||void 0===h?void 0:h.well)){e.next=15;break}return e.abrupt("return",d(t,l,s));case 15:return e.next=17,V(l,s);case 17:a=e.sent,e.next=33;break;case 20:return e.prev=20,e.t0=e.catch(5),g=Object(f.k)(l.url,"/"),p=g.slice(0,g.lastIndexOf("/")),y=Object(f.i)(p),e.next=27,Object(f.f)(y,".zattrs");case 27:if(!(null===(b=e.sent)||void 0===b?void 0:b.plate)){e.next=32;break}return e.abrupt("return",v(t,y,b));case 32:throw Error("Failed to open arrays in zarr.Group. Make sure group implements multiscales extension.");case 33:e.next=39;break;case 35:return e.next=37,Object(c.openArray)({store:l});case 37:e.t1=e.sent,a=[e.t1];case 39:if(E=z(a),I=E.base,(C=E.dtype)in u.DTYPE_VALUES){e.next=43;break}throw Error("Dtype not supported, must be u1, u2, u4, or f4");case 43:if(_="<f4"===C?1:u.DTYPE_VALUES[C].max,2!==I.shape.length&&(void 0!==t.channel_axis||(null===(n=s)||void 0===n?void 0:n.omero))){e.next=47;break}return e.abrupt("return",U(t,E,_));case 47:if(!Number.isInteger(t.channel_axis)){e.next=49;break}return e.abrupt("return",G(t,E,_));case 49:if(!(null===(r=s)||void 0===r?void 0:r.omero)){e.next=51;break}return e.abrupt("return",m(t,s.omero,E));case 51:throw Error("Failed to load image.");case 52:case"end":return e.stop()}}),e,null,[[5,20]])})))).apply(this,arguments)}function K(e,t){var n,r=e.loader,i=(e.source,e.channel_axis),o=e.colors,a=e.visibilities,c=e.contrast_limits,l=e.defaults,A=e.loaders,h=e.rows,g=e.columns,d=e.onClick,p=l.selection,v=l.opacity,y=l.colormap,m=function(e){return e.loaders?k:e.loader.numLevels>1?u.MultiscaleImageLayer:u.ImageLayer}(e),b=[],E=[],I=[],C=[],_=D(a.flatMap((function(e,t){return e?t:[]})));try{for(_.s();!(n=_.n()).done;){var B=n.value;if(Number.isInteger(i)){var w=Object(s.a)(p);w[i]=B,b.push(w)}else b.push(p);E.push(Object(f.g)(o[B])),I.push(c[B]),C.push(!0)}}catch(O){_.e(O)}finally{_.f()}return{Layer:m,layerProps:{id:t,loader:r,loaders:A,loaderSelection:b,colorValues:E,sliderValues:[].concat(I),contrastLimits:I,channelIsOn:C,opacity:v,colormap:y,rows:h,columns:g,onClick:d},on:!0}}k.layerName="GridLayer",k.defaultProps=M},B8Yt:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},B9OJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("rePB"),i=n("1OyB"),o=n("vuIU"),a=n("laie");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),this.props=c(c({},u),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new a.a({id:t.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever"),this._deferredUpdate=null}return Object(o.a)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var n={handle:e,getPriority:t},r=new Promise((function(e){return n.resolve=e,n}));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}},{key:"_issueRequest",value:function(e){var t=this,n=e.handle,r=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(n),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,r?r({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var n=this.requestQueue.shift();this._issueRequest(n)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}()},BQ9P:function(e,t,n){"use strict";var r=n("AIJu");t.a=Object.assign({inject:{"vs:DECKGL_FILTER_COLOR":"\n    picking_setPickingColor(geometry.pickingColor);\n    // for picking depth values\n    picking_setPickingAttribute(geometry.position.z);\n    ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n    // use highlight color if this fragment belongs to the selected object.\n    color = picking_filterHighlightColor(color);\n\n    // use picking color if rendering to picking FBO.\n    color = picking_filterPickingColor(color);\n      "}}},r.a)},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},DbZ5:function(e,t,n){"use strict";var r=n("ybjB").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},E1E9:function(e,t,n){"use strict";const r=n("4abu"),i=n("4abu").buildOptions,o=n("Y81X");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};t.defaultOptions=a;const s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=l(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function u(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function l(e,t,n){if(t&&"string"===typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return r.isExist(e)?e:""}t.props=s;const A=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(e,t){if(!t.ignoreAttributes&&"string"===typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,A),i=n.length,o={};for(let e=0;e<i;e++){const r=u(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),o[t.attributeNamePrefix+r]=l(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=o,e}return o}}function h(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function g(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/(\r\n)|\n/," "),t=i(t,a,s);const n=new o("!xml");let u=n,l="";for(let i=0;i<e.length;i++){if("<"===e[i])if("/"===e[i+1]){const n=g(e,">",i,"Closing Tag is not closed.");let o=e.substring(i+2,n).trim();if(t.ignoreNameSpace){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}u&&(u.val?u.val=r.getValue(u.val)+""+c(o,l,t):u.val=c(o,l,t)),t.stopNodes.length&&t.stopNodes.includes(u.tagname)&&(u.child=[],void 0==u.attrsMap&&(u.attrsMap={}),u.val=e.substr(u.startIndex+1,i-u.startIndex-1)),u=u.parent,l="",i=n}else if("?"===e[i+1])i=g(e,"?>",i,"Pi Tag is not closed.");else if("!--"===e.substr(i+1,3))i=g(e,"--\x3e",i,"Comment is not closed.");else if("!D"===e.substr(i+1,2)){const t=g(e,">",i,"DOCTYPE is not closed.");i=e.substring(i,t).indexOf("[")>=0?e.indexOf("]>",i)+1:t}else if("!["===e.substr(i+1,2)){const n=g(e,"]]>",i,"CDATA is not closed.")-2,a=e.substring(i+9,n);if(l&&(u.val=r.getValue(u.val)+""+c(u.tagname,l,t),l=""),t.cdataTagName){const e=new o(t.cdataTagName,u,a);u.addChild(e),u.val=r.getValue(u.val)+t.cdataPositionChar,a&&(e.val=a)}else u.val=(u.val||"")+(a||"");i=n+2}else{const n=h(e,i+1);let a=n.data;const s=n.index,A=a.indexOf(" ");let g=a;if(-1!==A&&(g=a.substr(0,A).trimRight(),a=a.substr(A+1)),t.ignoreNameSpace){const e=g.indexOf(":");-1!==e&&(g=g.substr(e+1))}if(u&&l&&"!xml"!==u.tagname&&(u.val=r.getValue(u.val)+""+c(u.tagname,l,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===g[g.length-1]?(g=g.substr(0,g.length-1),a=g):a=a.substr(0,a.length-1);const e=new o(g,u,"");g!==a&&(e.attrsMap=f(a,t)),u.addChild(e)}else{const e=new o(g,u);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=s),g!==a&&(e.attrsMap=f(a,t)),u.addChild(e),u=e}l="",i=s}else l+=e[i]}return n}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},EdPt:function(e,t,n){(function(t){var r=n("43KI").Transform,i=n("P7XM");function o(e){r.call(this,e),this._destroyed=!1}function a(e,t,n){n(null,e)}function s(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),e(t,n,r)}}i(o,r),o.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var n=this;t.nextTick((function(){e&&n.emit("error",e),n.emit("close")}))}},e.exports=s((function(e,t,n){var r=new o(e);return r._transform=t,n&&(r._flush=n),r})),e.exports.ctor=s((function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=Object.assign({},e,t),o.call(this,this.options)}return i(r,o),r.prototype._transform=t,n&&(r.prototype._flush=n),r})),e.exports.obj=s((function(e,t,n){var r=new o(Object.assign({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r}))}).call(this,n("8oxB"))},FGiv:function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i,a=7*o,s=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},FR1t:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("91Zk"),A=n("BQ9P"),f=n("K7jV"),h=n("ykdB"),g=n("0i8A");function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var p=[0,0,0,255],v=[0,0,1],y={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:function(e){return e.position}},getNormal:{type:"accessor",value:v},getColor:{type:"accessor",value:p},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};var m=function(e){Object(a.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(e){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n  vec3 offset = vec3(positions.xy * radiusPixels, 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[u.a,l.a,A.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:v},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:p}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var a=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(a)}),this.getAttributeManager().invalidateAll()}i.dataChanged&&function(e){var t=e.header,n=e.attributes;t&&n&&(e.length=t.vertexCount,n.POSITION&&(n.instancePositions=n.POSITION),n.NORMAL&&(n.instanceNormals=n.NORMAL),n.COLOR_0&&(n.instanceColors=n.COLOR_0))}(t.data)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.pointSize,o="meters"===r.sizeUnits?1/n.metersPerPixel:1;this.state.model.setUniforms(Object.assign({},t,{radiusPixels:i*o})).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<3;n++){var r=n/3*Math.PI*2;t.push(2*Math.cos(r),2*Math.sin(r),0)}return new h.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new g.a({drawMode:4,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}))}}]),n}(f.a);m.layerName="PointCloudLayer",m.defaultProps=y},Ficz:function(e,t,n){"use strict";function r(e,t,n,r,a){!function e(t,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,c=n-r+1,u=Math.log(s),l=.5*Math.exp(2*u/3),A=.5*Math.sqrt(u*l*(s-l)/s)*(c-s/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-c*l/s+A)),Math.min(o,Math.floor(n+(s-c)*l/s+A)),a)}var f=t[n],h=r,g=o;for(i(t,r,n),a(t[o],f)>0&&i(t,r,o);h<g;){for(i(t,h,g),h++,g--;a(t[h],f)<0;)h++;for(;a(t[g],f)>0;)g--}0===a(t[r],f)?i(t,r,g):i(t,++g,o),g<=n&&(r=g+1),n<=g&&(o=g-1)}}(e,t,n||0,r||e.length-1,a||o)}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return e<t?-1:e>t?1:0}n.r(t),n.d(t,"default",(function(){return r}))},GA6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("md7G"),s=n("foSv"),c=n("fxzv"),u=n("+H0l"),l=n("sSh/"),A=n("HwUG"),f=n("ZxFD"),h=n("n+fv");function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var d=Object.freeze([1,0,0,0,1,0,0,0,1]),p=Object.freeze([0,0,0,0,0,0,0,0,0]),v=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),y={},m=function(e){Object(o.a)(n,e);var t=g(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?i.copy(e):i.identity(),i}return Object(i.a)(n,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return v}}],[{key:"IDENTITY",get:function(){return y.IDENTITY=y.IDENTITY||Object.freeze(new n(d)),y.IDENTITY}},{key:"ZERO",get:function(){return y.ZERO=y.ZERO||Object.freeze(new n(p)),y.ZERO}}]),Object(i.a)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,c){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=c,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,c){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=n,this[7]=o,this[8]=c,this.check()}},{key:"determinant",value:function(){return A.b(this)}},{key:"identity",value:function(){return this.copy(d)}},{key:"fromQuaternion",value:function(e){return A.c(this,e),this.check()}},{key:"transpose",value:function(){return A.i(this,this),this.check()}},{key:"invert",value:function(){return A.d(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return A.e(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return A.e(this,this,e),this.check()}},{key:"rotate",value:function(e){return A.f(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?A.g(this,this,e):A.g(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return A.h(this,this,e),this.check()}},{key:"transform",value:function(e,t){switch(e.length){case 2:t=f.i(t||[-0,-0],e,this);break;case 3:t=h.p(t||[-0,-0,-0],e,this);break;case 4:t=Object(l.d)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(u.b)(t,e.length),t}},{key:"transformVector",value:function(e,t){return Object(u.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return Object(u.c)("Matrix3.transformVector"),this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return Object(u.c)("Matrix3.transformVector"),this.transform(e,t)}}]),n}(c.a)},GcY5:function(e,t,n){"use strict";n.r(t),n.d(t,"decompress",(function(){return d}));let r,i=null;function o(){return null!==i&&i.buffer===r.memory.buffer||(i=new Uint8Array(r.memory.buffer)),i}let a=0,s=null;function c(){return null!==s&&s.buffer===r.memory.buffer||(s=new Int32Array(r.memory.buffer)),s}async function u(e){void 0===e&&(e="".replace(/\.js$/,"_bg.wasm")),("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:n}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,{});return r=t.exports,u.__wbindgen_wasm_module=n,r}var l=Object.freeze({__proto__:null,decompress:function(e,t){try{const h=r.__wbindgen_export_0.value-16;r.__wbindgen_export_0.value=h;var n=function(e,t){const n=t(1*e.length);return o().set(e,n/1),a=e.length,n}(e,r.__wbindgen_malloc),i=a;r.decompress(h,n,i,t);var s=c()[h/4+0],u=c()[h/4+1],l=(A=s,f=u,o().subarray(A/1,A/1+f)).slice();return r.__wbindgen_free(s,1*u),l}finally{r.__wbindgen_export_0.value+=16}var A,f},default:u});const A=[62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function f(e){return A[e-43]}const h=function(e){let t,n=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,i=new Uint8Array(r/4*3);for(let o=0,a=0;o<r;o+=4,a+=3)t=f(e.charCodeAt(o))<<18|f(e.charCodeAt(o+1))<<12|f(e.charCodeAt(o+2))<<6|f(e.charCodeAt(o+3)),i[a]=t>>16,i[a+1]=t>>8&255,i[a+2]=255&t;return i.subarray(0,i.length-n)}("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QQhqIAIgA2o2AgAL3AEBBH8jAEFAaiICJAAgAUEEaiEEIAEoAgRFBEAgASgCACEDIAJBADYCICACQgE3AxggAiACQRhqNgIkIAJBOGogA0EQaikCADcDACACQTBqIANBCGopAgA3AwAgAiADKQIANwMoIAJBJGpBwIjAACACQShqEAkaIAJBEGoiAyACKAIgNgIAIAIgAikDGDcDCAJAIAEoAgQiBUUNACABQQhqKAIARQ0AIAUQBAsgBCACKQMINwIAIARBCGogAygCADYCAAsgAEHkicAANgIEIAAgBDYCACACQUBrJAALngIBAn8jAEEgayIDJABBASEEQdClwABB0KXAACgCAEEBajYCAAJAAkACQEGYqcAAKAIAQQFHBEBBmKnAAEKBgICAEDcDAAwBC0GcqcAAQZypwAAoAgBBAWoiBDYCACAEQQJLDQELIAMgAjYCHCADIAE2AhggA0HYiMAANgIUIANB2IjAADYCEEHEpcAAKAIAIgFBf0wNAEHEpcAAIAFBAWoiATYCAEHEpcAAQcylwAAoAgAiAgR/QcilwAAoAgAgA0EIaiAAQeCJwAAoAgARAgAgAyADKQMINwMQIANBEGogAigCDBECAEHEpcAAKAIABSABC0F/ajYCACAEQQFNDQELAAsjAEEQayIBJAAgAUHQicAANgIMIAEgADYCCAALzAEBAn8gAUEUaigCACIFIANB//8DcSIESwRAIAEoAgwgBEEBdGovAQAhBSABKAIIIgQgASgCBEYEQCABIAQQOiABKAIIIQQLIAEoAgAgBEECdGoiBCACOgACIAQgAzsBACABIAEoAghBAWo2AgggASgCFCIEIAFBEGooAgBGBEAgAUEMaiAEEDsgASgCFCEECyABKAIMIARBAXRqIAVBAWo7AQAgASABKAIUQQFqNgIUIAAgAjoAAiAAIAM7AQAPCyAEIAVBsIjAABA1AAvJAQECfyMAQRBrIgIkACABKAIYQYmlwABBCSABQRxqKAIAKAIMEQEAIQMgAkEAOgAFIAIgAzoABCACIAE2AgAgAiAANgIMIAIgAkEMahASIAItAAQhASACLQAFBEAgAUH/AXEhACACAn9BASAADQAaIAIoAgAiAEEcaigCACgCDCEBIAAoAhghAyAALQAAQQRxRQRAIANBu4zAAEECIAERAQAMAQsgA0G6jMAA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ACABNgIYCyAAQSRqKAIAIAFPBEAgACABNgIkCwtQAQF/IABBFGooAgAiAUUgAUECdEVyRQRAIAAoAhAQBAsgAEEgaigCACIBRSABQQF0RXJFBEAgACgCHBAECyAAQSxqKAIABEAgACgCKBAECwtsAQF/IwBBMGsiAyQAIAMgATYCBCADIAA2AgAgA0EcakECNgIAIANBLGpBGDYCACADQgI3AgwgA0HEi8AANgIIIANBGDYCJCADIANBIGo2AhggAyADNgIoIAMgA0EEajYCICADQQhqIAIQUAALbAEBfyMAQTBrIgMkACADIAE2AgQgAyAANgIAIANBHGpBAjYCACADQSxqQRg2AgAgA0ICNwIMIANBkJDAADYCCCADQRg2AiQgAyADQSBqNgIYIAMgA0EEajYCKCADIAM2AiAgA0EIaiACEFAAC2wBAX8jAEEwayIDJAAgAyABNgIEIAMgADYCACADQRxqQQI2AgAgA0EsakEYNgIAIANCAjcCDCADQcSQwAA2AgggA0EYNgIkIAMgA0EgajYCGCADIANBBGo2AiggAyADNgIgIANBCGogAhBQAAtsAQF/IwBBMGsiAyQAIAMgATYCBCADIAA2AgAgA0EcakECNgIAIANBLGpBGDYCACADQgI3AgwgA0Hwj8AANgIIIANBGDYCJCADIANBIGo2AhggAyADQQRqNgIoIAMgAzYCICADQQhqIAIQUAALXAEBfyMAQRBrIgMkAAJAIAAoAgQgAWsgAk8EQCADQQA2AgAMAQsgAyAAIAEgAhAVIAMoAgBBAUcNACADQQhqKAIAIgAEQCADKAIEIAAQXwALEFsACyADQRBqJAALWgEBfyMAQRBrIgIkAAJAIAAoAgQgAWtBAU8EQCACQQA2AgAMAQsgAiAAIAEQHSACKAIAQQFHDQAgAkEIaigCACIABEAgAigCBCAAEF8ACxBbAAsgAkEQaiQAC1oBAX8jAEEQayICJAACQCAAKAIEIAFrQQFPBEAgAkEANgIADAELIAIgACABEB4gAigCAEEBRw0AIAJBCGooAgAiAARAIAIoAgQgABBfAAsQWwALIAJBEGokAAtZAQF/IwBBIGsiAiQAIAIgACgCADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqQcCIwAAgAkEIahAJIAJBIGokAAtGAAJAQQggAkkEQAJ/QQggAkkEQCACIAMQEAwBCyADEAALIgINAUEADwsgACADEAoPCyACIAAgAyABIAEgA0sbEEkgABAEC1kBAX8jAEEgayICJAAgAiAAKAIANgIEIAJBGGogAUEQaikCADcDACACQRBqIAFBCGopAgA3AwAgAiABKQIANwMIIAJBBGpBtI7AACACQQhqEAkgAkEgaiQAC1kAAkACQAJAIAFBf0oEQAJAIAIEQCABDQEMBAsgAUUNAyABQQEQVyICDQQMAgsgARBGIgJFDQEMAwsQWwALIAFBARBfAAtBASECCyAAIAE2AgQgACACNgIAC1YBAX8jAEEgayICJAAgAiAANgIEIAJBGGogAUEQaikCADcDACACQRBqIAFBCGopAgA3AwAgAiABKQIANwMIIAJBBGpBtI7AACACQQhqEAkgAkEgaiQAC1kBA38CQCABKAIMIgIgASgCCCIDTwRAIAEoAgQiBCACSQ0BIAEoAgAhASAAIAIgA2s2AgQgACABIANqNgIADwsgAyACQZCIwAAQNwALIAIgBEGQiMAAEDYAC1UBAX8gAEEQaiAALQBGEA0gAEEAOgBHIABBADsBOCAAQTBqQgA3AwAgAEEAOgALIABCADcDACAAIAAtAEZBAWoiAToACiAAQX8gAUEPcXRBf3M7AQgLQwEDfwJAIAJFDQADQCAALQAAIgQgAS0AACIFRgRAIABBAWohACABQQFqIQEgAkF/aiICDQEMAgsLIAQgBWshAwsgAwtFAQF/IwBBEGsiAiQAIAIgACABECwCQCACKAIAQQFGBEAgAkEIaigCACIARQ0BIAIoAgQgABBfAAsgAkEQaiQADwsQWwALSgACfyABQYCAxABHBEBBASAAKAIYIAEgAEEcaigCACgCEBEAAA0BGgsgAkUEQEEADwsgACgCGCACIAMgAEEcaigCACgCDBEBAAsLJgEBfwJAIAAQACIBRQ0AIAFBfGotAABBA3FFDQAgASAAEFELIAELRwEBfyMAQSBrIgMkACADQRRqQQA2AgAgA0G0isAANgIQIANCATcCBCADIAE2AhwgAyAANgIYIAMgA0EYajYCACADIAIQUAALWwEDfyMAQRBrIgEkACAAKAIMIgJFBEBB6IjAAEErQbCJwAAQRwALIAAoAggiA0UEQEHoiMAAQStBwInAABBHAAsgASACNgIIIAEgADYCBCABIAM2AgAgARBPAAszAQF/IAIEQCAAIQMDQCADIAEtAAA6AAAgAUEBaiEBIANBAWohAyACQX9qIgINAAsLIAALKgACQCAAQXxLDQAgAEUEQEEEDwsgACAAQX1JQQJ0EFciAEUNACAADwsACzEBAX8gASgCBCICBEAgACACNgIEIABBCGpBATYCACAAIAEoAgA2AgAPCyAAQQA2AgALMQEBfyAAIAEoAgQgASgCCCICSwR/IAEgAhBEIAEoAggFIAILNgIEIAAgASgCADYCAAswAQF/IwBBEGsiASQAIAFBADYCBCABIAAoAgA2AgAgASAAKAIEKAIIIAAoAggQIgALKAEBfyAAKAIIIgIgAU8EQCAAKAIAGiAAIAE2AggPCyAAIAEgAmsQKAssAQF/IwBBEGsiASQAIAFBCGogAEEIaigCADYCACABIAApAgA3AwAgARBNAAs0AQF/IwBBEGsiAiQAIAIgATYCDCACIAA2AgggAkGAi8AANgIEIAJBtIrAADYCACACEEgACyEAIAEEQANAIABBADoAACAAQQFqIQAgAUF/aiIBDQALCwsgAQF/AkAgACgCACIBRQ0AIABBBGooAgBFDQAgARAECwsgAQF/AkAgACgCBCIBRQ0AIABBCGooAgBFDQAgARAECwsMACAAIAEgAiADED0LCwAgAQRAIAAQBAsLFAAgACgCACABIAAoAgQoAgwRAAALGQACf0EIIAFJBEAgASAAEBAMAQsgABAACwsQACAAIAI2AgQgACABNgIACw8AIAAoAgAgASACECBBAAsQACABIAAoAgAgACgCBBAFCxEAQZCKwABBEUGkisAAEEcACw4AIAAoAgAaA0AMAAsACwsAIAA1AgAgARAUCw0AIAAoAgAgASACEAsLGQAgACABQcClwAAoAgAiAEENIAAbEQIAAAsNACABQYiPwABBAhAFCwkAIABBADoARwsHACAALQBHCw0AQrqZz7bAiq761gALDABCwIr68+izo61ACwMAAQsDAAELC6MlAQBBgIDAAAuZJS9Vc2Vycy90cmV2b3JtYW56Ly5ydXN0dXAvdG9vbGNoYWlucy9iZXRhLXg4Nl82NC1hcHBsZS1kYXJ3aW4vbGliL3J1c3RsaWIvc3JjL3J1c3QvbGlicmFy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");let g;async function d(e,t){g||(g=await(async()=>(await u(h),l))());const n=g.decompress(e,t);if(0===n.length)throw Error("Failed to decode with LZW decoder.");return n}},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,A=s>0?a-4:a;for(n=0;n<A;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HDXh:function(e,t,n){"use strict";(function(e){var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return A(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function A(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return B(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var A=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){A=!1;break}if(A)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return G(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return E(e,t,n,r)}function C(e,t,n,r){return G(U(t),e,n,r)}function _(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function B(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,A=u>239?4:u>223?3:u>191?2:1;if(i+A<=n)switch(A){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,A=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=A}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return A(null,e)},c.allocUnsafeSlow=function(e){return A(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):d.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),A=0;A<s;++A)if(u[A]!==l[A]){o=u[A],a=l[A];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Q(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Q(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Q(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:F(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n("yLpj"))},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)}},Im0j:function(e,t,n){"use strict";function r(e){for(var t=e.data,n=e.getIndex,r=e.dataRange,i=e.replace,o=r.startRow,a=void 0===o?0:o,s=r.endRow,c=void 0===s?1/0:s,u=t.length,l=u,A=u,f=0;f<u;f++){var h=n(t[f]);if(l>f&&h>=a&&(l=f),h>=c){A=f;break}}for(var g=l,d=A-l!==i.length,p=d&&t.slice(A),v=0;v<i.length;v++)t[g++]=i[v];if(d){for(var y=0;y<p.length;y++)t[g++]=p[y];t.length=g}return{startRow:l,endRow:l+i.length}}n.d(t,"a",(function(){return r}))},J4zp:function(e,t,n){var r=n("wTVA"),i=n("m0LI"),o=n("ZhPi"),a=n("wkBT");e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},J78i:function(e,t,n){"use strict";e.exports=l;var r=n("ybjB").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n("sZro");function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",A)}function A(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n("P7XM")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},K4gp:function(e,t,n){"use strict";var r=n("hJkN");t.a={name:"project32",dependencies:[r.a],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    mat3 rotation = project_get_orientation_matrix(projectedPosition);\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},KHNG:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("91Zk"),A=n("BQ9P"),f=n("V3d6"),h=n("K7jV"),g=n("d3kR"),d=n("tMmZ"),p=n("ykdB"),v=n("0i8A"),y=n("rePB"),m=n("3DrS"),b=n("xl5t"),E=n("cpv5");function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var O=function(e){Object(a.a)(n,e);var t=w(n);function n(e){Object(r.a)(this,n);var i=e.fp64,o=e.IndexType,a=void 0===o?Uint32Array:o;return t.call(this,B(B({},e),{},{attributes:{positions:{size:3,type:i?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:a,size:1}}}))}return Object(i.a)(n,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){Object(o.a)(Object(c.a)(n.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;t&&(this.vertexCount=(t.value||t).length)}},{key:"normalizeGeometry",value:function(e){if(this.normalize){if(e=m.b(e,this.positionSize),this.opts.resolution)return Object(E.a)(e.positions||e,e.holeIndices,{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return Object(E.b)(e.positions||e,e.holeIndices,{size:this.positionSize,maxLatitude:86,edgeTypes:!0})}return e}},{key:"getGeometrySize",value:function(e){if(Array.isArray(e)&&!Number.isFinite(e[0])){var t,n=0,r=I(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(o){r.e(o)}finally{r.f()}return n}return(e.positions||e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?Object(o.a)(Object(c.a)(n.prototype),"getGeometryFromBuffer",this).call(this,e):function(){return null}}},{key:"updateGeometryAttributes",value:function(e,t){if(Array.isArray(e)&&!Number.isFinite(e[0])){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(a){r.e(a)}finally{r.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,c=o.indices;if(c){var u=i,l=m.a(e,this.positionSize,this.opts.preproject);c=s.allocate(c,i+l.length,{copy:!0});for(var A=0;A<l.length;A++)c[u++]=l[A]+r;a[n+1]=i+l.length,o.indices=c}}},{key:"_updatePositions",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i)for(var a=e.positions||e,s=n,c=0;c<r;s++,c++){var u=a[c*o],l=a[c*o+1],A=o>2?a[c*o+2]:0;i[3*s]=u,i[3*s+1]=l,i[3*s+2]=A}}},{key:"_updateVertexValid",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.vertexValid,o=this.positionSize,a=e&&e.holeIndices;if(e&&e.edgeTypes?i.set(e.edgeTypes,n):i.fill(1,n,n+r),a)for(var s=0;s<a.length;s++)i[n+a[s]/o-1]=0;i[n+r-1]=0}}]),n}(b.a),S="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying float isValid;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n  isValid = vertexValid;\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n  isValid = 1.0;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n\n#ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n    geometry.normal = normal;\n  }\n\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",x="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(S,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),R="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(S,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = instancePositions;\n  props.positions64Low = instancePositions64Low;\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n  props.nextPositions = nextPositions;\n  props.nextPositions64Low = nextPositions64Low;\n\n  calculatePosition(props);\n}\n");function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var Q=[0,0,0,255],P={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Q},getLineColor:{type:"accessor",value:Q},material:!0},M={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},L=function(e){Object(a.a)(n,e);var t=T(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(e){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:e,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid < 0.5) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{},modules:[u.a,l.a,A.a]})}},{key:"initializeState",value:function(){var e=this,t=this.context,n=t.gl,r=t.viewport,i=this.props.coordinateSystem;r.isGeospatial&&i===f.a.DEFAULT&&(i=f.a.LNGLAT),this.setState({numInstances:0,polygonTesselator:new O({preproject:i===f.a.LNGLAT&&r.projectFlat,fp64:this.use64bitPositions(),IndexType:!n||Object(g.c)(n,d.a.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var o=this.getAttributeManager();o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:true},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:M,accessor:"getPolygon",update:this.calculatePositions,noAlloc:true,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:true},elevations:{size:1,transition:M,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:M,accessor:"getFillColor",defaultValue:Q,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:M,accessor:"getLineColor",defaultValue:Q,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=Object(o.a)(Object(c.a)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.extruded,i=n.filled,o=n.wireframe,a=n.elevationScale,s=this.state,c=s.topModel,u=s.sideModel,l=s.polygonTesselator,A=Object.assign({},t,{extruded:Boolean(r),elevationScale:a});u&&(u.setInstanceCount(l.instanceCount-1),u.setUniforms(A),o&&(u.setDrawMode(3),u.setUniforms({isWireframe:!0}).draw()),i&&(u.setDrawMode(6),u.setUniforms({isWireframe:!1}).draw())),c&&(c.setVertexCount(l.vertexCount),c.setUniforms(A).draw())}},{key:"updateState",value:function(e){Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t=e.props,r=e.oldProps,i=e.changeFlags,a=this.getAttributeManager();(i.extensionsChanged||t.filled!==r.filled||t.extruded!==r.extruded)&&(this.state.models&&this.state.models.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),a.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.state.polygonTesselator,i=t.data.attributes||{};r.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:i.getPolygon,buffers:i,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged}),this.setState({numInstances:r.instanceCount,startIndices:r.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,n,r=this.props,i=r.id,o=r.filled,a=r.extruded;if(o){var s=this.getShaders(x);s.defines.NON_INSTANCED_MODEL=1,t=new p.a(e,Object.assign({},s,{id:"".concat(i,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return a&&((n=new p.a(e,Object.assign({},this.getShaders(R),{id:"".concat(i,"-side"),geometry:new v.a({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}))).userData.excludeAttributes={indices:!0}),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}},{key:"wrapLongitude",get:function(){return!1}}]),n}(h.a);L.layerName="SolidPolygonLayer",L.defaultProps=P},KpGI:function(e,t,n){"use strict";n.r(t),n.d(t,"GreatCircleLayer",(function(){return f})),n.d(t,"S2Layer",(function(){return R})),n.d(t,"TileLayer",(function(){return gt})),n.d(t,"TripsLayer",(function(){return vt})),n.d(t,"H3ClusterLayer",(function(){return _t})),n.d(t,"H3HexagonLayer",(function(){return Nt})),n.d(t,"Tile3DLayer",(function(){return Js})),n.d(t,"TerrainLayer",(function(){return lc})),n.d(t,"MVTLayer",(function(){return cu}));var r={};n.r(r),n.d(r,"decode",(function(){return sa})),n.d(r,"encode",(function(){return ua}));var i={};n.r(i),n.d(i,"decode",(function(){return va})),n.d(i,"encode",(function(){return ya}));var o={};n.r(o),n.d(o,"decode",(function(){return Ea})),n.d(o,"encode",(function(){return Ia}));var a={};n.r(a),n.d(a,"decode",(function(){return Ba})),n.d(a,"encode",(function(){return wa}));var s=n("1OyB"),c=n("Ji7U"),u=n("md7G"),l=n("foSv");function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var f=function(e){Object(c.a)(n,e);var t=A(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(n("YKQg").a);f.layerName="GreatCircleLayer",f.defaultProps={getHeight:{type:"accessor",value:0},greatCircle:!0};var h=n("vuIU"),g=n("5lV4"),d=n("R1+Y"),p=n("ODXe"),v=n("yXba"),y=n.n(v),m=180/Math.PI;function b(e,t,n){var r=1<<t;return[(e[0]+n[0])/r,(e[1]+n[1])/r]}function E(e){return e>=.5?1/3*(4*e*e-1):1/3*(1-4*(1-e)*(1-e))}function I(e){return[E(e[0]),E(e[1])]}function C(e,t){var n=Object(p.a)(t,2),r=n[0],i=n[1];switch(e){case 0:return[1,r,i];case 1:return[-r,1,i];case 2:return[-r,-i,1];case 3:return[-1,-i,-r];case 4:return[i,-1,-r];case 5:return[i,r,-1];default:throw new Error("Invalid face")}}function _(e){var t=Object(p.a)(e,3),n=t[0],r=t[1],i=t[2],o=Math.atan2(i,Math.sqrt(n*n+r*r));return[Math.atan2(r,n)*m,o*m]}function B(e,t,n,r){if(0===r){1===n&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);var i=t[0];t[0]=t[1],t[1]=i}}function w(e){if("string"===typeof e){if(e.indexOf("/")>0)return e;e=function(e){var t=e.padEnd(16,"0");return y.a.fromString(t,16)}(e)}return function(e){for(var t=y.a.fromString(e,!0,10).toString(2);t.length<64;)t="0"+t;for(var n=t.lastIndexOf("1"),r=t.substring(0,3),i=t.substring(3,n),o=i.length/2,a=y.a.fromString(r,!0,2).toString(10),s=y.a.fromString(i,!0,2).toString(4);s.length<o;)s="0"+s;return"".concat(a,"/").concat(s)}(e.toString())}function O(e){return function(e){for(var t=e.face,n=e.ij,r=e.level,i=[[0,0],[0,1],[1,1],[1,0],[0,0]],o=Math.max(1,Math.ceil(100*Math.pow(2,-r))),a=new Float64Array(4*o*2+2),s=0,c=0;c<4;c++)for(var u=i[c].slice(0),l=i[c+1],A=(l[0]-u[0])/o,f=(l[1]-u[1])/o,h=0;h<o;h++){u[0]+=A,u[1]+=f;var g=_(C(t,I(b(n,r,u))));a[s++]=g[0],a[s++]=g[1]}return a[s++]=a[0],a[s++]=a[1],a}(function(e){for(var t,n=e.split("/"),r=parseInt(n[0],10),i=n[1],o=i.length,a=[0,0],s=o-1;s>=0;s--){t=o-s;var c=i[s],u=0,l=0;"1"===c?l=1:"2"===c?(u=1,l=1):"3"===c&&(u=1);var A=Math.pow(2,t-1);B(A,a,u,l),a[0]+=A*u,a[1]+=A*l}if(r%2===1){var f=a[0];a[0]=a[1],a[1]=f}return{face:r,ij:a,level:t}}(w(e)))}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var x=Object.assign({getS2Token:{type:"accessor",value:function(e){return e.token}}},d.a.defaultProps),R=function(e){Object(c.a)(n,e);var t=S(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e.getS2Token,r=this.props,i=r.elevationScale,o=r.extruded,a=r.wireframe,s=r.filled,c=r.stroked,u=r.lineWidthUnits,l=r.lineWidthScale,A=r.lineWidthMinPixels,f=r.lineWidthMaxPixels,h=r.lineJointRounded,g=r.lineMiterLimit,p=r.lineDashJustified,v=r.getElevation,y=r.getFillColor,m=r.getLineColor,b=r.getLineWidth,E=r.getLineDashArray,I=this.props,C=I.updateTriggers,_=I.material;return new(this.getSubLayerClass("cell",d.a))({filled:s,wireframe:a,extruded:o,elevationScale:i,stroked:c,lineWidthUnits:u,lineWidthScale:l,lineWidthMinPixels:A,lineWidthMaxPixels:f,lineJointRounded:h,lineMiterLimit:g,lineDashJustified:p,material:_,getElevation:v,getFillColor:y,getLineColor:m,getLineWidth:b,getLineDashArray:E},this.getSubLayerProps({id:"cell",updateTriggers:{getElevation:C.getElevation,getFillColor:C.getFillColor,getLineColor:C.getLineColor,getLineWidth:C.getLineWidth,getLineDashArray:C.getLineDashArray}}),{data:t,_normalize:!1,positionFormat:"XY",getPolygon:function(e,t){return O(n(e,t))}})}}]),n}(g.a);R.layerName="S2Layer",R.defaultProps=x;var T=n("rePB"),Q=n("Zk56"),P=n("cwYr"),M=n("JBga"),L=n("o0o1"),N=n.n(L),k=n("HaE+"),D=n("Jh/b"),j=function(){function e(t){var n=t.x,r=t.y,i=t.z,o=t.onTileLoad,a=t.onTileError;Object(s.a)(this,e),this.x=n,this.y=r,this.z=i,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._isLoaded=!1,this._isCancelled=!1,this.onTileLoad=o,this.onTileError=a}return Object(h.a)(e,[{key:"_loadData",value:function(){var e=Object(k.a)(N.a.mark((function e(t,n){var r,i,o,a,s,c,u,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.x,i=this.y,o=this.z,a=this.bbox,this._abortController=new AbortController,s=this._abortController.signal,e.next=5,n.scheduleRequest(this,(function(e){return e.isSelected?1:-1}));case 5:if(c=e.sent){e.next=9;break}return this._isCancelled=!0,e.abrupt("return");case 9:if(!this._isCancelled){e.next=12;break}return c.done(),e.abrupt("return");case 12:return e.prev=12,e.next=15,t({x:r,y:i,z:o,bbox:a,signal:s});case 15:u=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),l=e.t0||!0;case 21:return e.prev=21,c.done(),this._isCancelled&&!u?this._isLoaded=!1:(this._isLoaded=!0,this._isCancelled=!1),e.finish(21);case 25:if(this._isLoaded){e.next=27;break}return e.abrupt("return");case 27:l?this.onTileError(l,this):(this.content=u,this.onTileLoad(this));case 28:case"end":return e.stop()}}),e,this,[[12,18,21,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadData",value:function(e,t){var n=this;e&&(this._isCancelled=!1,this._loader=this._loadData(e,t),this._loader.finally((function(){n._loader=void 0})))}},{key:"abort",value:function(){this.isLoaded||(this._isCancelled=!0,this._abortController.abort())}},{key:"data",get:function(){return this._isLoaded?this.content:this._loader}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"isLoading",get:function(){return Boolean(this._loader)}},{key:"isCancelled",get:function(){return this._isCancelled}},{key:"byteLength",get:function(){var e=this.content?this.content.byteLength:0;return Number.isFinite(e)||D.a.error("byteLength not defined in tile data")(),e}}]),e}(),F=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),U=n("zXfU"),G=new U.a,z=new U.a,V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(s.a)(this,e),r=r||G.copy(t).add(n).scale(.5),this.center=new U.a(r),this.halfDiagonal=new U.a(n).subtract(this.center),this.minimum=new U.a(t),this.maximum=new U.a(n)}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,n=z.from(e.normal),r=t.x*Math.abs(n.x)+t.y*Math.abs(n.y)+t.z*Math.abs(n.z),i=this.center.dot(n)+e.distance;return i-r>0?F.INSIDE:i+r<0?F.OUTSIDE:F.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,n=G.from(e).subtract(this.center),r=this.halfDiagonal,i=0;return(t=Math.abs(n.x)-r.x)>0&&(i+=t*t),(t=Math.abs(n.y)-r.y)>0&&(i+=t*t),(t=Math.abs(n.z)-r.z)>0&&(i+=t*t),i}}]),e}(),H=n("ZaHm"),Y=new U.a,q=new U.a,K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s.a)(this,e),this.radius=-0,this.center=new U.a,this.fromCenterRadius(t,n)}return Object(h.a)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=Y.from(t),this.center=(new U.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,n=this.radius,r=e.center,i=e.radius,o=Y.copy(r).subtract(t),a=o.magnitude();if(n>=a+i)return this.clone();if(i>=a+n)return e.clone();var s=.5*(n+a+i);return q.copy(o).scale((-n+s)/a).add(t),this.center.copy(q),this.radius=s,this}},{key:"expand",value:function(e){var t=(e=Y.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"intersectPlane",value:function(e){var t=this.center,n=this.radius,r=e.normal.dot(t)+e.distance;return r<-n?F.OUTSIDE:r<n?F.INTERSECTING:F.INSIDE}},{key:"transform",value:function(e){this.center.transform(e);var t=H.e(Y,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){return(e=Y.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}}]),e}(),W=n("KQm4"),J=n("GA6j"),X=n("Xjzu"),Z=new U.a,$=new U.a,ee=new U.a,te=new U.a,ne=new U.a,re=new U.a,ie=new U.a,oe=new U.a,ae=new U.a,se=new U.a,ce=0,ue=1,le=2,Ae=3,fe=4,he=5,ge=6,de=7,pe=8,ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];Object(s.a)(this,e),this.center=(new U.a).from(t),this.halfAxes=new J.a(n)}return Object(h.a)(e,[{key:"fromCenterHalfSizeQuaternion",value:function(e,t,n){var r=new X.a(n),i=(new J.a).fromQuaternion(r);return i[0]=i[0]*t[0],i[1]=i[1]*t[0],i[2]=i[2]*t[0],i[3]=i[3]*t[1],i[4]=i[4]*t[1],i[5]=i[5]*t[1],i[6]=i[6]*t[2],i[7]=i[7]*t[2],i[8]=i[8]*t[2],this.center=(new U.a).from(e),this.halfAxes=i,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new K,t=this.halfAxes,n=t.getColumn(0,oe),r=t.getColumn(1,ae),i=t.getColumn(2,se),o=Z.copy(n).add(r).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,n=e.normal,r=this.halfAxes,i=n.x,o=n.y,a=n.z,s=Math.abs(i*r[ce]+o*r[ue]+a*r[le])+Math.abs(i*r[Ae]+o*r[fe]+a*r[he])+Math.abs(i*r[ge]+o*r[de]+a*r[pe]),c=n.dot(t)+e.distance;return c<=-s?F.OUTSIDE:c>=s?F.INSIDE:F.INTERSECTING}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=$.from(e).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,ee),i=n.getColumn(1,te),o=n.getColumn(2,ne),a=r.magnitude(),s=i.magnitude(),c=o.magnitude();r.normalize(),i.normalize(),o.normalize();var u,l=0;return(u=Math.abs(t.dot(r))-a)>0&&(l+=u*u),(u=Math.abs(t.dot(i))-s)>0&&(l+=u*u),(u=Math.abs(t.dot(o))-c)>0&&(l+=u*u),l}},{key:"computePlaneDistances",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=this.center,a=this.halfAxes,s=a.getColumn(0,ee),c=a.getColumn(1,te),u=a.getColumn(2,ne),l=re.copy(s).add(c).add(u).add(o),A=ie.copy(l).subtract(e),f=t.dot(A);return r=Math.min(f,r),i=Math.max(f,i),l.copy(o).add(s).add(c).subtract(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),l.copy(o).add(s).subtract(c).add(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),l.copy(o).add(s).subtract(c).subtract(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(l).subtract(s).add(c).add(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(l).subtract(s).add(c).subtract(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(l).subtract(s).subtract(c).add(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(l).subtract(s).subtract(c).subtract(u),A.copy(l).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),n[0]=r,n[1]=i,n}},{key:"getTransform",value:function(){}},{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new U.a(e).len(),new U.a(t).len(),new U.a(n).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new U.a(e).normalize(),i=new U.a(t).normalize(),o=new U.a(n).normalize();return(new X.a).fromMatrix3(new J.a([].concat(Object(W.a)(r),Object(W.a)(i),Object(W.a)(o))))}}]),e}(),ye=n("tS8E"),me=n("a3TU"),be=new U.a,Ee=new U.a,Ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(s.a)(this,e),this.normal=new U.a,this.distance=-0,this.fromNormalDistance(t,n)}return Object(h.a)(e,[{key:"fromNormalDistance",value:function(e,t){return Object(ye.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=be.from(e),this.normal.from(t).normalize();var n=-this.normal.dot(e);return this.distance=n,this}},{key:"fromCoefficients",value:function(e,t,n,r){return this.normal.set(e,t,n),Object(ye.a)(Object(me.d)(this.normal.len(),1)),this.distance=r,this}},{key:"clone",value:function(t){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return Object(me.d)(this.distance,e.distance)&&Object(me.d)(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=Ee.copy(this.normal).transformAsVector(e).normalize(),n=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(n,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=be.from(e);var n=this.getPointDistance(e),r=Ee.copy(this.normal).scale(n);return e.subtract(r).to(t)}}]),e}();function Ce(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=[new U.a([1,0,0]),new U.a([0,1,0]),new U.a([0,0,1])],we=new U.a,Oe=new U.a,Se=(new Ie(new U.a(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(s.a)(this,e),this.planes=t,Object(ye.a)(this.planes.every((function(e){return e instanceof Ie})))}return Object(h.a)(e,null,[{key:"MASK_OUTSIDE",get:function(){return 4294967295}},{key:"MASK_INSIDE",get:function(){return 0}},{key:"MASK_INDETERMINATE",get:function(){return 2147483647}}]),Object(h.a)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*Be.length;var t,n=e.center,r=e.radius,i=0,o=Ce(Be);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=this.planes[i],c=this.planes[i+1];s||(s=this.planes[i]=new Ie),c||(c=this.planes[i+1]=new Ie);var u=we.copy(a).scale(-r).add(n);a.dot(u);s.fromPointNormal(u,a);var l=we.copy(a).scale(r).add(n),A=Oe.copy(a).negate();A.dot(l);c.fromPointNormal(l,A),i+=2}}catch(f){o.e(f)}finally{o.f()}return this}},{key:"computeVisibility",value:function(e){Object(ye.a)(e);var t,n=F.INSIDE,r=Ce(this.planes);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(e.intersectPlane(i)){case F.OUTSIDE:return F.OUTSIDE;case F.INTERSECTING:n=F.INTERSECTING}}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeVisibilityWithPlaneMask",value:function(t,n){if(Object(ye.a)(t,"boundingVolume is required."),Object(ye.a)(Number.isFinite(n),"parentPlaneMask is required."),n===e.MASK_OUTSIDE||n===e.MASK_INSIDE)return n;for(var r=e.MASK_INSIDE,i=this.planes,o=0;o<this.planes.length;++o){var a=o<31?1<<o:0;if(!(o<31&&0===(n&a))){var s=i[o],c=t.intersectPlane(s);if(c===F.OUTSIDE)return e.MASK_OUTSIDE;c===F.INTERSECTING&&(r|=a)}}return r}}]),e}()),xe=n("Nw31");function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=new U.a,Pe=new U.a,Me=new U.a,Le=new U.a,Ne=new U.a,ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),t=Te({near:1,far:5e8},t),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this._cullingVolume=new Se([new Ie,new Ie,new Ie,new Ie,new Ie,new Ie]),this._perspectiveMatrix=new xe.a,this._infinitePerspective=new xe.a}return Object(h.a)(e,[{key:"clone",value:function(){return new e({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}},{key:"equals",value:function(t){return t&&t instanceof e&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far}},{key:"computeCullingVolume",value:function(e,t,n){Object(ye.a)(e,"position is required."),Object(ye.a)(t,"direction is required."),Object(ye.a)(n,"up is required.");var r=this._cullingVolume.planes;n=Qe.copy(n).normalize();var i=Pe.copy(t).cross(n).normalize(),o=Me.copy(t).multiplyByScalar(this.near).add(e),a=Le.copy(t).multiplyByScalar(this.far).add(e),s=Ne;return s.copy(i).multiplyByScalar(this.left).add(o).subtract(e).cross(n),r[0].fromPointNormal(e,s),s.copy(i).multiplyByScalar(this.right).add(o).subtract(e).cross(n).negate(),r[1].fromPointNormal(e,s),s.copy(n).multiplyByScalar(this.bottom).add(o).subtract(e).cross(i).negate(),r[2].fromPointNormal(e,s),s.copy(n).multiplyByScalar(this.top).add(o).subtract(e).cross(i),r[3].fromPointNormal(e,s),s=(new U.a).copy(t),r[4].fromPointNormal(o,s),s.negate(),r[5].fromPointNormal(a,s),this._cullingVolume}},{key:"getPixelDimensions",value:function(e,t,n,r){De(this),Object(ye.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(ye.a)(e>0),Object(ye.a)(t>0),Object(ye.a)(n>0),Object(ye.a)(r);var i=1/this.near,o=this.top*i,a=2*n*o/t,s=2*n*(o=this.right*i)/e;return r.x=s,r.y=a,r}},{key:"projectionMatrix",get:function(){return De(this),this._perspectiveMatrix}},{key:"infiniteProjectionMatrix",get:function(){return De(this),this._infinitePerspective}}]),e}();function De(e){Object(ye.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e.top,n=e.bottom,r=e.right,i=e.left,o=e.near,a=e.far;t===e._top&&n===e._bottom&&i===e._left&&r===e._right&&o===e._near&&a===e._far||(Object(ye.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=i,e._right=r,e._top=t,e._bottom=n,e._near=o,e._far=a,e._perspectiveMatrix=(new xe.a).frustum({left:i,right:r,bottom:n,top:t,near:o,far:a}),e._infinitePerspective=(new xe.a).frustum({left:i,right:r,bottom:n,top:t,near:o,far:1/0}))}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),t=Fe({near:1,far:5e8,xOffset:0,yOffset:0},t),this._offCenterFrustum=new ke,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near,this._near=this.near,this.far=t.far,this._far=this.far,this.xOffset=t.xOffset,this._xOffset=this.xOffset,this.yOffset=t.yOffset,this._yOffset=this.yOffset}Object(h.a)(e,[{key:"clone",value:function(){return new e({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}},{key:"equals",value:function(t){return null!==(n=t)&&"undefined"!==typeof n&&t instanceof e&&(Ue(this),Ue(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum));var n}},{key:"computeCullingVolume",value:function(e,t,n){return Ue(this),this._offCenterFrustum.computeCullingVolume(e,t,n)}},{key:"getPixelDimensions",value:function(e,t,n,r){return Ue(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r)}},{key:"projectionMatrix",get:function(){return Ue(this),this._offCenterFrustum.projectionMatrix}},{key:"infiniteProjectionMatrix",get:function(){return Ue(this),this._offCenterFrustum.infiniteProjectionMatrix}},{key:"fovy",get:function(){return Ue(this),this._fovy}},{key:"sseDenominator",get:function(){return Ue(this),this._sseDenominator}}])}();function Ue(e){Object(ye.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));var t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(ye.a)(e.fov>=0&&e.fov<Math.PI),Object(ye.a)(e.aspectRatio>0),Object(ye.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,new U.a,Math.PI;var Ge=n("gOKY");new J.a,new J.a,new J.a,new J.a,new J.a;new U.a,new U.a,new U.a,new U.a,new U.a,new J.a,new J.a,new J.a;var ze=n("zGfa"),Ve=n("v88f");function He(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(){function e(t,n,r){Object(s.a)(this,e),this.x=t,this.y=n,this.z=r}return Object(h.a)(e,[{key:"update",value:function(e){var t=e.viewport,n=e.cullingVolume,r=e.elevationBounds,i=e.minZ,o=e.maxZ,a=e.offset,s=this.getBoundingVolume(r,a);if(n.computeVisibility(s)<0)return!1;if(!this.childVisible){var c=this.z;if(c<o&&c>=i){var u=s.distanceTo(t.cameraPosition)*t.scale/t.height;c+=Math.floor(Math.log2(u))}if(c>=o)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;var l,A=He(this.children);try{for(A.s();!(l=A.n()).done;){l.value.update(e)}}catch(f){A.e(f)}finally{A.f()}return!0}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&e.push(this),this._children){var t,n=He(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.getSelected(e)}}catch(i){n.e(i)}finally{n.f()}}return e}},{key:"getBoundingVolume",value:function(e,t){var n=512/Math.pow(2,this.z),r=this.x*n+512*t,i=512-(this.y+1)*n;return new V([r,i,e[0]],[r+n,i+n,e[1]])}},{key:"children",get:function(){if(!this._children){var t=2*this.x,n=2*this.y,r=this.z+1;this._children=[new e(t,n,r),new e(t,n+1,r),new e(t+1,n,r),new e(t+1,n+1,r)]}return this._children}}]),e}();var Ke=[-1/0,-1/0,1/0,1/0],We={type:"url",value:"",validate:function(e){return"string"===typeof e||Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},equals:function(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}};function Je(e,t){if(!e||!e.length)return null;Array.isArray(e)&&(e=e[Math.abs(t.x+t.y)%e.length]);var n=t.x,r=t.y,i=t.z;return e.replace("{x}",n).replace("{y}",r).replace("{z}",i).replace("{-y}",Math.pow(2,i)-r-1)}function Xe(e,t){var n=Object(p.a)(e,2);return[n[0]*t/512,n[1]*t/512]}function Ze(e){return Math.pow(2,e)}function $e(e,t,n){var r=Ze(n),i=e/r*360-180,o=Math.PI-2*Math.PI*t/r;return[i,180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))]}function et(e,t,n){var r=Ze(n);return[e/r*512,t/r*512]}function tt(e,t,n,r){if(e.isGeospatial){var i=$e(t,n,r),o=Object(p.a)(i,2),a=o[0],s=o[1],c=$e(t+1,n+1,r),u=Object(p.a)(c,2);return{west:a,north:s,east:u[0],south:u[1]}}var l=et(t,n,r),A=Object(p.a)(l,2),f=A[0],h=A[1],g=et(t+1,n+1,r),d=Object(p.a)(g,2);return{left:f,top:h,right:d[0],bottom:d[1]}}function nt(e,t,n){for(var r=function(e,t,n){var r;if(t&&2===t.length){var i=Object(p.a)(t,2),o=i[0],a=i[1],s=e.getBounds({z:o}),c=e.getBounds({z:a});r=[Math.min(s[0],c[0]),Math.min(s[1],c[1]),Math.max(s[2],c[2]),Math.max(s[3],c[3])]}else r=e.getBounds();return[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]}(e,null,n),i=Ze(t),o=Xe([r[0],r[1]],i),a=Object(p.a)(o,2),s=a[0],c=a[1],u=Xe([r[2],r[3]],i),l=Object(p.a)(u,2),A=l[0],f=l[1],h=[],g=Math.floor(s);g<A;g++)for(var d=Math.floor(c);d<f;d++)h.push({x:g,y:d,z:t});return h}function rt(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.extent,a=e.tileSize,s=void 0===a?512:a,c=Math.round(t.zoom+Math.log2(512/s));if(Number.isFinite(r)&&c<r){if(!o)return[];c=r}return Number.isFinite(n)&&c>n&&(c=n),t.isGeospatial?function(e,t,n){if(!(e instanceof ze.a)){var r=e.getBounds(),i=Object(Ve.b)({width:100,height:100,bounds:[[r[0],r[1]],[r[2],r[3]]]}),o=i.longitude,a=i.latitude,s=i.zoom;e=new ze.a({width:100,height:100,longitude:o,latitude:a,zoom:s,repeat:!0})}var c=Object.values(e.getFrustumPlanes()).map((function(e){var t=e.normal,n=e.distance;return new Ie(t.clone().negate(),n)})),u=new Se(c),l=e.distanceScales.unitsPerMeter[2],A=n&&n[0]*l||0,f=n&&n[1]*l||0,h=e.pitch<=60?t:0,g=new qe(0,0,0),d={viewport:e,cullingVolume:u,elevationBounds:[A,f],minZ:h,maxZ:t,offset:0};if(g.update(d),e.subViewports&&e.subViewports.length>1){for(d.offset=-1;g.update(d)&&!(--d.offset<-3););for(d.offset=1;g.update(d)&&!(++d.offset>3););}return g.getSelected()}(t,c,i):nt(t,c,o||Ke)}var it=n("B9OJ");function ot(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var st=function(){function e(t){var n=this;Object(s.a)(this,e),this.opts=t,this._getTileData=t.getTileData,this.onTileError=t.onTileError,this.onTileLoad=function(e){t.onTileLoad(e),n.opts.maxCacheByteSize&&(n._cacheByteSize+=e.byteLength,n._resizeCache())},this.onTileUnload=t.onTileUnload,this._requestScheduler=new it.a({maxRequests:t.maxRequests,throttleRequests:t.maxRequests>0}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this.setOptions(t)}return Object(h.a)(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.zRange;if(!e.equals(this._viewport)){this._viewport=e;var i=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:r});this._selectedTiles=i.map((function(e){return t._getTile(e,!0)})),this._dirty&&this._rebuildTree()}var o=this.updateTileStates();return this._dirty&&this._resizeCache(),o&&this._frameNumber++,this._frameNumber}},{key:"getTileIndices",value:function(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=this.opts;return rt({viewport:t,maxZoom:n,minZoom:r,zRange:i,tileSize:o.tileSize,extent:o.extent})}},{key:"getTileMetadata",value:function(e){var t=e.x,n=e.y,r=e.z;return{bbox:tt(this._viewport,t,n,r)}}},{key:"getParentIndex",value:function(e){return e.x=Math.floor(e.x/2),e.y=Math.floor(e.y/2),e.z-=1,e}},{key:"updateTileStates",value:function(){this._updateTileStates(this.selectedTiles);var e,t=this.opts.maxRequests,n=[],r=0,i=!1,o=ot(this._cache.values());try{for(o.s();!(e=o.n()).done;){var a=e.value,s=Boolean(1&a.state);a.isVisible!==s&&(i=!0,a.isVisible=s),a.isSelected=5===a.state,a.isLoading&&(r++,a.isSelected||n.push(a))}}catch(c){o.e(c)}finally{o.f()}if(t>0)for(;r>t&&n.length>0;){n.shift().abort(),r--}return i}},{key:"_rebuildTree",value:function(){var e,t=this._cache,n=ot(t.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent=null,r.children.length=0}}catch(c){n.e(c)}finally{n.f()}var i,o=ot(t.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this._getNearestAncestor(a.x,a.y,a.z);a.parent=s,s&&s.children.push(a)}}catch(c){o.e(c)}finally{o.f()}}},{key:"_updateTileStates",value:function(e){var t,n=this._cache,r=this.opts.refinementStrategy||"best-available",i=ot(n.values());try{for(i.s();!(t=i.n()).done;){t.value.state=0}}catch(f){i.e(f)}finally{i.f()}var o,a=ot(e);try{for(a.s();!(o=a.n()).done;){o.value.state=5}}catch(f){a.e(f)}finally{a.f()}if("never"!==r){var s,c=ot(e);try{for(c.s();!(s=c.n()).done;){ut(s.value,r)}}catch(f){c.e(f)}finally{c.f()}var u,l=ot(e);try{for(l.s();!(u=l.n()).done;){var A=u.value;ct(A)&&lt(A)}}catch(f){l.e(f)}finally{l.f()}}}},{key:"_resizeCache",value:function(){var e=this._cache,t=this.opts,n=t.maxCacheSize||(t.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=t.maxCacheByteSize||1/0;if(e.size>n||this._cacheByteSize>r){var i,o=ot(e);try{for(o.s();!(i=o.n()).done;){var a=Object(p.a)(i.value,2),s=a[0],c=a[1];if(c.isVisible||(this._cacheByteSize-=t.maxCacheByteSize?c.byteLength:0,e.delete(s),this.onTileUnload(c)),e.size<=n&&this._cacheByteSize<=r)break}}catch(u){o.e(u)}finally{o.f()}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort((function(e,t){return e.z-t.z})),this._dirty=!1)}},{key:"_getTile",value:function(e,t){var n=e.x,r=e.y,i=e.z,o="".concat(n,",").concat(r,",").concat(i),a=this._cache.get(o);return!a&&t?(a=new j({x:n,y:r,z:i,onTileLoad:this.onTileLoad,onTileError:this.onTileError}),Object.assign(a,this.getTileMetadata(a)),a.loadData(this._getTileData,this._requestScheduler),this._cache.set(o,a),this._dirty=!0):a&&a.isCancelled&&!a.isLoading&&a.loadData(this._getTileData,this._requestScheduler),a}},{key:"_getNearestAncestor",value:function(e,t,n){for(var r=this._minZoom,i=void 0===r?0:r,o={x:e,y:t,z:n};o.z>i;){o=this.getParentIndex(o);var a=this._getTile(o);if(a)return a}return null}},{key:"tiles",get:function(){return this._tiles}},{key:"selectedTiles",get:function(){return this._selectedTiles}},{key:"isLoaded",get:function(){return this._selectedTiles.every((function(e){return e.isLoaded}))}}]),e}();function ct(e){for(var t=e;t;){if(!1&t.state)return!0;if(t.isLoaded)return!1;t=t.parent}return!0}function ut(e,t){for(var n,r=3;n=e.parent;){if(e.isLoaded&&(r=4,"best-available"===t))return;n.state=Math.max(n.state,r),e=n}}function lt(e){var t,n=ot(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.state=Math.max(r.state,3),r.isLoaded||lt(r)}}catch(i){n.e(i)}finally{n.f()}}function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ht={data:[],dataComparator:We.equals,renderSubLayers:{type:"function",value:function(e){return new P.a(e)},compare:!1},getTileData:{type:"function",optional:!0,value:null,compare:!1},onViewportLoad:{type:"function",optional:!0,value:null,compare:!1},onTileLoad:{type:"function",value:function(e){},compare:!1},onTileUnload:{type:"function",value:function(e){},compare:!1},onTileError:{type:"function",value:function(e){return console.error(e)},compare:!1},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,fetch:{type:"function",value:function(e,t){var n=t.layer,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({signal:t.signal},n.getLoadOptions()||{});return Object(M.a)(e,r)},compare:!1},maxRequests:6},gt=function(e){Object(c.a)(n,e);var t=At(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"initializeState",value:function(){this.state={tiles:[],isLoaded:!1}}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=(e.oldProps,e.context,e.changeFlags),r=this.state.tileset;if(!r||n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getTileData)){var i=t.maxZoom,o=t.minZoom,a=t.tileSize,s=t.maxCacheSize,c=t.maxCacheByteSize,u=t.refinementStrategy,l=t.extent,A=t.maxRequests;r=new st({getTileData:this.getTileData.bind(this),maxCacheSize:s,maxCacheByteSize:c,maxZoom:i,minZoom:o,tileSize:a,refinementStrategy:u,extent:l,onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this),maxRequests:A}),this.setState({tileset:r})}else(n.propsChanged||n.updateTriggersChanged)&&(r.setOptions(t),this.state.tileset.tiles.forEach((function(e){e.layers=null})));this._updateTileset()}},{key:"_updateTileset",value:function(){var e=this.state.tileset,t=this.props,n=t.onViewportLoad,r=t.zRange,i=e.update(this.context.viewport,{zRange:r}),o=e.isLoaded,a=this.state.isLoaded!==o,s=this.state.frameNumber!==i;o&&n&&(a||s)&&n(e.selectedTiles.map((function(e){return e.data}))),s&&this.setState({frameNumber:i}),this.state.isLoaded=o}},{key:"_onTileLoad",value:function(e){this.getCurrentLayer().props.onTileLoad(e),e.isVisible&&this.setNeedsUpdate()}},{key:"_onTileError",value:function(e,t){var n=this.getCurrentLayer();n.props.onTileError(e),n._updateTileset(),t.isVisible&&this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){this.getCurrentLayer().props.onTileUnload(e)}},{key:"getTileData",value:function(e){var t=this.props.data,n=this.getCurrentLayer().props,r=n.getTileData,i=n.fetch,o=e.signal;return e.url=Je(t,e),r?r(e):e.url?i(e.url,{layer:this,signal:o}):null}},{key:"renderSubLayers",value:function(e){return this.props.renderSubLayers(e)}},{key:"getHighlightedObjectIndex",value:function(){return-1}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer;return t.sourceLayer=n,t.tile=n.props.tile,t}},{key:"renderLayers",value:function(){var e=this,t=this.props.visible;return this.state.tileset.tiles.map((function(n){var r=t&&n.isVisible,i=e.getHighlightedObjectIndex(n);if(n.isLoaded)if(n.layers)!n.layers[0]||n.layers[0].props.visible===r&&n.layers[0].props.highlightedObjectIndex===i||(n.layers=n.layers.map((function(e){return e.clone({visible:r,highlightedObjectIndex:i})})));else{var o=e.renderSubLayers(Object.assign({},e.props,{id:"".concat(e.id,"-").concat(n.x,"-").concat(n.y,"-").concat(n.z),data:n.data,visible:r,_offset:0,tile:n,highlightedObjectIndex:i}));n.layers=Object(Q.b)(o,Boolean)}else;return n.layers}))}},{key:"isLoaded",get:function(){return this.state.tileset.selectedTiles.every((function(e){return e.layers&&e.layers.every((function(e){return e.isLoaded}))}))}}]),n}(g.a);gt.layerName="TileLayer",gt.defaultProps=ht;var dt=n("ReuC");function pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var vt=function(e){Object(c.a)(n,e);var t=pt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getShaders",value:function(){var e=Object(dt.a)(Object(l.a)(n.prototype),"getShaders",this).call(this);return e.inject={"vs:#decl":"uniform float trailLength;\nattribute float instanceTimestamps;\nattribute float instanceNextTimestamps;\nvarying float vTime;\n","vs:#main-end":"vTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n","fs:#decl":"uniform float trailLength;\nuniform float currentTime;\nvarying float vTime;\n","fs:#main-start":"if(vTime > currentTime || vTime < currentTime - trailLength) {\n  discard;\n}\n","fs:DECKGL_FILTER_COLOR":"color.a *= 1.0 - (currentTime - vTime) / trailLength;"},e}},{key:"initializeState",value:function(e){Object(dt.a)(Object(l.a)(n.prototype),"initializeState",this).call(this,e),this.getAttributeManager().addInstanced({timestamps:{size:1,accessor:"getTimestamps",shaderAttributes:{instanceTimestamps:{vertexOffset:0},instanceNextTimestamps:{vertexOffset:1}}}})}},{key:"draw",value:function(e){var t=this.props,r=t.trailLength,i=t.currentTime;e.uniforms=Object.assign({},e.uniforms,{trailLength:r,currentTime:i}),Object(dt.a)(Object(l.a)(n.prototype),"draw",this).call(this,e)}}]),n}(n("ctuC").a);vt.layerName="TripsLayer",vt.defaultProps={trailLength:{type:"number",value:120,min:0},currentTime:{type:"number",value:0,min:0},getTimestamps:{type:"accessor",value:null}};var yt=n("914O"),mt=n("rpwb");function bt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var Ct=Object.assign({getHexagons:{type:"accessor",value:function(e){return e.hexagons}}},d.a.defaultProps),_t=function(e){Object(c.a)(n,e);var t=It(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"updateState",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggers&&n.updateTriggers.getHexagons){var r,i=t.data,o=t.getHexagons,a=[],s=Object(mt.a)(i),c=s.iterable,u=s.objectInfo,l=bt(c);try{for(l.s();!(r=l.n()).done;){var A=r.value;u.index++;var f,h=o(A,u),g=bt(Object(yt.g)(h,!0));try{for(g.s();!(f=g.n()).done;){var d=f.value;a.push(this.getSubLayerRow({polygon:d},A,u.index))}}catch(p){g.e(p)}finally{g.f()}}}catch(p){l.e(p)}finally{l.f()}this.setState({polygons:a})}}},{key:"renderLayers",value:function(){var e=this.props,t=e.elevationScale,n=e.extruded,r=e.wireframe,i=e.filled,o=e.stroked,a=e.lineWidthScale,s=e.lineWidthMinPixels,c=e.lineWidthMaxPixels,u=e.lineJointRounded,l=e.lineMiterLimit,A=e.lineDashJustified,f=e.material,h=e.getFillColor,g=e.getLineColor,p=e.getLineWidth,v=e.getLineDashArray,y=e.getElevation,m=e.updateTriggers;return new(this.getSubLayerClass("cluster-region",d.a))({filled:i,wireframe:r,extruded:n,elevationScale:t,stroked:o,lineWidthScale:a,lineWidthMinPixels:s,lineWidthMaxPixels:c,lineJointRounded:u,lineMiterLimit:l,lineDashJustified:A,material:f,getFillColor:this.getSubLayerAccessor(h),getLineColor:this.getSubLayerAccessor(g),getLineWidth:this.getSubLayerAccessor(p),getLineDashArray:this.getSubLayerAccessor(v),getElevation:this.getSubLayerAccessor(y)},this.getSubLayerProps({id:"cluster-region",updateTriggers:m}),{data:this.state.polygons,getPolygon:function(e){return e.polygon}})}}]),n}(g.a);_t.defaultProps=Ct,_t.layerName="H3ClusterLayer";var Bt=n("U8pU"),wt=n("c9N0"),Ot=n("XQ+Y");function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function xt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){t=void 0===t?e[0][0]:t;var n,r=xt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i[0]-t;o>180?i[0]-=360:o<-180&&(i[0]+=360)}}catch(a){r.e(a)}finally{r.f()}}function Qt(e,t,n){var r=Object(yt.h)(e),i=Object(p.a)(r,2),o=i[0],a=i[1],s=t.length;Tt(t,a);for(var c=t[0]===t[s-1]?s-1:s,u=0;u<c;u++)t[u][0]=Object(wt.h)(a,t[u][0],n),t[u][1]=Object(wt.h)(o,t[u][1],n)}function Pt(e,t,n){var r=e(t,n),i=Object(yt.h)(r),o=Object(p.a)(i,2),a=o[0];return[o[1],a]}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=Object(yt.i)(e,!0);if(1!==t?Qt(e,r,t):Tt(r),n){var i,o=new Float64Array(2*r.length),a=0,s=xt(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;o[a++]=c[0],o[a++]=c[1]}}catch(u){s.e(u)}finally{s.f()}return o}return r}var Lt=Object.assign({},d.a.defaultProps,{highPrecision:!1,coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:function(e){return e.hexagon}},extruded:!0});delete Lt.getLineDashArray;var Nt=function(e){Object(c.a)(n,e);var t=St(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"shouldUpdateState",value:function(e){var t=e.changeFlags;return this._shouldUseHighPrecision()?t.propsOrDataChanged:t.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggers&&n.updateTriggers.getHexagon){var r,i=-1,o=!1,a=!1,s=Object(mt.a)(t.data),c=s.iterable,u=s.objectInfo,l=xt(c);try{for(l.s();!(r=l.n()).done;){var A=r.value;u.index++;var f=t.getHexagon(A,u),h=Object(yt.e)(f);if(i<0)i=h;else if(i!==h){a=!0;break}if(Object(yt.f)(f)){o=!0;break}}}catch(g){l.e(g)}finally{l.f()}this.setState({resolution:i,edgeLengthKM:i>=0?Object(yt.b)(i,yt.a.km):0,hasMultipleRes:a,hasPentagon:o})}this._updateVertices(this.context.viewport)}},{key:"_shouldUseHighPrecision",value:function(){var e=this.state,t=e.resolution,n=e.hasPentagon,r=e.hasMultipleRes;return this.props.highPrecision||r||n||t>=0&&t<=5}},{key:"_updateVertices",value:function(e){if(!this._shouldUseHighPrecision()){var t=this.state,n=t.resolution,r=t.edgeLengthKM,i=t.centerHex;if(!(n<0)){var o=this.props.centerHexagon||Object(yt.c)(e.latitude,e.longitude,n);if(i!==o){if(i){var a=Object(yt.d)(i,o);if(a>=0&&a*r<10)return}var s=e.distanceScales.unitsPerMeter,c=Mt(o),u=Object(yt.h)(o),l=Object(p.a)(u,2),A=l[0],f=l[1],h=e.projectFlat([f,A]),g=Object(p.a)(h,2),d=g[0],v=g[1];c=c.map((function(t){var n=e.projectFlat(t);return n[0]=(n[0]-d)/s[0],n[1]=(n[1]-v)/s[1],n})),this.setState({centerHex:o,vertices:c})}}}}},{key:"renderLayers",value:function(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}},{key:"_getForwardProps",value:function(){var e=this.props,t=e.elevationScale,n=e.material,r=e.coverage,i=e.extruded,o=e.wireframe,a=e.stroked,s=e.filled,c=e.lineWidthUnits,u=e.lineWidthScale,l=e.lineWidthMinPixels,A=e.lineWidthMaxPixels,f=e.getFillColor,h=e.getElevation,g=e.getLineColor,d=e.getLineWidth,p=e.updateTriggers;return{elevationScale:t,extruded:i,coverage:r,wireframe:o,stroked:a,filled:s,lineWidthUnits:c,lineWidthScale:u,lineWidthMinPixels:l,lineWidthMaxPixels:A,material:n,getElevation:h,getFillColor:f,getLineColor:g,getLineWidth:d,updateTriggers:{getFillColor:p.getFillColor,getElevation:p.getElevation,getLineColor:p.getLineColor,getLineWidth:p.getLineWidth}}}},{key:"_renderPolygonLayer",value:function(){var e=this.props,t=e.data,n=e.getHexagon,r=e.updateTriggers,i=e.coverage,o=this.getSubLayerClass("hexagon-cell-hifi",d.a),a=this._getForwardProps();return a.updateTriggers.getPolygon=function(e,t){return void 0===e||null===e?t:"object"===Object(Bt.a)(e)?Object.assign({},e,{coverage:t}):{getHexagon:e,coverage:t}}(r.getHexagon,i),new o(a,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:a.updateTriggers}),{data:t,_normalize:!1,positionFormat:"XY",getPolygon:function(e,t){return Mt(n(e,t),i,!0)}})}},{key:"_renderColumnLayer",value:function(){var e=this.props,t=e.data,n=e.getHexagon,r=e.updateTriggers,i=this.getSubLayerClass("hexagon-cell",Ot.a),o=this._getForwardProps();return o.updateTriggers.getPosition=r.getHexagon,new i(o,this.getSubLayerProps({id:"hexagon-cell",updateTriggers:o.updateTriggers}),{data:t,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:Pt.bind(null,n)})}}]),n}(g.a);Nt.defaultProps=Lt,Nt.layerName="H3HexagonLayer";var kt=n("0i8A"),Dt=n("V3d6"),jt=n("FR1t"),Ft=n("K4gp"),Ut=n("BQ9P"),Gt=n("K7jV"),zt=n("iein"),Vt=n("+Jdq"),Ht=n("VdrS"),Yt=n("CxzY"),qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e);var n=t.id;this.id=n||Object(Ht.c)(this.constructor.name),this.display=!0,this.position=new wt.d,this.rotation=new wt.d,this.scale=new wt.d(1,1,1),this.matrix=new wt.a,this.userData={},this.props={},this._setScenegraphNodeProps(t)}return Object(h.a)(e,[{key:"delete",value:function(){}},{key:"setProps",value:function(e){return this._setScenegraphNodeProps(e),this}},{key:"toString",value:function(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}},{key:"setPosition",value:function(e){return Object(Yt.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this}},{key:"setRotation",value:function(e){return Object(Yt.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}},{key:"setScale",value:function(e){return Object(Yt.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this}},{key:"setMatrix",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.matrix.copy(e):this.matrix=e}},{key:"setMatrixComponents",value:function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,o=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),o&&this.updateMatrix(),this}},{key:"updateMatrix",value:function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=e.rotation,r=e.scale;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}},{key:"getCoordinateUniforms",value:function(e,t){Object(Yt.a)(e),t=t||this.matrix;var n=new wt.a(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}}},{key:"_setScenegraphNodeProps",value:function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}]),e}(),Kt=n("sc/6"),Wt=n("T2Hy"),Jt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,t);var r=n=Array.isArray(n)?{children:n}:n,i=r.children,o=void 0===i?[]:i;return zt.h.assert(o.every((function(e){return e instanceof qt})),"every child must an instance of ScenegraphNode"),(e=Object(u.a)(this,Object(l.a)(t).call(this,n))).children=o,e}return Object(c.a)(t,e),Object(h.a)(t,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];Array.isArray(o)?this.add.apply(this,Object(W.a)(o)):this.children.push(o)}return this}},{key:"remove",value:function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this}},{key:"removeAll",value:function(){return this.children=[],this}},{key:"delete",value:function(){this.children.forEach((function(e){return e.delete()})),this.removeAll(),Object(dt.a)(Object(l.a)(t.prototype),"delete",this).call(this)}},{key:"traverse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.worldMatrix,i=void 0===r?new wt.a:r,o=new wt.a(i).multiplyRight(this.matrix),a=!0,s=!1,c=void 0;try{for(var u,l=this.children[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var A=u.value;A instanceof t?A.traverse(e,{worldMatrix:o}):e(A,{worldMatrix:o})}}catch(f){s=!0,c=f}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}}}]),t}(qt),Xt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Zt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function $t(e){if(!e._animation){var t=Zt[e.componentType],n=Xt[e.type],r=n*e.count,i=e.bufferView.data,o=new t(i.buffer,i.byteOffset+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(o);else{for(var a=[],s=0;s<o.length;s+=n)a.push(Array.from(o.slice(s,s+n)));e._animation=a}}return e._animation}var en=new wt.a;var tn=new wt.b;function nn(e,t,n,r){var i=t.input,o=t.interpolation,a=t.output,s=e%i[i.length-1],c=i.findIndex((function(e){return e>=s})),u=Math.max(0,c-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:zt.h.warn("Bad animation path ".concat(r))()}Object(Yt.a)(n[r].length===a[u].length);var l=i[u],A=i[c];switch(o){case"STEP":!function(e,t,n){for(var r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,a[u]);break;case"LINEAR":if(A>l){var f=(s-l)/(A-l);!function(e,t,n,r,i){if("rotation"===t){tn.slerp({start:n,target:r,ratio:i});for(var o=0;o<tn.length;o++)e[t][o]=tn[o]}else for(var a=0;a<n.length;a++)e[t][a]=i*r[a]+(1-i)*n[a]}(n,r,a[u],a[c],f)}break;case"CUBICSPLINE":if(A>l){var h=(s-l)/(A-l),g=A-l;!function(e,t,n){for(var r=n.p0,i=n.outTangent0,o=n.inTangent1,a=n.p1,s=n.tDiff,c=n.ratio,u=0;u<e[t].length;u++){var l=i[u]*s,A=o[u]*s;e[t][u]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*r[u]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*l+(-2*Math.pow(c,3)+3*Math.pow(c,2))*a[u]+(Math.pow(c,3)-Math.pow(c,2))*A}}(n,r,{p0:a[3*u+1],outTangent0:a[3*u+2],inTangent1:a[3*c+0],p1:a[3*c+1],tDiff:g,ratio:h})}break;default:zt.h.warn("Interpolation ".concat(o," not supported"))()}}var rn=function(){function e(t){Object(s.a)(this,e),this.startTime=0,this.playing=!0,this.speed=1,Object.assign(this,t)}return Object(h.a)(e,[{key:"animate",value:function(e){if(this.playing){var t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((function(e){var n=e.sampler,r=e.target,i=e.path;nn(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){var n=en.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}}}]),e}(),on=function(){function e(t){Object(s.a)(this,e),this.animations=t.animations.map((function(e,n){var r=e.name||"Animation-".concat(n),i=e.samplers.map((function(e){var n=e.input,r=e.interpolation,i=void 0===r?"LINEAR":r,o=e.output;return{input:$t(t.accessors[n]),interpolation:i,output:$t(t.accessors[o])}})),o=e.channels.map((function(e){var n=e.sampler,r=e.target;return{sampler:i[n],target:t.nodes[r.node],path:r.path}}));return new rn({name:r,channels:o})}))}return Object(h.a)(e,[{key:"animate",value:function(e){this.setTime(e)}},{key:"setTime",value:function(e){this.animations.forEach((function(t){return t.animate(e)}))}},{key:"getAnimations",value:function(){return this.animations}}]),e}(),an=n("ykdB"),sn=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,r))).onBeforeRender=null,n.AfterRender=null,e instanceof an.a?(n.model=e,n._setModelNodeProps(r)):n.model=new an.a(e,r),n.managedResources=r.managedResources||[],n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"setProps",value:function(e){return Object(dt.a)(Object(l.a)(t.prototype),"setProps",this).call(this,e),this._setModelNodeProps(e),this}},{key:"delete",value:function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((function(e){return e.delete()})),this.managedResources=[]}},{key:"draw",value:function(){var e;return(e=this.model).draw.apply(e,arguments)}},{key:"setUniforms",value:function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this}},{key:"setAttributes",value:function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this}},{key:"updateModuleSettings",value:function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this}},{key:"_setModelNodeProps",value:function(e){this.model.setProps(e)}}]),t}(qt),cn=n("d3kR"),un=n("tMmZ"),ln=n("f5Sf"),An=function(){function e(t,n){var r=n.attributes,i=n.material,o=n.pbrDebug,a=n.imageBasedLightingEnvironment,c=n.lights,u=n.useTangents;Object(s.a)(this,e),this.gl=t,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Object(cn.b)(t,un.a.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(r.NORMAL,"HAS_NORMALS"),this.defineIfPresent(r.TANGENT&&u,"HAS_TANGENTS"),this.defineIfPresent(r.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(c,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),i&&this.parseMaterial(i)}return Object(h.a)(e,[{key:"defineIfPresent",value:function(e,t){e&&(this.defines[t]=1)}},{key:"parseTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},i=new ln.a(this.gl,{id:e.name||e.id,parameters:r,pixelStore:Object(T.a)({},this.gl.UNPACK_FLIP_Y_WEBGL,!1),data:e.texture.source.image});this.uniforms[t]=i,this.defineIfPresent(n,n),this.generatedTextures.push(i)}},{key:"parsePbrMetallicRoughness",value:function(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");var t=e.metallicFactor,n=void 0===t?1:t,r=e.roughnessFactor,i=void 0===r?1:r;this.uniforms.u_MetallicRoughnessValues=[n,i]}},{key:"parseMaterial",value:function(e){if(this.uniforms.pbr_uUnlit=Boolean(e.unlit),e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");var t=e.normalTexture.scale,n=void 0===t?1:t;this.uniforms.u_NormalScale=n}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");var r=e.occlusionTexture.strength,i=void 0===r?1:r;this.uniforms.u_OcclusionStrength=i}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){var o=e.alphaCutoff,a=void 0===o?.5:o;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=a}else"BLEND"===e.alphaMode&&(zt.h.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}}]),e}();function fn(e,t){return Object(zt.g)(e)?"#version 300 es\n".concat(t):t}var hn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gn={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1},dn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,e),this.gl=t,this.options=Object.assign({},gn,n)}return Object(h.a)(e,[{key:"instantiate",value:function(e){var t=this;return this.gltf=e,(e.scenes||[]).map((function(e){return t.createScene(e)}))}},{key:"createAnimator",value:function(){return Array.isArray(this.gltf.animations)?new on(this.gltf):null}},{key:"createScene",value:function(e){var t=this,n=(e.nodes||[]).map((function(e){return t.createNode(e)}));return new Jt({id:e.name||e.id,children:n})}},{key:"createNode",value:function(e){var t=this;if(!e._node){var n=(e.children||[]).map((function(e){return t.createNode(e)}));e.mesh&&n.push(this.createMesh(e.mesh));var r=new Jt({id:e.name||e.id,children:n});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){var i=(new wt.a).fromQuaternion(e.rotation);r.matrix.multiplyRight(i)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}},{key:"createMesh",value:function(e){var t=this;if(!e._mesh){var n=(e.primitives||[]).map((function(n,r){return t.createPrimitive(n,r,e)})),r=new Jt({id:e.name||e.id,children:n});e._mesh=r}return e._mesh}},{key:"getVertexCount",value:function(e){zt.h.warn("getVertexCount() not found")()}},{key:"createPrimitive",value:function(e,t,n){return function(e,t){var n=t.id,r=t.drawMode,i=t.vertexCount,o=t.attributes,a=t.modelOptions,s=new An(e,t);zt.h.info(4,"createGLTFModel defines: ",s.defines)();var c=[];c.push.apply(c,Object(W.a)(s.generatedTextures)),c.push.apply(c,Object(W.a)(Object.values(o).map((function(e){return e.buffer}))));var u=new sn(e,Object.assign({id:n,drawMode:r,vertexCount:i,modules:[Vt.a],defines:s.defines,parameters:s.parameters,vs:fn(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:fn(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c},a));return u.setProps({attributes:o}),u.setUniforms(s.uniforms),u}(this.gl,Object.assign({id:e.name||"".concat(n.name||n.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options))}},{key:"createAttributes",value:function(e,t){var n=this,r={};return Object.keys(e).forEach((function(t){r[t]=n.createAccessor(e[t],n.createBuffer(e[t],n.gl.ARRAY_BUFFER))})),t&&(r.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),zt.h.info(4,"glTF Attributes",{attributes:e,indices:t,generated:r})(),r}},{key:"createBuffer",value:function(e,t){e.bufferView||(e.bufferView={});var n=e.bufferView;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new Kt.a(this.gl,{id:"from-".concat(n.id),data:n.data||e.value,target:t})),n.lumaBuffers[t]}},{key:"createAccessor",value:function(e,t){return new Wt.a({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:hn[e.type]})}},{key:"createSampler",value:function(e){return e}},{key:"needsPOT",value:function(){return!1}}]),e}();function pn(){return(pn=Object(k.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.scenes.forEach((function(e){e.traverse((function(e){Object.values(e.model.getUniforms()).forEach((function(e){!1===e.loaded&&n.push(e)}))}))})),e.next=4,vn((function(){return n.some((function(e){return!e.loaded}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e){return yn.apply(this,arguments)}function yn(){return(yn=Object(k.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()){e.next=5;break}return e.next=3,new Promise((function(e){return requestAnimationFrame(e)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En=Math.PI/180,In=new Float32Array(16),Cn=new Float32Array(12);function _n(e,t,n){var r=t[0]*En,i=t[1]*En,o=t[2]*En,a=Math.sin(o),s=Math.sin(r),c=Math.sin(i),u=Math.cos(o),l=Math.cos(r),A=Math.cos(i),f=n[0],h=n[1],g=n[2];e[0]=f*A*l,e[1]=f*c*l,e[2]=f*-s,e[3]=h*(-c*u+A*s*a),e[4]=h*(A*u+c*s*a),e[5]=h*l*a,e[6]=g*(c*a+A*s*u),e[7]=g*(-A*a+c*s*u),e[8]=g*l*u}function Bn(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}var wn={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update:function(e,t){var n=t.startRow,r=t.endRow,i=this.props,o=i.data,a=i.getOrientation,s=i.getScale,c=i.getTranslation,u=i.getTransformMatrix,l=Array.isArray(u),A=l&&16===u.length,f=Array.isArray(s),h=Array.isArray(a),g=Array.isArray(c),d=A||!l&&Boolean(u(o[0]));e.constant=d?A:h&&f&&g;var p=e.value;if(e.constant){var v;if(d)In.set(u),v=Bn(In);else _n(v=Cn,a,s),v.set(c,9);e.value=new Float32Array(v)}else{var y,m=n*e.size,b=Object(mt.a)(o,n,r),E=b.iterable,I=b.objectInfo,C=mn(E);try{for(C.s();!(y=C.n()).done;){var _=y.value;I.index++;var B=void 0;if(d)In.set(A?u:u(_,I)),B=Bn(In);else _n(B=Cn,h?a:a(_,I),f?s:s(_,I)),B.set(g?c:c(_,I),9);p[m++]=B[0],p[m++]=B[1],p[m++]=B[2],p[m++]=B[3],p[m++]=B[4],p[m++]=B[5],p[m++]=B[6],p[m++]=B[7],p[m++]=B[8],p[m++]=B[9],p[m++]=B[10],p[m++]=B[11]}}catch(w){C.e(w)}finally{C.f()}}}};function On(e,t){return t===Dt.a.CARTESIAN||t===Dt.a.METER_OFFSETS||t===Dt.a.DEFAULT&&!e.isGeospatial}function Sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var xn=[255,255,255,255],Rn={scenegraph:{type:"object",value:null,async:!0},getScene:function(e){return e&&e.scenes?"object"===Object(Bt.a)(e.scene)?e.scene:e.scenes[e.scene||0]:e},getAnimator:function(e){return e&&e.animator},_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:xn},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}},Tn=function(e){Object(c.a)(n,e);var t=Sn(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:xn,transition:!0},instanceModelMatrix:wn})}},{key:"updateState",value:function(e){Object(dt.a)(Object(l.a)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps;t.scenegraph!==r.scenegraph?this._updateScenegraph(t):t._animations!==r._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}},{key:"finalizeState",value:function(){Object(dt.a)(Object(l.a)(n.prototype),"finalizeState",this).call(this),this._deleteScenegraph()}},{key:"_updateScenegraph",value:function(e){var t,n=this,r=this.context.gl;if(e.scenegraph instanceof qt)t={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){var i=e.scenegraph,o=function(e,t,n){var r=new dn(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}(r,i,this.getLoadOptions());t=Object.assign({gltf:i},o),function(e){return pn.apply(this,arguments)}(o).then((function(){return n.setNeedsRedraw()}))}else D.a.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),t=e.scenegraph;var a={layer:this,gl:r},s=e.getScene(t,a),c=e.getAnimator(t,a);s instanceof qt?(this._deleteScenegraph(),this._applyAllAttributes(s),this._applyAnimationsProp(s,c,e._animations),this.setState({scenegraph:s,animator:c})):null!==s&&D.a.warn("invalid scenegraph:",s)()}},{key:"_applyAllAttributes",value:function(e){var t=this;if(this.state.attributesAvailable){var n=this.getAttributeManager().getAttributes();e.traverse((function(e){t._setModelAttributes(e.model,n)}))}}},{key:"_applyAnimationsProp",value:function(e,t,n){if(e&&t&&n){var r=t.getAnimations();Object.keys(n).sort().forEach((function(e){var t=n[e];if("*"===e)r.forEach((function(e){Object.assign(e,t)}));else if(Number.isFinite(Number(e))){var i=Number(e);i>=0&&i<r.length?Object.assign(r[i],t):D.a.warn("animation ".concat(e," not found"))()}else{var o=r.find((function(t){return t.name===e}));o?Object.assign(o,t):D.a.warn("animation ".concat(e," not found"))()}}))}}},{key:"_deleteScenegraph",value:function(){var e=this.state.scenegraph;e instanceof qt&&e.delete()}},{key:"getLoadOptions",value:function(){var e=[Ft.a,Ut.a],t=this.props,n=t._lighting,r=t._imageBasedLightingEnvironment;"pbr"===n&&e.push(Vt.a);var i=null;return r&&(i="function"===typeof r?r({gl:this.context.gl,layer:this}):r),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:i,modelOptions:{vs:"#version 300 es\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      pbr_vNormal = project_normal(instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz);\n      geometry.normal = pbr_vNormal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\nuniform float opacity;\nin vec4 vColor;\n\nout vec4 fragmentColor;\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e,isInstanced:!0,transpileToGLSL100:!Object(zt.g)(this.context.gl)},useTangents:!1}}},{key:"updateAttributes",value:function(e){var t=this;this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((function(n){t._setModelAttributes(n.model,e)}))}},{key:"draw",value:function(e){var t=e.moduleParameters,n=void 0===t?null:t,r=e.parameters,i=void 0===r?{}:r,o=e.context;if(this.state.scenegraph){this.props._animations&&this.state.animator&&(this.state.animator.animate(o.timeline.getTime()),this.setNeedsRedraw());var a=this.context.viewport,s=this.props,c=s.sizeScale,u=s.sizeMinPixels,l=s.sizeMaxPixels,A=s.opacity,f=s.coordinateSystem,h=this.getNumInstances();this.state.scenegraph.traverse((function(e,t){var r=t.worldMatrix;e.model.setInstanceCount(h),e.updateModuleSettings(n),e.draw({parameters:i,uniforms:{sizeScale:c,opacity:A,sizeMinPixels:u,sizeMaxPixels:l,composeModelMatrix:On(a,f),sceneModelMatrix:r,u_Camera:e.model.getUniforms().project_uCameraPosition}})}))}}}]),n}(Gt.a);Tn.layerName="ScenegraphLayer",Tn.defaultProps=Rn;var Qn=n("91Zk");function Pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function Mn(e,t){(e.COLOR_0||e.colors)&&t||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),D.a.assert(e.positions||e.POSITION,'SimpleMeshLayer requires "postions" or "POSITION" attribute in mesh property.')}function Ln(e,t){if(e.attributes)return Mn(e.attributes,t),e instanceof kt.a?e:new kt.a(e);if(e.positions||e.POSITION)return Mn(e,t),new kt.a({attributes:e});throw Error("Invalid mesh")}var Nn={mesh:{value:null,type:"object",async:!0},texture:{type:"object",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},parameters:{depthTest:!0,depthFunc:515},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}},kn=function(e){Object(c.a)(n,e);var t=Pn(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getShaders",value:function(){var e=!Object(zt.g)(this.context.gl),t={};return Object(cn.b)(this.context.gl,un.a.GLSL_DERIVATIVES)&&(t.DERIVATIVES_AVAILABLE=1),Object(dt.a)(Object(l.a)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n  geometry.normal = normals_commonspace;\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n  }\n\n  geometry.position = position_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[Ft.a,Qn.b,Ut.a],transpileToGLSL100:e,defines:t})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:wn}),this.setState({emptyTexture:new ln.a(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(dt.a)(Object(l.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),t.mesh!==r.mesh||i.extensionsChanged){if(this.state.model&&this.state.model.delete(),t.mesh){this.setState({model:this.getModel(t.mesh)});var o=t.mesh.attributes||t.mesh;this.setState({hasNormals:Boolean(o.NORMAL||o.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==r.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}},{key:"finalizeState",value:function(){Object(dt.a)(Object(l.a)(n.prototype),"finalizeState",this).call(this),this.state.emptyTexture.delete(),this.state.texture&&this.state.texture.delete()}},{key:"draw",value:function(e){var t=e.uniforms;if(this.state.model){var n=this.context.viewport,r=this.props,i=r.sizeScale,o=r.coordinateSystem,a=r._instanced;this.state.model.draw({uniforms:Object.assign({},t,{sizeScale:i,composeModelMatrix:!a||On(n,o),flatShading:!this.state.hasNormals})})}}},{key:"getModel",value:function(e){var t=new an.a(this.context.gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:Ln(e,this.props._useMeshColors),isInstanced:!0})),n=this.state,r=n.texture,i=n.emptyTexture;return t.setUniforms({sampler:r||i,hasTexture:Boolean(r)}),t}},{key:"setTexture",value:function(e){var t=this.context.gl,n=this.state,r=n.emptyTexture,i=n.model;this.state.texture&&this.state.texture.delete();var o=e?function(e,t,n){return t instanceof ln.a?t:new ln.a(e,Object.assign({data:t},n))}(t,e):null;this.setState({texture:o}),i&&i.setUniforms({sampler:o||r,hasTexture:Boolean(o)})}}]),n}(Gt.a);kn.layerName="SimpleMeshLayer",kn.defaultProps=Nn;var Dn=n("n+fv"),jn=(Math.max(6378137,6378137,6356752.314245179),function(e){return e}),Fn=new U.a;function Un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn;return Object(me.f)(e)?(t[0]=n(e[0]),t[1]=n(e[1]),t[2]=e[2]):"longitude"in e?(t[0]=n(e.longitude),t[1]=n(e.latitude),t[2]=e.height):(t[0]=n(e.x),t[1]=n(e.y),t[2]=e.z),t}function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn;return Un(e,t,me.b._cartographicRadians?jn:me.j)}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn;return Object(me.f)(t)?(t[0]=n(e[0]),t[1]=n(e[1]),t[2]=e[2]):"longitude"in t?(t.longitude=n(e[0]),t.latitude=n(e[1]),t.height=e[2]):(t.x=n(e[0]),t.y=n(e[1]),t.z=e[2]),t}function Vn(e,t){return zn(e,t,me.b._cartographicRadians?jn:me.i)}var Hn=new U.a,Yn=new U.a,qn=new U.a;var Kn=new U.a,Wn={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},Jn={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Xn={east:new U.a,north:new U.a,up:new U.a,west:new U.a,south:new U.a,down:new U.a},Zn=new U.a,$n=new U.a,er=new U.a;function tr(e,t,n,r,i,o){var a,s,c,u=Wn[t]&&Wn[t][n];Object(ye.a)(u&&(!r||r===u));var l=Kn.copy(i);if(Object(me.d)(l.x,0,1e-14)&&Object(me.d)(l.y,0,1e-14)){var A=Math.sign(l.z);a=Zn.fromArray(Jn[t]),"east"!==t&&"west"!==t&&a.scale(A),s=$n.fromArray(Jn[n]),"east"!==n&&"west"!==n&&s.scale(A),c=er.fromArray(Jn[r]),"east"!==r&&"west"!==r&&c.scale(A)}else{var f=Xn.up,h=Xn.east,g=Xn.north;h.set(-l.y,l.x,0).normalize(),e.geodeticSurfaceNormal(l,f),g.copy(f).cross(h);var d=Xn.west,p=Xn.south;Xn.down.copy(f).scale(-1),d.copy(h).scale(-1),p.copy(g).scale(-1),a=Xn[t],s=Xn[n],c=Xn[r]}return o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=0,o[4]=s.x,o[5]=s.y,o[6]=s.z,o[7]=0,o[8]=c.x,o[9]=c.y,o[10]=c.z,o[11]=0,o[12]=l.x,o[13]=l.y,o[14]=l.z,o[15]=1,o}var nr,rr=new U.a,ir=new U.a,or=new U.a,ar=new U.a,sr=new U.a,cr=new U.a,ur=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(s.a)(this,e),Object(ye.a)(t>=0),Object(ye.a)(n>=0),Object(ye.a)(r>=0),this.radii=new U.a(t,n,r),this.radiiSquared=new U.a(t*t,n*n,r*r),this.radiiToTheFourth=new U.a(t*t*t*t,n*n*n*n,r*r*r*r),this.oneOverRadii=new U.a(0===t?0:1/t,0===n?0:1/n,0===r?0:1/r),this.oneOverRadiiSquared=new U.a(0===t?0:1/(t*t),0===n?0:1/(n*n),0===r?0:1/(r*r)),this.minimumRadius=Math.min(t,n,r),this.maximumRadius=Math.max(t,n,r),this.centerToleranceSquared=Ge.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}return Object(h.a)(e,null,[{key:"WGS84",get:function(){return nr=nr||new e(6378137,6378137,6356752.314245179)}}]),Object(h.a)(e,[{key:"equals",value:function(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}},{key:"toString",value:function(){return this.radii.toString()}},{key:"cartographicToCartesian",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=ir,r=or,i=Object(p.a)(e,3),o=i[2];this.geodeticSurfaceNormalCartographic(e,n),r.copy(this.radiiSquared).scale(n);var a=Math.sqrt(n.dot(r));return r.scale(1/a),n.scale(o),r.add(n),r.to(t)}},{key:"cartesianToCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];cr.from(e);var n=this.scaleToGeodeticSurface(cr,ar);if(n){var r=this.geodeticSurfaceNormal(n,ir),i=sr;i.copy(cr).subtract(n);var o=Math.atan2(r.y,r.x),a=Math.asin(r.z),s=Math.sign(Dn.d(i,cr))*Dn.g(i);return Vn([o,a,s],t)}}},{key:"eastNorthUpToFixedFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xe.a;return tr(this,"east","north","up",e,t)}},{key:"localFrameToFixedFrame",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new xe.a;return tr(this,e,t,n,r,i)}},{key:"geocentricSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return rr.from(e).normalize().to(t)}},{key:"geodeticSurfaceNormalCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=Gn(e),r=n[0],i=n[1],o=Math.cos(i);return rr.set(o*Math.cos(r),o*Math.sin(r),Math.sin(i)).normalize(),rr.to(t)}},{key:"geodeticSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return rr.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}},{key:"scaleToGeodeticSurface",value:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new U.a,r=t.oneOverRadii,i=t.oneOverRadiiSquared,o=t.centerToleranceSquared;Hn.from(e);var a=e.x,s=e.y,c=e.z,u=r.x,l=r.y,A=r.z,f=a*a*u*u,h=s*s*l*l,g=c*c*A*A,d=f+h+g,p=Math.sqrt(1/d);if(Number.isFinite(p)){var v=Yn;if(v.copy(e).scale(p),d<o)return v.to(n);var y=i.x,m=i.y,b=i.z,E=qn;E.set(v.x*y*2,v.y*m*2,v.z*b*2);var I,C,_,B,w=(1-p)*e.len()/(.5*E.len()),O=0;do{var S=(I=1/(1+(w-=O)*y))*I,x=(C=1/(1+w*m))*C,R=(_=1/(1+w*b))*_;O=(B=f*S+h*x+g*R-1)/(-2*(f*(S*I)*y+h*(x*C)*m+g*(R*_)*b))}while(Math.abs(B)>Ge.a.EPSILON12);return Hn.scale([I,C,_]).to(n)}}(e,this,t)}},{key:"scaleToGeocentricSurface",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];ar.from(e);var n=ar.x,r=ar.y,i=ar.z,o=this.oneOverRadiiSquared,a=1/Math.sqrt(n*n*o.x+r*r*o.y+i*i*o.z);return ar.multiplyScalar(a).to(t)}},{key:"transformPositionToScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return ar.from(e).scale(this.oneOverRadii).to(t)}},{key:"transformPositionFromScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return ar.from(e).scale(this.radii).to(t)}},{key:"getSurfaceNormalIntersectionWithZAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];Object(ye.a)(Object(me.d)(this.radii.x,this.radii.y,Ge.a.EPSILON15)),Object(ye.a)(this.radii.z>0),ar.from(e);var r=ar.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(r)>=this.radii.z-t))return ar.set(0,0,r).to(n)}}]),e}(),lr=n("laie"),Ar=n("FR20"),fr=n("qjAD"),hr=function e(t,n,r){Object(s.a)(this,e),this.item=t,this.previous=n,this.next=r},gr=function(){function e(){Object(s.a)(this,e),this.head=null,this.tail=null,this._length=0}return Object(h.a)(e,[{key:"add",value:function(e){var t=new hr(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var n=e.next;e.next=t,this.tail===e?this.tail=t:n.previous=t,t.next=n,t.previous=e,++this._length}},{key:"length",get:function(){return this._length}}]),e}();function dr(e){return void 0!==e&&null!==e}var pr=function(){function e(){Object(s.a)(this,e),this._list=new gr,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}return Object(h.a)(e,[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;dr(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,n){dr(t._cacheNode)||(t._cacheNode=this._list.add(t),n&&n(e,t))}},{key:"unloadTile",value:function(e,t,n){var r=t._cacheNode;dr(r)&&(this._list.remove(r),t._cacheNode=void 0,n&&n(e,t))}},{key:"unloadTiles",value:function(e,t){var n=this._trimTiles;this._trimTiles=!1;for(var r=this._list,i=1024*e.maximumMemoryUsage*1024,o=this._sentinel,a=r.head;a!==o&&(e.gpuMemoryUsageInBytes>i||n);){var s=a.item;a=a.next,this.unloadTile(e,s,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}]),e}();var vr=new U.a,yr=new U.a,mr=new Se([new Ie,new Ie,new Ie,new Ie,new Ie,new Ie]);function br(e,t){var n=e.cameraDirection,r=e.cameraUp,i=e.height,o=e.distanceScales.metersPerUnit,a=[e.longitude,e.latitude,0],s=ur.WGS84.cartographicToCartesian(a,new U.a),c=ur.WGS84.eastNorthUpToFixedFrame(s),u=e.unprojectPosition(e.cameraPosition),l=ur.WGS84.cartographicToCartesian(u,new U.a),A=new U.a(c.transformAsVector(new U.a(n).scale(o))).normalize(),f=new U.a(c.transformAsVector(new U.a(r).scale(o))).normalize();return function(e,t){var n=e.getFrustumPlanes(),r=0;for(var i in n){var o=n[i],a=o.normal.dot(e.center);yr.copy(o.normal).scale(o.distance-a).add(e.center);var s=e.unprojectPosition(yr),c=ur.WGS84.cartographicToCartesian(s,new U.a);mr.planes[r++].fromPointNormal(c,vr.copy(t).subtract(c))}}(e,s),{camera:{position:l,direction:A,up:f},viewport:e,height:i,cullingVolume:mr,frameNumber:t,sseDenominator:1.15}}var Er=new U.a;var Ir=0,Cr=1,_r=3,Br=4,wr=5,Or=1,Sr=2,xr="empty",Rr="scenegraph",Tr="pointcloud",Qr="mesh",Pr="I3S",Mr="TILES3D",Lr="geometricError",Nr=1;function kr(e){return void 0!==e&&null!==e}var Dr=new U.a,jr=new U.a,Fr=new U.a;new xe.a;function Ur(e,t,n){if(Object(Ar.a)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,n){var r=new U.a(e[0],e[1],e[2]);t.transform(r,r);var i=t.transformAsVector(e.slice(3,6)),o=t.transformAsVector(e.slice(6,9)),a=t.transformAsVector(e.slice(9,12)),s=new J.a([i[0],i[1],i[2],o[0],o[1],o[2],a[0],a[1],a[2]]);if(kr(n))return n.center=r,n.halfAxes=s,n;return new ve(r,s)}(e.box,t,n);if(e.region){var r=Object(p.a)(e.region,6),i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=ur.WGS84.cartographicToCartesian([Object(me.c)(i),Object(me.c)(s),c],jr),A=ur.WGS84.cartographicToCartesian([Object(me.c)(a),Object(me.c)(o),u],Fr),f=(new U.a).addVectors(l,A).multiplyScalar(.5),h=(new U.a).subVectors(l,A).len()/2;return Gr([f[0],f[1],f[2],h],new xe.a)}if(e.sphere)return Gr(e.sphere,t,n);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function Gr(e,t,n){var r=new U.a(e[0],e[1],e[2]);t.transform(r,r);var i=t.getScale(Dr),o=Math.max(Math.max(i[0],i[1]),i[2]),a=e[3]*o;return kr(n)?(n.center=r,n.radius=a,n):new K(r,a)}new U.a,new U.a,new xe.a,new U.a,new U.a,new U.a;function zr(e,t){if(e.dynamicScreenSpaceError&&e._dynamicScreenSpaceErrorComputedDensity){var n=e._dynamicScreenSpaceErrorComputedDensity,r=e.dynamicScreenSpaceErrorFactor;return function(e,t){var n=e*t;return 1-Math.exp(-n*n)}(t,n)*r}return 0}var Vr=Math.PI/2;function Hr(e){var t=Object(p.a)(e,3),n=t[0],r=t[1],i=t[2],o=Object(me.j)(n),a=Object(me.j)(r),s=1+i/6378137,c=s*Math.cos(a);return[n=c*Math.cos(o),r=c*Math.sin(o),i=s*Math.sin(a)]}function Yr(e,t){var n=Object(p.a)(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o,s=Object(p.a)(t,3),c=s[0],u=s[1],l=s[2],A=Hr([c,u,void 0===l?0:l]),f=Hr([r,i,a]),h=f[0]-A[0],g=f[1]-A[1],d=f[2]-A[2];return h*h+g*g+d*d}function qr(e,t){var n=t.viewport,r=e.header.mbs[1],i=[e.header.mbs[0],r,e.header.mbs[2]],o=e.header.mbs[3]/6378137,a=Yr(n.unprojectPosition(n.cameraPosition),i)-o*o;if(a<=0)return 170141175e30;var s=function(e,t){var n=t.viewport,r=n.width,i=n.height,o=n.pixelProjectionMatrix,a=Math.tan(Math.atan(Math.sqrt(1/(o[0]*o[0])+1/(o[5]*o[5]))));return Math.sqrt(i*i+r*r)/a}(0,t);return s*=o/Math.sqrt(a)/n.scale}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jr=new U.a;var Xr=function(){function e(t,n,r){Object(s.a)(this,e),Object(Ar.a)("object"===Object(Bt.a)(n)),this.header=n,this.tileset=t,this.id=n.id,this.url=n.url,this.parent=r,this.refine=this._getRefine(n.refine),this.type=n.type,this.contentUrl=n.contentUrl,this.lodMetricType=null,this.lodMetricValue=null,this.boundingVolume=null,this.content=null,this.contentState=Ir,this.gpuMemoryUsageInBytes=0,this.children=[],this.depth=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this._initializeLodMetric(n),this._initializeTransforms(n),this._initializeBoundingVolumes(n),this._initializeContent(n),this._initializeRenderingState(n),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,this._getPriority=this._getPriority.bind(this),Object.seal(this)}return Object(h.a)(e,[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case Pr:return qr(this,e);case Mr:return function(e,t,n){var r=e.tileset,i=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,o=n?i:e.lodMetricValue;if(0===o)return 0;var a=Math.max(e._distanceToCamera,1e-7),s=o*t.height/(a*t.sseDenominator);return s-zr(r,a)}(this,e,t);default:return console.error("Unsupported tileset type"),null}}},{key:"_getPriority",value:function(){return this.isVisible?this.contentState===Ir?-1:Math.max(1e7-this._priority,0)||0:-1}},{key:"loadContent",value:function(){var e=Object(k.a)(N.a.mark((function e(){var t,n,r,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=Cr,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority);case 9:if(t=e.sent){e.next=13;break}return this.contentState=Ir,e.abrupt("return",!1);case 13:return e.prev=13,n=this.tileset.getTileUrl(this.contentUrl),r=this.tileset.fetchOptions,i=this.tileset.loader,o=Wr(Wr({},r),{},Object(T.a)({},i.id,{tile:this.header,tileset:this.tileset.tileset,isTileset:"auto",isTileHeader:!1})),e.next=20,Object(M.a)(n,i,o);case 20:return this.content=e.sent,this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this,fr.a.dirname(this.contentUrl)),this.contentState=_r,this._onContentLoaded(),e.abrupt("return",!0);case 27:throw e.prev=27,e.t0=e.catch(13),this.contentState=wr,e.t0;case 31:return e.prev=31,t.done(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[13,27,31,34]])})));return function(){return e.apply(this,arguments)}}()},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.contentState=Ir,!0}},{key:"updateVisibility",value:function(e){if(this._frameNumber!==e.frameNumber){var t=this.parent,n=t?t.computedTransform:this.tileset.modelMatrix,r=t?t._visibilityPlaneMask:Se.MASK_INDETERMINATE;this._updateTransform(n),this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,r),this._visible=this._visibilityPlaneMask!==Se.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._priority=this.lodMetricValue,this._frameNumber=e.frameNumber}}},{key:"visibility",value:function(e,t){var n=e.cullingVolume,r=this.boundingVolume;return n.computeVisibilityWithPlaneMask(r,t)}},{key:"contentVisibility",value:function(e){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,n=this.boundingVolume;return Jr.subVectors(n.center,t.position),t.direction.dot(Jr)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||0===t.distanceToCamera(e)}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new xe.a(e.transform):new xe.a;var t=this.parent,n=this.tileset,r=t&&t.computedTransform?t.computedTransform.clone():n.modelMatrix.clone();this.computedTransform=new xe.a(r).multiplyRight(this.transform);var i=t&&t._initialTransform?t._initialTransform.clone():new xe.a;this._initialTransform=new xe.a(i).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=Ir,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level,this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=Se.MASK_INDETERMINATE,this._visible=!1,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||Sr}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset.traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=Ur(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=Ur(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=Ur(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xe.a,t=e.clone().multiplyRight(this.transform),n=!t.equals(this.computedTransform);n&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"updateExpiration",value:function(){if(void 0!==(t=this._expireDate)&&null!==t&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=Br,this._expiredContent=this.content)}var t}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===_r||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===Ir}},{key:"contentExpired",get:function(){return this.contentState===Br}},{key:"contentFailed",get:function(){return this.contentState===wr}},{key:"extras",get:function(){return this.header.extras}}]),e}(),Zr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(s.a)(this,e),this._array=new Array(t),this._map=new Map,this._length=t}return Object(h.a)(e,[{key:"get",value:function(e){return Object(Ar.a)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){Object(Ar.a)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){Object(Ar.a)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){Object(Ar.a)(e>=0),this.length=e}},{key:"trim",value:function(e){null!==e&&void 0!==e||(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}},{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}}]),e}();function $r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ri={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2},ii=function(){function e(t){Object(s.a)(this,e),this.options=ni(ni({},ri),t),this._traversalStack=new Zr,this._emptyTraversalStack=new Zr,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}return Object(h.a)(e,[{key:"traverse",value:function(e,t,n){this.root=e,this.options=ni(ni({},this.options),n),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var n=this._traversalStack;for(n.push(e);n.length>0;){var r=n.pop(),i=!1;this.canTraverse(r,t)&&(this.updateChildTiles(r,t),i=this.updateAndPushChildren(r,t,n));var o=r.parent,a=Boolean(!o||o._shouldRefine),s=!i;r.hasRenderContent?r.refine===Or?(this.loadTile(r,t),this.selectTile(r,t)):r.refine===Sr&&(this.loadTile(r,t),s&&this.selectTile(r,t)):(this.emptyTiles[r.id]=r,this.loadTile(r,t),s&&this.selectTile(r,t)),this.touchTile(r,t),r._shouldRefine=i&&a}this.options.onTraversalEnd&&this.options.onTraversalEnd(t)}},{key:"updateChildTiles",value:function(e,t){var n,r=$r(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.updateTile(i,t)}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,n){var r=this.options,i=r.loadSiblings,o=r.skipLevelOfDetail,a=e.children;a.sort(this.compareDistanceToCamera);var s,c=!o&&e.refine===Sr&&e.hasRenderContent,u=!1,l=$r(a);try{for(l.s();!(s=l.n()).done;){var A=s.value;if(A.isVisibleAndInRequestVolume?(n.find(A)&&n.delete(A),n.push(A),u=!0):(c||i)&&(this.loadTile(A,t),this.touchTile(A,t)),c){var f=void 0;if(!(f=!!A._inRequestVolume&&(A.hasRenderContent?A.contentAvailable:this.executeEmptyTraversal(A,t))))return f}}}catch(h){l.e(h)}finally{l.f()}return u}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e,t)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e,t)&&(e._requestedFrame=t.frameNumber,e._priority=this.getPriority(e),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(!r&&!e.isVisibleAndInRequestVolume)&&(!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:this.shouldRefine(e,t,n)))}},{key:"shouldLoadTile",value:function(e,t){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e,t){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,n){var r=e._screenSpaceError;return n&&(r=e.getScreenSpaceError(t,!0)),r>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){e.updateVisibility(t)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"getPriority",value:function(e){var t=this.options;switch(e.refine){case Or:return e._distanceToCamera;case Sr:var n=e.parent,r=n&&(!t.skipLevelOfDetail||0===e._screenSpaceError||n.hasTilesetContent)?n._screenSpaceError:e._screenSpaceError;return this.root._screenSpaceError-r;default:return Object(Ar.a)(!1)}}},{key:"anyChildrenVisible",value:function(e,t){var n,r=!1,i=$r(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.updateVisibility(t),r=r||o.isVisibleAndInRequestVolume}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"executeEmptyTraversal",value:function(e,t){for(var n=!0,r=this._emptyTraversalStack;r.length>0;){var i=r.pop();this.updateTile(i,t),i.isVisibleAndInRequestVolume||(this.loadTile(i,t),this.touchTile(i,t));var o=!i.hasRenderContent&&this.canTraverse(i,t,!1,!0);if(o||i.contentAvailable||(n=!1),o){var a,s=$r(i.children.filter((function(e){return e})));try{for(s.s();!(a=s.n()).done;){var c=a.value;r.find(c)&&r.delete(c),r.push(c)}}catch(u){s.e(u)}finally{s.f()}}}return n}}]),e}();function oi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var ai=function(e){Object(c.a)(n,e);var t=oi(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if(e.updateVisibility(t),e.isVisibleAndInRequestVolume){var n=e.children.length>0;if(e.hasTilesetContent&&n){var r=e.children[0];return this.updateTileVisibility(r,t),void(e._visible=r._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var i=e.refine===Sr,o=e._optimChildrenWithinParent===Nr;i&&o&&n&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var n=e.parent;return!(!n||n.hasTilesetContent||n.refine!==Or)&&!this.shouldRefine(e,t,!0)}}]),n}(ii),si="REQUESTED",ci="COMPLETED",ui="ERROR",li=function(){function e(){Object(s.a)(this,e),this._statusMap={}}return Object(h.a)(e,[{key:"add",value:function(e,t,n,r){var i=this;this._statusMap[t]||(this._statusMap[t]={request:e,callback:n,key:t,frameState:r,status:si},e().then((function(e){i._statusMap[t].status=ci,i._statusMap[t].callback(e,r)})).catch((function(e){i._statusMap[t].status=ui,n(e)})))}},{key:"update",value:function(e,t){this._statusMap[e]&&(this._statusMap[e].frameState=t)}},{key:"find",value:function(e){return this._statusMap[e]}}]),e}();function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gi(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var pi=function(e){Object(c.a)(n,e);var t=di(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e))._tileManager=new li,r}return Object(h.a)(n,[{key:"shouldRefine",value:function(e,t){return e._lodJudge=function(e,t){var n=t.viewport,r=n.metersPerPixel,i=e.header.mbs[1],o=e.header.mbs[0],a=e.header.mbs[2],s=e.header.mbs[3],c=n.height,u=n.width,l=n.latitude,A=n.longitude,f=[A,l],h=[o,i,a],g=[A,i],d=[o,l],p=Math.sqrt(c*c+u*u)*r[0],v=.5*c+s/6378137,y=.5*u+s/6378137;if(Yr(f,h)>p+s/6378137)return"OUT";if(Yr(f,g)>v)return"OUT";if(Yr(f,d)>y)return"OUT";if(0===e.lodMetricValue)return"DIG";var m=qr(e,t);return(m*=Vr)<.5?"OUT":!e.header.children||m<=e.lodMetricValue?"DRAW":e.header.children?"DIG":"OUT"}(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var n,r=this,i=e.header.children||[],o=e.children,a=e.tileset,s=hi(i);try{var c=function(){var i=n.value,s=o&&o.find((function(e){return e.id===i.id}));if(s)s&&r.updateTile(s,t);else{var c=function(){return r._loadTile(i.id,a)};r._tileManager.find(i.id)?r._tileManager.update(i.id,t):(a.tileset.nodePages&&(c=function(){return a.tileset.nodePagesTile.formTileFromNodePages(i.id)}),r._tileManager.add(c,i.id,(function(t){return r._onTileLoad(t,e)}),t))}};for(s.s();!(n=s.n()).done;)c()}catch(u){s.e(u)}finally{s.f()}}},{key:"_loadTile",value:function(){var e=Object(k.a)(N.a.mark((function e(t,n){var r,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.loader,i=n.getTileUrl("".concat(n.url,"/nodes/").concat(t)),o={i3s:fi(fi({},n.fetchOptions),{},{isTileHeader:!0,loadContent:!1})},e.next=5,Object(M.a)(i,r,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_onTileLoad",value:function(e,t){var n=this.options.basePath,r=new Xr(t.tileset,e,t,n);t.children.push(r);var i=this._tileManager.find(r.id).frameState;this.updateTile(r,i),this._frameNumber===i.frameNumber&&this.executeTraversal(r,i)}}]),n}(ii);function vi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ei={ellipsoid:ur.WGS84,modelMatrix:new xe.a,throttleRequests:!1,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(e,t,n){},maximumScreenSpaceError:8},Ii=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,e),Object(Ar.a)(t),this.options=bi(bi({},Ei),n),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||fr.a.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.fetchOptions=this.options.fetchOptions||{},this.options.headers&&(this.fetchOptions.headers=this.options.headers),this.options.token&&(this.fetchOptions.token=this.options.token),this.root=null,this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this._traverser=this._initializeTraverser(),this._cache=new pr,this._requestScheduler=new it.a({throttleRequests:this.options.throttleRequests}),this._frameNumber=0,this._updateFrameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._queryParams={},this._queryParamsString=null,this.maximumMemoryUsage=this.options.maximumMemoryUsage,this.gpuMemoryUsageInBytes=0,this.stats=new lr.a({id:this.url}),this._initializeStats(),this._hasMixedContent=!1,this._maximumScreenSpaceError=this.options.maximumScreenSpaceError,this._properties=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description,this._defaultGeometrySchema=[],this._initializeTileSet(t,this.options)}return Object(h.a)(e,[{key:"isLoaded",value:function(){return 0===this._pendingCount}},{key:"destroy",value:function(){this._destroy()}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"update",value:function(e){this._cache.reset(),this._frameNumber++,this._frameState=br(e,this._frameNumber),this._traverser.traverse(this.root,this._frameState,this.options)}},{key:"_onTraversalEnd",value:function(){var e=Object.values(this._traverser.selectedTiles);this._tilesChanged(this.selectedTiles,e)&&this._updateFrameNumber++,this.selectedTiles=e;var t,n=vi(this.selectedTiles);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._tiles[r.id]=r}}catch(i){n.e(i)}finally{n.f()}return this._requestedTiles=Object.values(this._traverser.requestedTiles),this._emptyTiles=Object.values(this._traverser.emptyTiles),this._loadTiles(this._frameState),this._unloadTiles(),this._updateStats(),this._updateFrameNumber}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var n=new Set(e.map((function(e){return e.id}))),r=new Set(t.map((function(e){return e.id}))),i=e.filter((function(e){return!r.has(e.id)})).length>0;return i=i||t.filter((function(e){return!n.has(e.id)})).length>0}},{key:"_loadTiles",value:function(e){var t,n=vi(this._requestedTiles);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.contentUnloaded&&this._loadTile(r,e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,n=0,r=vi(this.selectedTiles);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.contentAvailable&&(t++,i.content.pointCount&&(n+=i.content.pointCount))}}catch(o){r.e(o)}finally{r.f()}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=t,this.stats.get("Points").count=n}},{key:"_initializeTileSet",value:function(e){this.root=this._initializeTileHeaders(e,null,this.basePath),this.type===Mr&&this._initializeCesiumTileset(e),this.type===Pr&&this._initializeI3STileset(e),this._calculateViewProps()}},{key:"_calculateViewProps",value:function(){var e=this.root,t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new U.a,void(this.zoom=1);this.cartographicCenter=ur.WGS84.cartesianToCartographic(t,new U.a),this.cartesianCenter=t,this.zoom=function(e){var t=e.halfAxes,n=e.radius,r=e.width,i=e.height;if(t){t.getColumn(0,Er);var o=Er.len();t.getColumn(1,Er);var a=Er.len();t.getColumn(2,Er);var s=o/2,c=a/2,u=Er.len()/2;return(Math.log2(6378137/s)+Math.log2(6378137/c)+Math.log2(6356752.314245179/u))/3}return n?Math.log2(6356752.314245179/n):i&&r?(Math.log2(6378137/r)+Math.log2(6378137/i))/2:1}(e.boundingVolume)}},{key:"_initializeStats",value:function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")}},{key:"_initializeTileHeaders",value:function(e,t,n){var r=new Xr(this,e.root,t,n);if(t&&(t.children.push(r),r.depth=t.depth+1),this.type===Mr){var i=[];for(i.push(r);i.length>0;){var o=i.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();var a,s=vi(o.header.children||[]);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=new Xr(this,c,o,n);o.children.push(u),u.depth=o.depth+1,i.push(u)}}catch(l){s.e(l)}finally{s.f()}}}return r}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case Mr:e=ai;break;case Pr:e=pi;break;default:e=ii}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:function(){var e=Object(k.a)(N.a.mark((function e(t,n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent(n);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,r),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_onTileLoadError",value:function(e,t){this.stats.get("Failed Tile Loads").incrementCount();var n=t.message||t.toString(),r=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(n)),this.options.onTileError(e,n,r)}},{key:"_onTileLoad",value:function(e,t){t&&(e&&e.content&&function(e,t){Object(Ar.a)(e),Object(Ar.a)(t);var n=t.rtcCenter,r=t.rotateYtoZ,i=e.computedTransform,o=e.boundingVolume.center,a=new xe.a(i);if(n&&a.translate(n),r){var s=(new xe.a).rotateX(Math.PI/2);a=a.multiplyRight(s)}t.isQuantized&&a.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var c=new U.a(o);t.cartesianModelMatrix=a,t.cartesianOrigin=c;var u=ur.WGS84.cartesianToCartographic(c,new U.a),l=ur.WGS84.eastNorthUpToFixedFrame(c).invert();t.cartographicModelMatrix=l.multiplyRight(a),t.cartographicOrigin=u,t.modelMatrix=t.cartographicModelMatrix}(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e))}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,n=e.pop(),r=vi(n.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push(i)}}catch(o){r.e(o)}finally{r.f()}this._destroyTile(n)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,n=[];for(n.push(t);n.length>0;){var r,i=vi((e=n.pop()).children);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(o)}}catch(a){i.e(a)}finally{i.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeCesiumTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description,this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(e){"token"in this.options&&(this._queryParams.token=this.options.token),this._defaultGeometrySchema=e.store.defaultGeometrySchema}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.push("".concat(i,"=").concat(e[i]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}}]),e}(),Ci={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"};Object.keys(Ci);function _i(e,t,n){Object(Ar.a)(e instanceof ArrayBuffer);var r=new TextDecoder("utf8"),i=new Uint8Array(e,t,n);return r.decode(i)}function Bi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new DataView(e);return"".concat(String.fromCharCode(n.getUint8(t+0))).concat(String.fromCharCode(n.getUint8(t+1))).concat(String.fromCharCode(n.getUint8(t+2))).concat(String.fromCharCode(n.getUint8(t+3)))}var wi,Oi=n("oRz+"),Si=n("ItzM");function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e){return Qi.apply(this,arguments)}function Qi(){return(Qi=Object(k.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.modules||{},wi=n.draco3d?wi||new Promise((function(e){var t=n.draco3d.createDecoderModule({onModuleLoaded:function(){e({draco:t})}})})):wi||Pi(t),e.next=4,wi;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(e){return Mi.apply(this,arguments)}function Mi(){return(Mi=Object(k.a)(N.a.mark((function e(t){var n,r,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,Object(Oi.a)("draco_decoder.js","draco",t);case 5:return n=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,Object(Oi.a)("draco_wasm_wrapper.js","draco",t);case 10:return e.t2=e.sent,e.next=13,Object(Oi.a)("draco_decoder.wasm","draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:i=e.sent,o=Object(p.a)(i,2),n=o[0],r=o[1];case 21:return n=n||Si.a.DracoDecoderModule,e.next=24,Li(n,r);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(Ri(Ri({},n),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}var Ni=n("zJdk"),ki=0,Di=1,ji={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Fi={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Ui=function(){function e(t){Object(s.a)(this,e),this.draco=t,this.drawMode="TRIANGLE",this.metadataQuerier={}}return Object(h.a)(e,[{key:"destroy",value:function(){}},{key:"destroyGeometry",value:function(e){e&&this.draco.destroy(e.dracoGeometry)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.metadataQuerier=new this.draco.MetadataQuerier;var n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength);var r,i,o,a=new this.draco.Decoder,s={};try{var c=a.GetEncodedGeometryType(n);switch(c){case this.draco.TRIANGULAR_MESH:i=new this.draco.Mesh,r=a.DecodeBufferToMesh(n,i),o={type:ki,faceCount:i.num_faces(),attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;case this.draco.POINT_CLOUD:i=new this.draco.PointCloud,r=a.DecodeBufferToPointCloud(n,i),o={type:Di,attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!r.ok()||!i.ptr){var u="DRACO decompression failed: ".concat(r.error_msg());throw i&&this.draco.destroy(i),new Error(u)}s.loaderData={header:o},this._extractDRACOGeometry(a,i,c,s,t);var l=this._getGeometryMetadata(a,i);s.header={vertexCount:o.vertexCount,boundingBox:Object(Ni.a)(s.attributes),metadata:l}}finally{this.draco.destroy(a),this.draco.destroy(n),this.draco.destroy(i),this.draco.destroy(this.metadataQuerier)}return s}},{key:"_extractDRACOGeometry",value:function(e,t,n,r,i){var o=this._getAttributes(e,t,i);if(!o.POSITION)throw new Error("DRACO decompressor: No position attribute found.");return n===this.draco.TRIANGULAR_MESH?(o.indices="TRIANGLE_STRIP"===this.drawMode?this._getMeshStripIndices(e,t):this._getMeshFaceIndices(e,t),r.mode="TRIANGLE_STRIP"===this.drawMode?5:4):r.mode=0,o.indices&&(r.indices={value:o.indices,size:1},delete o.indices),r.attributes=o,r}},{key:"getPositionAttributeMetadata",value:function(e){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var t=new this.draco.AttributeQuantizationTransform;if(t.InitFromAttribute(e)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=t.range(),this.metadata.attributes.position.numQuantizationBits=t.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var n=0;n<3;++n)this.metadata.attributes.position.minValues[n]=t.min_value(n)}this.draco.destroy(t)}},{key:"_getAttributes",value:function(e,t,n){for(var r={},i=t.num_points(),o=0;o<t.num_attributes();o++){var a=e.GetAttribute(t,o),s=this._getAttributeMetadata(e,t,o),c={uniqueId:a.unique_id(),attributeType:a.attribute_type(),dataType:Fi[a.data_type()],size:a.size(),numComponents:a.num_components(),byteOffset:a.byte_offset(),byteStride:a.byte_stride(),normalized:a.normalized(),metadata:s},u=this._deduceAttributeName(c,n),l=this._getAttributeTypedArray(e,t,a,u).typedArray;r[u]={value:l,size:l.length/i,metadata:s}}return r}},{key:"_getMeshFaceIndices",value:function(e,t){for(var n=t.num_faces(),r=new Uint32Array(3*n),i=new this.draco.DracoInt32Array,o=0;o<n;++o){e.GetFaceFromMesh(t,o,i);var a=3*o;r[a]=i.GetValue(0),r[a+1]=i.GetValue(1),r[a+2]=i.GetValue(2)}return this.draco.destroy(i),r}},{key:"_getMeshStripIndices",value:function(e,t){var n=new this.draco.DracoInt32Array;e.GetTriangleStripsFromMesh(t,n);for(var r=new Uint32Array(n.size()),i=0;i<n.size();++i)r[i]=n.GetValue(i);return this.draco.destroy(n),r}},{key:"_getAttributeTypedArray",value:function(e,t,n,r){if(0===n.ptr){var i="DRACO decode bad attribute ".concat(r);throw new Error(i)}var o,a,s=Fi[n.data_type()],c=n.num_components(),u=t.num_points()*c;switch(s){case Float32Array:o=new this.draco.DracoFloat32Array,e.GetAttributeFloatForAllPoints(t,n,o),a=new Float32Array(u);break;case Int8Array:o=new this.draco.DracoInt8Array,e.GetAttributeInt8ForAllPoints(t,n,o),a=new Int8Array(u);break;case Int16Array:o=new this.draco.DracoInt16Array,e.GetAttributeInt16ForAllPoints(t,n,o),a=new Int16Array(u);break;case Int32Array:o=new this.draco.DracoInt32Array,e.GetAttributeInt32ForAllPoints(t,n,o),a=new Int32Array(u);break;case Uint8Array:o=new this.draco.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(t,n,o),a=new Uint8Array(u);break;case Uint16Array:o=new this.draco.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(t,n,o),a=new Uint16Array(u);break;case Uint32Array:o=new this.draco.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(t,n,o),a=new Uint32Array(u);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var l=0;l<u;l++)a[l]=o.GetValue(l);return this.draco.destroy(o),{typedArray:a,components:c}}},{key:"_deduceAttributeName",value:function(e,t){var n=t.extraAttributes,r=void 0===n?{}:n;if(r&&"object"===Object(Bt.a)(r))for(var i=0,o=Object.entries(r);i<o.length;i++){var a=Object(p.a)(o[i],2),s=a[0];if(a[1]===e.uniqueId)return s}for(var c in ji){var u=this.draco[c];if(e.attributeType===u)return ji[c]}if(e.metadata){var l=t.attributeNameEntry||"name";if(e.metadata[l])return e.metadata[l].string}return"CUSTOM_ATTRIBUTE_".concat(e.uniqueId)}},{key:"_getGeometryMetadata",value:function(e,t){var n=e.GetMetadata(t);return this._queryDracoMetadata(n)}},{key:"_getAttributeMetadata",value:function(e,t,n){var r=e.GetAttributeMetadata(t,n);return this._queryDracoMetadata(r)}},{key:"_queryDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},n=this.metadataQuerier.NumEntries(e),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(e,r);t[i]={int:this.metadataQuerier.GetIntEntry(e,i),string:this.metadataQuerier.GetStringEntry(e,i),double:this.metadataQuerier.GetDoubleEntry(e,i),intArray:this.metadataQuerier.GetIntEntryArray(e,i)}}return t}},{key:"decode",value:function(e,t){return this.parseSync(e,t)}}]),e}();function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vi=zi(zi({},{id:"draco",name:"Draco",version:"2.3.0",extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"===("undefined"===typeof WebAssembly?"undefined":Object(Bt.a)(WebAssembly))?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@".concat("2.3.0","/dist/draco-loader.worker.js"),localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js",extraAttributes:{}}}}),{},{parse:function(e,t,n,r){return Hi.apply(this,arguments)}});function Hi(){return(Hi=Object(k.a)(N.a.mark((function e(t,n,r,i){var o,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(n);case 2:return o=e.sent,a=o.draco,s=new Ui(a),e.prev=5,e.abrupt("return",s.parseSync(t,zi({extraAttributes:n.draco&&n.draco.extraAttributes||null},n.parseOptions||{})));case 7:return e.prev=7,s.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki,Wi={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},Ji=qi(qi({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}),Wi),Xi=(Ki={},Object(T.a)(Ki,Wi.DOUBLE,Float64Array),Object(T.a)(Ki,Wi.FLOAT,Float32Array),Object(T.a)(Ki,Wi.UNSIGNED_SHORT,Uint16Array),Object(T.a)(Ki,Wi.UNSIGNED_INT,Uint32Array),Object(T.a)(Ki,Wi.UNSIGNED_BYTE,Uint8Array),Object(T.a)(Ki,Wi.BYTE,Int8Array),Object(T.a)(Ki,Wi.SHORT,Int16Array),Object(T.a)(Ki,Wi.INT,Int32Array),Ki),Zi={DOUBLE:Wi.DOUBLE,FLOAT:Wi.FLOAT,UNSIGNED_SHORT:Wi.UNSIGNED_SHORT,UNSIGNED_INT:Wi.UNSIGNED_INT,UNSIGNED_BYTE:Wi.UNSIGNED_BYTE,BYTE:Wi.BYTE,SHORT:Wi.SHORT,INT:Wi.INT},$i=function(){function e(){Object(s.a)(this,e)}return Object(h.a)(e,null,[{key:"fromTypedArray",value:function(e){for(var t in e=ArrayBuffer.isView(e)?e.constructor:e,Xi){if(Xi[t]===e)return t}throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(e){var t=Zi[e];if(!t)throw new Error("Failed to convert GL type");return t}},{key:"getArrayType",value:function(e){switch(e){case Wi.UNSIGNED_SHORT_5_6_5:case Wi.UNSIGNED_SHORT_4_4_4_4:case Wi.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var t=Xi[e];if(!t)throw new Error("Failed to convert GL type");return t}}},{key:"getByteSize",value:function(t){return e.getArrayType(t).BYTES_PER_ELEMENT}},{key:"validate",value:function(t){return Boolean(e.getArrayType(t))}},{key:"createTypedArray",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(n.byteLength-r)/e.getByteSize(t));var o=e.getArrayType(t);return new o(n,r,i)}}]),e}(),eo=function(){function e(t,n){Object(s.a)(this,e),this.json=t,this.buffer=n,this.featuresLength=0,this._cachedTypedArrays={}}return Object(h.a)(e,[{key:"getExtension",value:function(e){return this.json.extensions&&this.json.extensions[e]}},{key:"hasProperty",value:function(e){return Boolean(this.json[e])}},{key:"getGlobalProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.json[e];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(e,t,n,1,r.byteOffset):r}},{key:"getPropertyArray",value:function(e,t,n){var r=this.json[e];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(t=$i.fromName(r.componentType)),this._getTypedArrayFromBinary(e,t,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(e,t,r)}},{key:"getProperty",value:function(e,t,n,r,i){var o=this.json[e];if(!o)return o;var a=this.getPropertyArray(e,t,n);if(1===n)return a[r];for(var s=0;s<n;++s)i[s]=a[n*r+s];return i}},{key:"_getTypedArrayFromBinary",value:function(e,t,n,r,i){var o=this._cachedTypedArrays,a=o[e];return a||(a=$i.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+i,r*n),o[e]=a),a}},{key:"_getTypedArrayFromArray",value:function(e,t,n){var r=this._cachedTypedArrays,i=r[e];return i||(i=$i.createTypedArray(t,n),r[e]=i),i}}]),e}(),to={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},no={SCALAR:function(e,t){return e[t]},VEC2:function(e,t){return[e[2*t+0],e[2*t+1]]},VEC3:function(e,t){return[e[3*t+0],e[3*t+1],e[3*t+2]]},VEC4:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT2:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT3:function(e,t){return[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]]},MAT4:function(e,t){return[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]}},ro={SCALAR:function(e,t,n){t[n]=e},VEC2:function(e,t,n){t[2*n+0]=e[0],t[2*n+1]=e[1]},VEC3:function(e,t,n){t[3*n+0]=e[0],t[3*n+1]=e[1],t[3*n+2]=e[2]},VEC4:function(e,t,n){t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT2:function(e,t,n){t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT3:function(e,t,n){t[9*n+0]=e[0],t[9*n+1]=e[1],t[9*n+2]=e[2],t[9*n+3]=e[3],t[9*n+4]=e[4],t[9*n+5]=e[5],t[9*n+6]=e[6],t[9*n+7]=e[7],t[9*n+8]=e[8],t[9*n+9]=e[9]},MAT4:function(e,t,n){t[16*n+0]=e[0],t[16*n+1]=e[1],t[16*n+2]=e[2],t[16*n+3]=e[3],t[16*n+4]=e[4],t[16*n+5]=e[5],t[16*n+6]=e[6],t[16*n+7]=e[7],t[16*n+8]=e[8],t[16*n+9]=e[9],t[16*n+10]=e[10],t[16*n+11]=e[11],t[16*n+12]=e[12],t[16*n+13]=e[13],t[16*n+14]=e[14],t[16*n+15]=e[15]}};function io(e){throw new Error('"'+e+'" is read-only')}var oo=function(e){return void 0!==e};function ao(e,t,n){if(!t)return null;var r=e.getExtension("3DTILES_batch_table_hierarchy"),i=t.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(e,t){var n,r,i,o,a=e.instancesLength,s=e.classes,c=e.classIds,u=e.parentCounts,l=e.parentIds,A=a;oo(c.byteOffset)&&(c.componentType=defaultValue(c.componentType,GL.UNSIGNED_SHORT),c.type=AttributeType.SCALAR,i=getBinaryAccessor(c),io("classIds"),c=i.createArrayBufferView(t.buffer,t.byteOffset+c.byteOffset,a));if(oo(u))for(oo(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,i=getBinaryAccessor(u),io("parentCounts"),u=i.createArrayBufferView(t.buffer,t.byteOffset+u.byteOffset,a)),o=new Uint16Array(a),io("parentIdsLength"),A=0,n=0;n<a;++n)o[n]=A,A+=(io("parentIdsLength"),u[n]);oo(l)&&oo(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,i=getBinaryAccessor(l),io("parentIds"),l=i.createArrayBufferView(t.buffer,t.byteOffset+l.byteOffset,A));var f=s.length;for(n=0;n<f;++n){var h=s[n].length,g=s[n].instances,d=getBinaryProperties(h,g,t);s[n].instances=combine(d,g)}var p=new Array(f).fill(0),v=new Uint16Array(a);for(n=0;n<a;++n)r=c[n],v[n]=p[r],++p[r];var y={classes:s,classIds:c,classIndexes:v,parentCounts:u,parentIndexes:o,parentIds:l};return function(e){for(var t=e.classIds.length,n=0;n<t;++n)co(e,n,stack)}(y),y}(r,n):null}function so(e,t,n){if(e){var r=e.parentCounts;return e.parentIds?n(e,t):r>0?function(e,t,n){var r=e.classIds,i=e.parentCounts,o=e.parentIds,a=e.parentIndexes,s=r.length,c=scratchVisited;c.length=Math.max(c.length,s);var u=++marker,l=scratchStack;l.length=0,l.push(t);for(;l.length>0;)if(c[t=l.pop()]!==u){c[t]=u;var A=n(e,t);if(oo(A))return A;for(var f=i[t],h=a[t],g=0;g<f;++g){var d=o[h+g];d!==t&&l.push(d)}}return null}(e,t,n):function(e,t,n){var r=!0;for(;r;){var i=n(e,t);if(oo(i))return i;var o=e.parentIds[t];r=o!==t,t=o}throw new Error("traverseHierarchySingleParent")}(e,t,n)}}function co(e,t,n){var r=e.parentCounts,i=e.parentIds,o=e.parentIndexes,a=e.classIds.length;if(oo(i)){assert(t<a,"Parent index ".concat(t," exceeds the total number of instances: ").concat(a)),assert(-1===n.indexOf(t),"Circular dependency detected in the batch table hierarchy."),n.push(t);for(var s=oo(r)?r[t]:1,c=oo(r)?o[t]:t,u=0;u<s;++u){var l=i[c+u];l!==t&&co(e,l,n)}n.pop(t)}}function uo(e){return void 0!==e&&null!==e}var lo=function(e,t){return e},Ao={HIERARCHY:!0,extensions:!0,extras:!0},fo=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var o in Object(s.a)(this,e),Object(Ar.a)(r>=0),this.json=t||{},this.binary=n,this.featureCount=r,this._extensions=this.json&&this.json.extensions||{},this._properties={},this.json)Ao[o]||(this._properties[o]=this.json[o]);this._binaryProperties=this._initializeBinaryProperties(),i["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=ao(this,this.json,this.binary))}return Object(h.a)(e,[{key:"getExtension",value:function(e){return this.json&&this.json.extensions&&this.json.extensions[e]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(e,t){return this._checkBatchId(e),Object(Ar.a)("string"===typeof t,t),!!this._hierarchy&&uo(so(this._hierarchy,e,(function(e,n){var r=e.classIds[n];return e.classes[r].name===t})))}},{key:"isExactClass",value:function(e,t){return Object(Ar.a)("string"===typeof t,t),this.getExactClassName(e)===t}},{key:"getExactClassName",value:function(e){if(this._checkBatchId(e),this._hierarchy){var t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}}},{key:"hasProperty",value:function(e,t){return this._checkBatchId(e),Object(Ar.a)("string"===typeof t,t),uo(this._properties[t])||this._hasPropertyInHierarchy(e,t)}},{key:"getPropertyNames",value:function(e,t){var n;this._checkBatchId(e),(t=uo(t)?t:[]).length=0;var r=Object.keys(this._properties);return(n=t).push.apply(n,Object(W.a)(r)),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t}},{key:"getProperty",value:function(e,t){if(this._checkBatchId(e),Object(Ar.a)("string"===typeof t,t),this._binaryProperties){var n=this._binaryProperties[t];if(uo(n))return this._getBinaryProperty(n,e)}var r=this._properties[t];if(uo(r))return lo(r[e]);if(this._hierarchy){var i=this._getHierarchyProperty(e,t);if(uo(i))return i}}},{key:"setProperty",value:function(e,t,n){var r=this.featureCount;if(this._checkBatchId(e),Object(Ar.a)("string"===typeof t,t),this._binaryProperties){var i=this._binaryProperties[t];if(i)return void this._setBinaryProperty(i,e,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,t,n)){var o=this._properties[t];uo(o)||(this._properties[t]=new Array(r),o=this._properties[t]),o[e]=lo(n)}}},{key:"_checkBatchId",value:function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(e,t){return e.unpack(e.typedArray,t)}},{key:"_setBinaryProperty",value:function(e,t,n){e.pack(n,e.typedArray,t)}},{key:"_initializeBinaryProperties",value:function(){var e=null;for(var t in this._properties){var n=this._properties[t],r=this._initializeBinaryProperty(t,n);r&&((e=e||{})[t]=r)}return e}},{key:"_initializeBinaryProperty",value:function(e,t){if("byteOffset"in t){var n=t;Object(Ar.a)(this.binary,"Property ".concat(e," requires a batch table binary.")),Object(Ar.a)(n.type,"Property ".concat(e," requires a type."));var r=function(e,t,n,r){var i=e.componentType;Object(Ar.a)(e.componentType);var o="string"===typeof i?$i.fromName(i):i,a=to[e.type],s=no[e.type],c=ro[e.type];return n+=e.byteOffset,{values:$i.createTypedArray(o,t,n,a*r),type:o,size:a,unpacker:s,packer:c}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(e,t){if(!this._hierarchy)return!1;var n=so(this._hierarchy,e,(function(e,n){var r=e.classIds[n];return uo(e.classes[r].instances[t])}));return uo(n)}},{key:"_getPropertyNamesInHierarchy",value:function(e,t){so(this._hierarchy,e,(function(e,n){var r=e.classIds[n],i=e.classes[r].instances;for(var o in i)i.hasOwnProperty(o)&&-1===t.indexOf(o)&&t.push(o)}))}},{key:"_getHierarchyProperty",value:function(e,t){var n=this;return so(this._hierarchy,e,(function(e,r){var i=e.classIds[r],o=e.classes[i],a=e.classIndexes[r],s=o.instances[t];return uo(s)?uo(s.typedArray)?n._getBinaryProperty(s,a):lo(s[a]):null}))}},{key:"_setHierarchyProperty",value:function(e,t,n,r){var i=this,o=so(this._hierarchy,t,(function(e,o){var a=e.classIds[o],s=e.classes[a],c=e.classIndexes[o],u=s.instances[n];return!!uo(u)&&(Object(Ar.a)(o===t,'Inherited property "'.concat(n,'" is read-only.')),uo(u.typedArray)?i._setBinaryProperty(u,c,r):u[c]=lo(r),!0)}));return uo(o)}}]),e}();function ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t);if(e.magic=r.getUint32(n,!0),n+=4,e.version=r.getUint32(n,!0),n+=4,e.byteLength=r.getUint32(n,!0),n+=4,1!==e.version)throw new Error("3D Tile Version ".concat(e.version," not supported"));return n}function go(e,t,n){var r=new DataView(t);return e.header=e.header||{},e.header.featureTableJsonByteLength=r.getUint32(n,!0),n+=4,e.header.featureTableBinaryByteLength=r.getUint32(n,!0),n+=4,e.header.batchTableJsonByteLength=r.getUint32(n,!0),n+=4,e.header.batchTableBinaryByteLength=r.getUint32(n,!0),n+=4}function po(e,t,n,r){return n=function(e,t,n,r){var i=e.header,o=i.featureTableJsonByteLength,a=i.featureTableBinaryByteLength;if(e.featureTableJson={BATCH_LENGTH:0},o>0){var s=_i(t,n,o);e.featureTableJson=JSON.parse(s)}return n+=o,e.featureTableBinary=new Uint8Array(t,n,a),n+=a}(e,t,n),n=function(e,t,n,r){var i=e.header,o=i.batchTableJsonByteLength,a=i.batchTableBinaryByteLength;if(o>0){var s=_i(t,n,o);e.batchTableJson=JSON.parse(s),n+=o,a>0&&(e.batchTableBinary=new Uint8Array(t,n,a),e.batchTableBinary=new Uint8Array(e.batchTableBinary),n+=a)}return n}(e,t,n)}function vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=e>>11&31,r=e>>5&63,i=31&e;return t[0]=n<<3,t[1]=r<<2,t[2]=i<<3,t}function yo(e,t,n){if(!t&&(!e||!e.batchIds||!n))return null;var r=e.batchIds,i=e.isRGB565,o=e.pointCount;if(r&&n){for(var a=new Uint8ClampedArray(3*o),s=0;s<o;s++){var c=r[s],u=n.getProperty(c,"dimensions").map((function(e){return 255*e}));a[3*s]=u[0],a[3*s+1]=u[1],a[3*s+2]=u[2]}return{type:Ji.UNSIGNED_BYTE,value:a,size:3,normalized:!0}}if(i){for(var l=new Uint8ClampedArray(3*o),A=0;A<o;A++){var f=vo(t[A]);l[3*A]=f[0],l[3*A+1]=f[1],l[3*A+2]=f[2]}return{type:Ji.UNSIGNED_BYTE,value:l,size:3,normalized:!0}}return t&&t.length===3*o?{type:Ji.UNSIGNED_BYTE,value:t,size:3,normalized:!0}:{type:Ji.UNSIGNED_BYTE,value:t,size:4,normalized:!0}}var mo=n("Oz/4");function bo(e,t){if(!e)throw new Error("math.gl assertion failed. ".concat(t))}new mo.a,new U.a,new mo.a,new mo.a,new Uint8Array(1);function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Object(me.a)(e,0,t)/t*2-1}function Io(e){return e<0?-1:1}function Co(e,t,n,r){if(bo(r),e<0||e>n||t<0||t>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=Eo(e,n),r.y=Eo(t,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){var i=r.x;r.x=(1-Math.abs(r.y))*Io(i),r.y=(1-Math.abs(i))*Io(r.y)}return r.normalize()}function _o(e,t,n){return Co(e,t,255,n)}var Bo=new U.a;function wo(e,t,n){return e.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(e.isQuantized=!1,function(e,t){for(var n=new U.a,r=new Float32Array(3*e.pointCount),i=0;i<e.pointCount;i++)n.set(t[3*i],t[3*i+1],t[3*i+2]).scale(1/e.quantizedRange).multiply(e.quantizedVolumeScale).add(e.quantizedVolumeOffset).toArray(r,3*i);return r}(e,t)):{type:Ji.UNSIGNED_SHORT,value:t,size:3,normalized:!0}:t}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n,r,i){return Ro.apply(this,arguments)}function Ro(){return(Ro=Object(k.a)(N.a.mark((function e(t,n,r,i,o){var a,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho(t,n,r),r=go(t,n,r),r=po(t,n,r),To(t),a=Qo(t),s=a.featureTable,c=a.batchTable,e.next=7,No(t,s,c,i,o);case 7:return Po(t,s,i),Mo(t,s,c),Lo(t,s),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e){e.attributes={positions:null,colors:null,normals:null,batchIds:null},e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1}function Qo(e){var t=new eo(e.featureTableJson,e.featureTableBinary),n=t.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");t.featuresLength=n,e.featuresLength=n,e.pointsLength=n,e.pointCount=n,e.rtcCenter=t.getGlobalProperty("RTC_CENTER",Ji.FLOAT,3);var r=function(e,t){var n=null;if(!e.batchIds&&t.hasProperty("BATCH_ID")&&(e.batchIds=t.getPropertyArray("BATCH_ID",Ji.UNSIGNED_SHORT,1),e.batchIds)){var r=t.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=e.batchTableJson,o=e.batchTableBinary;n=new fo(i,o,r)}return n}(e,t);return{featureTable:t,batchTable:r}}function Po(e,t,n){if(!e.attributes.positions)if(t.hasProperty("POSITION"))e.attributes.positions=t.getPropertyArray("POSITION",Ji.FLOAT,3);else if(t.hasProperty("POSITION_QUANTIZED")){var r=t.getPropertyArray("POSITION_QUANTIZED",Ji.UNSIGNED_SHORT,3);if(e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",Ji.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",Ji.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");e.attributes.positions=wo(e,r,n)}if(!e.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Mo(e,t,n){if(!e.attributes.colors){var r=null;t.hasProperty("RGBA")?(r=t.getPropertyArray("RGBA",Ji.UNSIGNED_BYTE,4),e.isTranslucent=!0):t.hasProperty("RGB")?r=t.getPropertyArray("RGB",Ji.UNSIGNED_BYTE,3):t.hasProperty("RGB565")&&(r=t.getPropertyArray("RGB565",Ji.UNSIGNED_SHORT,1),e.isRGB565=!0),e.attributes.colors=yo(e,r,n)}t.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=t.getGlobalProperty("CONSTANT_RGBA",Ji.UNSIGNED_BYTE,4))}function Lo(e,t){if(!e.attributes.normals){var n=null;t.hasProperty("NORMAL")?n=t.getPropertyArray("NORMAL",Ji.FLOAT,3):t.hasProperty("NORMAL_OCT16P")&&(n=t.getPropertyArray("NORMAL_OCT16P",Ji.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0),e.attributes.normals=function(e,t){if(!t)return null;if(e.isOctEncoded16P){for(var n=new Float32Array(3*e.pointsLength),r=0;r<e.pointsLength;r++)_o(t[2*r],t[2*r+1],Bo),Bo.toArray(n,3*r);return{type:Ji.FLOAT,size:2,value:n}}return{type:Ji.FLOAT,size:2,value:t}}(e,n)}}function No(e,t,n,r,i){return ko.apply(this,arguments)}function ko(){return(ko=Object(k.a)(N.a.mark((function e(t,n,r,i,o){var a,s,c,u,l,A,f,h;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=t.batchTableJson&&t.batchTableJson.extensions&&t.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(c=u.properties),!(l=n.getExtension("3DTILES_draco_point_compression"))){e.next=15;break}if(s=l.properties,A=l.byteOffset,f=l.byteLength,s&&Number.isFinite(A)&&f){e.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:a=t.featureTableBinary.slice(A,A+f),t.hasPositions=Number.isFinite(s.POSITION),t.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),t.hasNormals=Number.isFinite(s.NORMAL),t.hasBatchIds=Number.isFinite(s.BATCH_ID),t.isTranslucent=Number.isFinite(s.RGBA);case 15:if(a){e.next=17;break}return e.abrupt("return",!0);case 17:return h={buffer:a,properties:So(So({},s),c),featureTableProperties:s,batchTableProperties:c,dequantizeInShader:!1},e.next=20,Do(t,h,i,o);case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t,n,r){return jo.apply(this,arguments)}function jo(){return(jo=Object(k.a)(N.a.mark((function e(t,n,r,i){var o,a,s,c,u,l,A,f,h,g,d,p,v,y;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.parse,e.next=3,o(n.buffer,Vi,{draco:{extraAttributes:n.batchTableProperties||{}}});case 3:if(a=e.sent,s=a.attributes.POSITION&&a.attributes.POSITION.value,c=a.attributes.COLOR_0&&a.attributes.COLOR_0.value,u=a.attributes.NORMAL&&a.attributes.NORMAL.value,l=a.attributes.BATCH_ID&&a.attributes.BATCH_ID.value,A=s&&a.attributes.POSITION.value.quantization,f=u&&a.attributes.NORMAL.value.quantization,A&&(h=a.POSITION.data.quantization,g=h.range,t.quantizedVolumeScale=new U.a(g,g,g),t.quantizedVolumeOffset=new U.a(h.minValues),t.quantizedRange=(1<<h.quantizationBits)-1,t.isQuantizedDraco=!0),f&&(t.octEncodedRange=(1<<a.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0),d={},n.batchTableProperties)for(p=0,v=Object.keys(n.batchTableProperties);p<v.length;p++)y=v[p],a.attributes[y]&&a.attributes[y].value&&(d[y.toLowerCase()]=a.attributes[y].value);t.attributes=So({positions:s,colors:yo(t,c),normals:u,batchIds:l},d);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fo=n("nJkv"),Uo=n("LuF4"),Go=n("Xcno");function zo(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function Vo(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function Ho(e,t,n){var r=e.bufferViews[n];zo(r);var i=t[r.buffer];zo(i);var o=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,o,r.byteLength)}var Yo=n("Jv8n");var qo=["SCALAR","VEC2","VEC3","VEC4"],Ko=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),Wo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Jo={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Xo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Zo(e){return qo[e-1]||qo[0]}function $o(e){var t=Ko.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function ea(e,t){var n=Xo[e.componentType],r=Wo[e.type],i=Jo[e.componentType],o=e.count*r,a=e.count*r*i;return zo(a>=0&&a<=t.byteLength),{ArrayType:n,length:o,byteLength:a}}var ta=function(){function e(t){if(Object(s.a)(this,e),t instanceof e)return t;t||(t={json:{asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},buffers:[]}),this.byteLength=0,this.gltf=t,zo(this.gltf.json)}return Object(h.a)(e,[{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),n=this.json.extensions||{};return t?n[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===Object(Bt.a)(t))return t;var n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];zo(n);var r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=ea(e,t),i=r.ArrayType,o=r.length;return new i(n,t.byteOffset+e.byteOffset,o)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,n){return zo(n),e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,n){(e.extensions||{})[t]=n}},{key:"removeObjectExtension",value:function(e,t){var n=e.extensions||{},r=n[t];return delete n[t],r}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zo(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zo(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"addMesh",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=this._addAttributes(e),i={primitives:[{attributes:r,indices:t,mode:n}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){t=t||function(e){var t=Object(Yo.a)(e);return t?t.mimeType:null}(e);var n={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(n),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;zo(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=Object(Go.c)(t),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var n={bufferView:e,type:Zo(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(e),r={size:t.size,componentType:$o(e),count:Math.round(e.length/t.size)};return this.addAccessor(n,Object.assign(r,t))}},{key:"createBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0,i=0;i<this.sourceBuffers.length;i++){var o=this.sourceBuffers[i];r=Object(Go.a)(o,n,r)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_removeStringFromArray",value:function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}},{key:"json",get:function(){return this.gltf.json}}]),e}();function na(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=ra(r);t[n]=i}}return t}function ra(e,t){var n=function(e,t){var n=e,r=1,i=0;e&&e.value&&(n=e.value,r=e.size||1);n&&(ArrayBuffer.isView(n)||(n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(n,Float32Array)),i=n.length/r);return{buffer:n,size:r,count:i}}(e),r=n.buffer,i=n.size;return{value:r,size:i,bufferView:null,byteOffset:0,count:n.count,type:Zo(i),componentType:$o(r)}}var ia=N.a.mark(ga);function oa(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aa(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(e,t,n){return ca.apply(this,arguments)}function ca(){return(ca=Object(k.a)(N.a.mark((function e(t,n,r){var i,o,a,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.gltf.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:i=new ta(t),o=[],a=oa(ga(i));try{for(a.s();!(s=a.n()).done;)c=s.value,i.getObjectExtension(c,"KHR_draco_mesh_compression")&&o.push(la(c,i,n,r))}catch(u){a.e(u)}finally{a.f()}return e.next=8,Promise.all(o);case 8:i.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new ta(e),i=oa(r.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;fa(o,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(a){i.e(a)}finally{i.f()}}function la(e,t,n,r){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(k.a)(N.a.mark((function e(t,n,r,i){var o,a,s,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getObjectExtension(t,"KHR_draco_mesh_compression"),a=n.getTypedArrayForBufferView(o.bufferView),s=Object(Go.b)(a.buffer,a.byteOffset),c=i.parse,e.next=6,c(s,Vi,r,i);case 6:u=e.sent,t.attributes=na(u.attributes),u.indices&&(t.indices=ra(u.indices)),ha(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!r.DracoWriter||!r.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var o=r.DracoWriter.encodeSync({attributes:e}),a=i.parseSync,s=a({attributes:e}),c=r._addFauxAttributes(s.attributes),u=r.addBufferView(o),l={primitives:[{attributes:c,mode:n,extensions:Object(T.a)({},"KHR_draco_mesh_compression",{bufferView:u,attributes:c})}]};return l}function ha(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("Empty glTF primitive detected: Draco decompression failure?")}function ga(e){var t,n,r,i,o,a;return N.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=oa(e.json.meshes||[]),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=oa(r.primitives),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),ia,null,[[1,26,29,32],[6,16,19,22]])}function da(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e,t){var n=new ta(e),r=n.json,i=n.getExtension("KHR_lights_punctual");i&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual"));var o,a=da(r.nodes||[]);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=n.getObjectExtension(s,"KHR_lights_punctual");c&&(s.light=c.light),n.removeObjectExtension(s,"KHR_lights_punctual")}}catch(u){a.e(u)}finally{a.f()}}function ya(e,t){var n=new ta(e),r=n.json;if(r.lights){var i=n.addExtension("KHR_lights_punctual");zo(!i.lights),i.lights=r.lights,delete r.lights}if(n.json.lights){var o,a=da(n.json.lights);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.node;n.addObjectExtension(c,"KHR_lights_punctual",s)}}catch(u){a.e(u)}finally{a.f()}delete n.json.lights}}function ma(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ba(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ea(e,t){var n=new ta(e),r=n.json;n.removeExtension("KHR_materials_unlit");var i,o=ma(r.materials||[]);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.extensions&&a.extensions.KHR_materials_unlit&&(a.unlit=!0),n.removeObjectExtension(a,"KHR_materials_unlit")}}catch(s){o.e(s)}finally{o.f()}}function Ia(e,t){var n=new ta(e),r=n.json;if(n.materials){var i,o=ma(r.materials);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.unlit&&(delete a.unlit,n.addObjectExtension(a,"KHR_materials_unlit",{}),n.addExtension("KHR_materials_unlit"))}}catch(s){o.e(s)}finally{o.f()}}}function Ca(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){var n=new ta(e),r=n.json,i=n.getExtension("KHR_techniques_webgl");if(i){var o,a=function(e,t){var n=e.programs,r=void 0===n?[]:n,i=e.shaders,o=void 0===i?[]:i,a=e.techniques,s=void 0===a?[]:a,c=new TextDecoder;return o.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=c.decode(t.getTypedArrayForBufferView(e.bufferView))})),r.forEach((function(e){e.fragmentShader=o[e.fragmentShader],e.vertexShader=o[e.vertexShader]})),s.forEach((function(e){e.program=r[e.program]})),s}(i,n),s=Ca(r.materials||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=n.getObjectExtension(c,"KHR_techniques_webgl");u&&(c.technique=Object.assign({},u,a[u.technique]),c.technique.values=Oa(c.technique,n)),n.removeObjectExtension(c,"KHR_techniques_webgl")}}catch(l){s.e(l)}finally{s.f()}n.removeExtension("KHR_techniques_webgl")}}function wa(e,t){}function Oa(e,t){var n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((function(e){"object"===Object(Bt.a)(n[e])&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}var Sa={KHR_draco_mesh_compression:r,KHR_lights_punctual:i,KHR_materials_unlit:o,KHR_techniques_webgl:a};function xa(e){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(k.a)(N.a.mark((function e(t){var n,r,i,o,a,s=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,n.gltf=n.gltf||{},e.t0=N.a.keys(Sa);case 4:if((e.t1=e.t0()).done){e.next=14;break}if(i=e.t1.value,o=n.gltf.excludeExtensions||{},i in o&&!o[i]){e.next=12;break}return a=Sa[i],e.next=12,a.decode(t,n,r);case 12:e.next=4;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ta=!0;function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(e),i=n.magic,o=void 0===i?1735152710:i,a=r.getUint32(t,!1);return a===o||1735152710===a}function Ma(e,t,n,r){Object(Ar.a)(e.header.byteLength>20);var i=t.getUint32(n+0,Ta),o=t.getUint32(n+4,Ta);return n+=8,Object(Ar.a)(0===o),Na(e,t,n,i,r),n+=i,n+=ka(e,t,n,e.header.byteLength,r)}function La(e,t,n,r){return Object(Ar.a)(e.header.byteLength>20),function(e,t,n,r){for(;n+8<=e.header.byteLength;){var i=t.getUint32(n+0,Ta),o=t.getUint32(n+4,Ta);switch(n+=8,o){case 1313821514:Na(e,t,n,i,r);break;case 5130562:ka(e,t,n,i,r);break;case 0:r.glb.strict||Na(e,t,n,i,r);break;case 1:r.glb.strict||ka(e,t,n,i,r)}n+=Object(Go.c)(i)}}(e,t,n,r),n+e.header.byteLength}function Na(e,t,n,r,i){var o=new Uint8Array(t.buffer,n,r),a=new TextDecoder("utf8").decode(o);return e.json=JSON.parse(a),Object(Go.c)(r)}function ka(e,t,n,r,i){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),Object(Go.c)(r)}function Da(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fa(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ga,za={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Va={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},Ha=function(){function e(t){Object(s.a)(this,e),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}return Object(h.a)(e,[{key:"normalize",value:function(e,t){this.json=e.json;var n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e,t){var n,r=new ta(e),i=r.json,o=Da(i.images||[]);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r.removeObjectExtension(a,"KHR_binary_glTF");s&&Object.assign(a,s)}}catch(c){o.e(c)}finally{o.f()}i.buffers&&i.buffers[0]&&delete i.buffers[0].uri,r.removeExtension("KHR_binary_glTF")}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in za)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var n=e[t];if(n&&!Array.isArray(n))for(var r in e[t]=[],n){var i=n[r];i.id=i.id||r;var o=e[t].length;e[t].push(i),this.idToIndexMap[t][r]=o}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in za)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var n,r=Fa(e.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(g){r.e(g)}finally{r.f()}var o,a=Fa(e.meshes);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._convertMeshIds(s)}}catch(g){a.e(g)}finally{a.f()}var c,u=Fa(e.nodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._convertNodeIds(l)}}catch(g){u.e(g)}finally{u.f()}var A,f=Fa(e.scenes);try{for(f.s();!(A=f.n()).done;){var h=A.value;this._convertSceneIds(h)}}catch(g){f.e(g)}finally{f.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,n=Fa(e.primitives);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.attributes,o=r.indices,a=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");o&&(r.indices=this._convertIdToIndex(o,"accessor")),a&&(r.material=this._convertIdToIndex(a,"material"))}}catch(c){n.e(c)}finally{n.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){var n,r=Fa(e[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var o in i){var a=i[o],s=this._convertIdToIndex(a,o);i[o]=s}}}catch(c){r.e(c)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(e,t){var n=Va[t];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}},{key:"_updateObjects",value:function(e){var t,n=Fa(this.json.buffers);try{for(n.s();!(t=n.n()).done;){delete t.value.type}}catch(r){n.e(r)}finally{n.f()}}}]),e}();function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new Ha).normalize(e,t)}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ja={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Xa={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},Za={magFilter:Xa.TEXTURE_MAG_FILTER,minFilter:Xa.TEXTURE_MIN_FILTER,wrapS:Xa.TEXTURE_WRAP_S,wrapT:Xa.TEXTURE_WRAP_T},$a=(Ga={},Object(T.a)(Ga,Xa.TEXTURE_MAG_FILTER,Xa.LINEAR),Object(T.a)(Ga,Xa.TEXTURE_MIN_FILTER,Xa.NEAREST_MIPMAP_LINEAR),Object(T.a)(Ga,Xa.TEXTURE_WRAP_S,Xa.REPEAT),Object(T.a)(Ga,Xa.TEXTURE_WRAP_,Xa.REPEAT),Ga);var es=function(){function e(){Object(s.a)(this,e)}return Object(h.a)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.json,r=e.buffers,i=void 0===r?[]:r,o=e.images,a=void 0===o?[]:o,s=e.baseUri,c=void 0===s?"":s;return zo(n),this.baseUri=c,this.json=n,this.buffers=i,this.images=a,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,n){return t._resolveBufferView(e,n)}))),e.images&&(e.images=e.images.map((function(e,n){return t._resolveImage(e,n)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,n){return t._resolveSampler(e,n)}))),e.textures&&(e.textures=e.textures.map((function(e,n){return t._resolveTexture(e,n)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,n){return t._resolveAccessor(e,n)}))),e.materials&&(e.materials=e.materials.map((function(e,n){return t._resolveMaterial(e,n)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,n){return t._resolveMesh(e,n)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,n){return t._resolveNode(e,n)}))),e.skins&&(e.skins=e.skins.map((function(e,n){return t._resolveSkin(e,n)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,n){return t._resolveScene(e,n)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===Object(Bt.a)(t))return t;var n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}},{key:"_resolveScene",value:function(e,t){var n=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return n.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var n=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return n.getNode(e)}))),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var n=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=Ka({},e)).attributes;for(var r in e.attributes={},t)e.attributes[r]=n.getAccessor(t[r]);return void 0!==e.indices&&(e.indices=n.getAccessor(e.indices)),void 0!==e.material&&(e.material=n.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=Ka({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=Ka({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=Ka({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=Ka({},e.pbrMetallicRoughness);var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=Ka({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=Ka({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,Ja[n]),e.components=(r=e.type,Wa[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,o=ea(e,e.bufferView),a=o.ArrayType,s=o.length,c=(e.bufferView.byteOffset||0)+i.byteOffset;e.value=new a(i.arrayBuffer,c,s)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):$a,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var n in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}return e}},{key:"_enumSamplerParameter",value:function(e){return Za[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var n=this.images[t];return n&&(e.image=n),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var n=e.buffer;e.buffer=this.buffers[n];var r=this.buffers[n].arrayBuffer,i=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(r,i,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}();function ts(e,t){return(new es).postProcess(e,t)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=Object(k.a)(N.a.mark((function e(t,n){var r,i,o,a,s,c,u=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:0,i=u.length>3?u[3]:void 0,o=u.length>4?u[4]:void 0,is(t,n,r,i),Ya(t,{normalize:i.gltf.normalize}),a=[],i.gltf.loadImages&&(s=ss(t,i,o),a.push(s)),!i.gltf.loadBuffers){e.next=10;break}return e.next=10,os(t,i,o);case 10:return c=xa(t,i,o),a.push(c),e.next=14,Promise.all(a);case 14:return e.abrupt("return",i.gltf.postProcess?ts(t,i):t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t,n,r){(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!Pa(t,n,r))&&(t=(new TextDecoder).decode(t));if("string"===typeof t)e.json=Object(Uo.a)(t);else if(t instanceof ArrayBuffer){var i={};n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t);e.type=Qa(r,n+0),e.version=r.getUint32(n+4,Ta);var i=r.getUint32(n+8,Ta);switch(e.header={byteOffset:n,byteLength:i},e.json={},e.binChunks=[],n+=12,e.version){case 1:return Ma(e,r,n,{});case 2:return La(e,r,n,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}(i,t,n,r),zo("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else zo(!1,"GLTF: must be ArrayBuffer or string");var o=e.json.buffers||[];if(e.buffers=new Array(o.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var a=e._glb.binChunks;e.buffers[0]={arrayBuffer:a[0].arrayBuffer,byteOffset:a[0].byteOffset,byteLength:a[0].byteLength}}var s=e.json.images||[];e.images=new Array(s.length).fill({})}function os(e,t,n){return as.apply(this,arguments)}function as(){return(as=Object(k.a)(N.a.mark((function e(t,n,r){var i,o,a,s,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.json.buffers.length)){e.next=18;break}if(!(o=t.json.buffers[i]).uri){e.next=15;break}return zo(a=r.fetch),s=Vo(o.uri,n),e.next=9,a(s);case 9:return c=e.sent,e.next=12,c.arrayBuffer();case 12:u=e.sent,t.buffers[i]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete o.uri;case 15:++i,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e,t,n){return cs.apply(this,arguments)}function cs(){return(cs=Object(k.a)(N.a.mark((function e(t,n,r){var i,o,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.json.images||[],o=[],a=0;a<i.length;++a)o.push(us(t,i[a],a,n,r));return e.next=5,Promise.all(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t,n,r,i){return ls.apply(this,arguments)}function ls(){return(ls=Object(k.a)(N.a.mark((function e(t,n,r,i,o){var a,s,c,u,l,A,f;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.fetch,s=o.parse,!n.uri){e.next=9;break}return u=Vo(n.uri,i),e.next=5,a(u);case 5:return l=e.sent,e.next=8,l.arrayBuffer();case 8:c=e.sent;case 9:return Number.isFinite(n.bufferView)&&(A=Ho(t.json,t.buffers,n.bufferView),c=Object(Go.b)(A.buffer,A.byteOffset,A.byteLength)),zo(c,"glTF image has no data"),e.next=13,s(c,Fo.a,{},o);case 13:f=e.sent,t.images[r]=f;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hs={id:"gltf",name:"glTF",version:"2.3.0",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(e){return ds.apply(this,arguments)},options:{gltf:{normalize:!1,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},uri:"",log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}},gs=hs;function ds(){return(ds=Object(k.a)(N.a.mark((function e(t){var n,r,i,o,a,s=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=fs(fs({},hs.options),n)).gltf=fs(fs({},hs.options.gltf),n.gltf),ps(n),i=n.byteOffset,o=void 0===i?0:i,a={},e.next=9,ns(a,t,o,n,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e){"fetchImages"in e&&(e.gltf.loadImages=e.fetchImages),"createImages"in e&&(e.gltf.loadImages=e.createImages),"fetchLinkedResources"in e&&(e.gltf.fetchBuffers=e.fetchLinkedResources),"decompress"in e&&(e.gltf.decompressMeshes=e.decompress),"decompress"in e.gltf&&(e.gltf.decompressMeshes=e.gltf.decompress),"postProcess"in e&&(e.gltf.postProcess=e.postProcess)}var vs=0,ys=1;function ms(e,t,n){e.rotateYtoZ=!0;var r=e.byteOffset+e.byteLength-n;if(0===r)throw new Error("glTF byte length must be greater than 0.");return e.gltfArrayBuffer=Object(Go.b)(t,n,r),e.gltfByteOffset=0,e.gltfByteLength=r,n%4===0||console.warn("".concat(e.type,": embedded glb is not aligned to a 4-byte boundary.")),e.byteOffset+e.byteLength}function bs(e,t,n,r){return Es.apply(this,arguments)}function Es(){return(Es=Object(k.a)(N.a.mark((function e(t,n,r,i){var o,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r["3d-tiles"]||{},Is(t,n,r),!o.loadGLTF){e.next=16;break}if(a=i.parse,s=i.fetch,!t.gltfUrl){e.next=9;break}return e.next=7,s(t.gltfUrl,r);case 7:t.gltfArrayBuffer=e.sent,t.gltfByteOffset=0;case 9:if(!t.gltfArrayBuffer){e.next=16;break}return e.next=12,a(t.gltfArrayBuffer,gs,r,i);case 12:t.gltf=e.sent,delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e,t,n){switch(t){case vs:var r=new Uint8Array(e.gltfArrayBuffer,e.gltfByteOffset),i=(new TextDecoder).decode(r);e.gltfUrl=i.replace(/[\s\0]+$/,""),delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;break;case ys:break;default:throw new Error("b3dm: Illegal glTF format field")}}function Cs(e,t,n,r,i){return _s.apply(this,arguments)}function _s(){return(_s=Object(k.a)(N.a.mark((function e(t,n,r,i,o){var a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bs(t,n,r,i,o),e.next=3,bs(t,ys,i,o);case 3:return a=t.gltf||{},(s=a.extensions)&&s.CESIUM_RTC&&(t.rtcCenter=s.CESIUM_RTC.center),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e,t,n,r,i){n=ms(e,t,n=po(e,t,n=go(e,t,n=ho(e,t,n))));var o=new eo(e.featureTableJson,e.featureTableBinary);return e.rtcCenter=o.getGlobalProperty("RTC_CENTER",Ji.FLOAT,3),n}function ws(e,t,n,r,i){return Os.apply(this,arguments)}function Os(){return(Os=Object(k.a)(N.a.mark((function e(t,n,r,i,o){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t,n,r,i,o),e.next=3,bs(t,t.gltfFormat,i,o);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t,n,r,i){if(n=ho(e,t,n),1!==e.version)throw new Error("Instanced 3D Model version ".concat(e.version," is not supported"));n=go(e,t,n);var o=new DataView(t);if(e.gltfFormat=o.getUint32(n,!0),n=ms(e,t,n=po(e,t,n+=4)),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var a=new eo(e.featureTableJson,e.featureTableBinary),s=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");e.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=a.getGlobalProperty("RTC_CENTER",Ji.FLOAT,3);new fo(e.batchTableJson,e.batchTableBinary,s);return function(e,t,n,r){for(var i=[new Array(r),e._batchTable][0],o=new U.a,a=new U.a,s=new U.a,c=new U.a,u=new J.a,l=new X.a,A=new U.a,f={},h=new xe.a,g=[],d=[],p=new U.a,v=new U.a,y=0;y<r;y++){var m=void 0;if(t.hasProperty("POSITION"))m=t.getProperty("POSITION",Ji.FLOAT,3,y,o);else if(t.hasProperty("POSITION_QUANTIZED")){m=t.getProperty("POSITION_QUANTIZED",Ji.UNSIGNED_SHORT,3,y,o);var b=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",Ji.FLOAT,3,p);if(!b)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var E=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",Ji.FLOAT,3,v);if(!E)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var I=65535,C=0;C<3;C++)m[C]=m[C]/I*E[C]+b[C]}if(!m)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");o.copy(m),f.translation=o,e.normalUp=t.getProperty("NORMAL_UP",Ji.FLOAT,3,y,g),e.normalRight=t.getProperty("NORMAL_RIGHT",Ji.FLOAT,3,y,d);var _=!1;if(e.normalUp){if(!e.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");e.hasCustomOrientation=!0}else{if(e.octNormalUp=t.getProperty("NORMAL_UP_OCT32P",Ji.UNSIGNED_SHORT,2,g),e.octNormalRight=t.getProperty("NORMAL_RIGHT_OCT32P",Ji.UNSIGNED_SHORT,2,d),e.octNormalUp){if(!e.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}e.eastNorthUp?(ur.WGS84.eastNorthUpToFixedFrame(o,h),h.getRotationMatrix3(u)):u.identity()}_&&(c.copy(a).cross(s).normalize(),u.setColumn(0,a),u.setColumn(1,s),u.setColumn(2,c)),l.fromMatrix3(u),f.rotation=l,A.set(1,1,1);var B=t.getProperty("SCALE",Ji.FLOAT,1,y);Number.isFinite(B)&&A.multiplyByScalar(B);var w=t.getProperty("SCALE_NON_UNIFORM",Ji.FLOAT,3,y,g);w&&A.scale(w),f.scale=A;var O=t.getProperty("BATCH_ID",Ji.UNSIGNED_SHORT,1,y);void 0===O&&(O=y);var S=(new xe.a).fromQuaternion(f.rotation);h.identity(),h.translate(f.translation),h.multiplyRight(S),h.scale(f.scale);var x=h.clone();i[y]={modelMatrix:x,batchId:O}}e.instances=i}(e,a,0,s),n}function xs(e,t,n,r,i,o){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(k.a)(N.a.mark((function e(t,n,r,i,o,a){var s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ho(t,n,r),s=new DataView(n),t.tilesLength=s.getUint32(r,!0),r+=4,t.tiles=[];case 5:if(!(t.tiles.length<t.tilesLength&&t.byteLength-r>12)){e.next=13;break}return c={},t.tiles.push(c),e.next=10,a(n,r,i,o,c);case 10:r=e.sent,e.next=5;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e){return Qs.apply(this,arguments)}function Qs(){return(Qs=Object(k.a)(N.a.mark((function e(t){var n,r,i,o,a=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,(o=a.length>4&&void 0!==a[4]?a[4]:{}).byteOffset=n,o.type=Bi(t,n),e.t0=o.type,e.next=e.t0===Ci.COMPOSITE?9:e.t0===Ci.BATCHED_3D_MODEL?12:e.t0===Ci.INSTANCED_3D_MODEL?15:e.t0===Ci.POINT_CLOUD?18:21;break;case 9:return e.next=11,xs(o,t,n,r,i,Ts);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,Cs(o,t,n,r,i);case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,ws(o,t,n,r,i);case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,xo(o,t,n,r,i);case 20:return e.abrupt("return",e.sent);case 21:throw new Error("3DTileLoader: unknown type ".concat(o.type));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ms(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ls(e,t){if(e.content){var n=e.content.uri||e.content.url;e.contentUrl="".concat(t.basePath,"/").concat(n)}return e.id=e.contentUrl,e.lodMetricType=Lr,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,e.type=function(e){if(!e.contentUrl)return xr;var t=e.contentUrl.split(".").pop();switch(t){case"pnts":return Tr;case"i3dm":case"b3dm":return Rr;default:return t}}(e),e.refine=function(e){switch(e){case"REPLACE":case"replace":return Sr;case"ADD":case"add":return Or;default:return e}}(e.refine),e}function Ns(e){var t=e.basePath,n=Ls(e.root,e),r=[];for(r.push(n);r.length>0;){var i,o=Ps(r.pop().children||[]);try{for(o.s();!(i=o.n()).done;){var a=i.value;Ls(a,{basePath:t}),r.push(a)}}catch(s){o.e(s)}finally{o.f()}}return n}function ks(e){return fr.a.dirname(e.url)}function Ds(e,t,n){return js.apply(this,arguments)}function js(){return(js=Object(k.a)(N.a.mark((function e(t,n,r){var i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i={}).content=i.content||{},0,e.next=5,Ts(t,0,n,r,i.content);case 5:return e.abrupt("return",i.content);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t,n){return Us.apply(this,arguments)}function Us(){return(Us=Object(k.a)(N.a.mark((function e(t,n,r){var i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=JSON.parse((new TextDecoder).decode(t))).loader=n.loader||zs,i.url=r.url,i.basePath=ks(i),i.root=Ns(i),i.type=Mr,i.lodMetricType=Lr,i.lodMetricValue=i.root.lodMetricValue,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(){return(Gs=Object(k.a)(N.a.mark((function e(t,n,r,i){var o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n["3d-tiles"]||{},!("auto"===o.isTileset?r.url&&-1!==r.url.indexOf(".json"):o.isTileset)){e.next=8;break}return e.next=5,Fs(t,n,r);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Ds(t,n,r);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zs={id:"3d-tiles",name:"3D Tiles",version:"2.3.0",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(e,t,n,r){return Gs.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",tile:null,tileset:null}}},Vs=zs;function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var Ks=new wt.d,Ws={getPointColor:[0,0,0],pointSize:1,data:null,loadOptions:{},loader:Vs,onTilesetLoad:function(e){},onTileLoad:function(e){},onTileUnload:function(e){},onTileError:function(e,t,n){}},Js=function(e){Object(c.a)(n,e);var t=qs(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"initializeState",value:function(){"onTileLoadFail"in this.props&&D.a.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null}}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;if(t.data&&t.data!==n.data&&this._loadTileset(t.data),r.viewportChanged){var i=this.state.tileset3d;this._updateTileset(i)}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer,r=this.state.layerMap,i=n&&n.id;if(i){var o=i.substring(this.id.length+1),a=o.substring(o.indexOf("-")+1);t.object=r[a]&&r[a].tile}return t}},{key:"_loadTileset",value:function(){var e=Object(k.a)(N.a.mark((function e(t){var n,r,i,o,a,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.loader,i=n.loadOptions,o=Ys({},i),!r.preload){e.next=7;break}return e.next=5,r.preload(t,i);case 5:a=e.sent,Object.assign(o,a);case 7:return e.next=9,Object(M.a)(t,r,o);case 9:s=e.sent,c=new Ii(s,Ys({onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileLoadFail:this.props.onTileError},o)),this.setState({tileset3d:c,layerMap:{}}),this._updateTileset(c),this.props.onTilesetLoad(c);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onTileLoad",value:function(e){this.props.onTileLoad(e),this._updateTileset(this.state.tileset3d),this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){delete this.state.layerMap[e.id],this.props.onTileUnload(e)}},{key:"_updateTileset",value:function(e){var t=this.context,n=t.timeline,r=t.viewport;if(n&&r&&e){var i=e.update(r);this.state.frameNumber!==i&&this.setState({frameNumber:i})}}},{key:"_create3DTileLayer",value:function(e){if(!e.content)return null;switch(e.type){case Tr:return this._createPointCloudTileLayer(e);case Rr:return this._create3DModelTileLayer(e);case Qr:return this._createSimpleMeshLayer(e);default:throw new Error("Tile3DLayer: Failed to render layer of type ".concat(e.content.type))}}},{key:"_createPointCloudTileLayer",value:function(e){var t=e.content,n=t.attributes,r=t.pointCount,i=t.constantRGBA,o=t.cartographicOrigin,a=t.modelMatrix,s=n.positions,c=n.normals,u=n.colors;if(!s)return null;var l=this.props,A=l.pointSize,f=l.getPointColor;return new(this.getSubLayerClass("pointcloud",jt.a))({pointSize:A},this.getSubLayerProps({id:"pointcloud"}),{id:"".concat(this.id,"-pointcloud-").concat(e.id),data:{header:{vertexCount:r},attributes:{POSITION:s,NORMAL:c,COLOR_0:u}},coordinateSystem:Dt.a.METER_OFFSETS,coordinateOrigin:o,modelMatrix:a,getColor:i||f})}},{key:"_create3DModelTileLayer",value:function(e){var t=e.content,n=t.gltf,r=t.instances,i=t.cartographicOrigin,o=t.modelMatrix;return new(this.getSubLayerClass("scenegraph",Tn))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:"".concat(this.id,"-scenegraph-").concat(e.id),data:r||[{}],scenegraph:n,coordinateSystem:Dt.a.METER_OFFSETS,coordinateOrigin:i,modelMatrix:o,getTransformMatrix:function(e){return e.modelMatrix},getPosition:function(e){return[0,0,0]}})}},{key:"_createSimpleMeshLayer",value:function(e){for(var t=e.content,n=t.attributes,r=t.modelMatrix,i=t.cartographicOrigin,o=t.texture,a=n.normals,s=n.texCoords,c=new Float32Array(n.positions.value.length),u=0;u<c.length;u+=3)Ks.copy(n.positions.value.subarray(u,u+3)),c.set(Ks,u);var l=new kt.a({drawMode:4,attributes:{positions:c,normals:a,texCoords:s}});return new(this.getSubLayerClass("mesh",kn))(this.getSubLayerProps({id:"mesh"}),{id:"".concat(this.id,"-mesh-").concat(e.id),mesh:l,data:[{}],getPosition:[0,0,0],getColor:[255,255,255],texture:o,modelMatrix:r,coordinateOrigin:i,coordinateSystem:Dt.a.METER_OFFSETS})}},{key:"renderLayers",value:function(){var e=this,t=this.state,n=t.tileset3d,r=t.layerMap;return n?n.tiles.map((function(t){var n=r[t.id]&&r[t.id].layer;return t.selected?(n||(n=e._create3DTileLayer(t),r[t.id]={layer:n,tile:t}),n&&n.props&&!n.props.visible&&(n=n.clone({visible:!0}),r[t.id].layer=n),n):(n&&n.props&&n.props.visible&&(n=n.clone({visible:!1}),r[t.id].layer=n),n)})).filter(Boolean):null}}]),n}(g.a);Js.layerName="Tile3DLayer",Js.defaultProps=Ws;class Xs{constructor(e=257){this.gridSize=e;const t=e-1;if(t&t-1)throw new Error(`Expected grid size to be 2^n+1, got ${e}.`);this.numTriangles=t*t*2-2,this.numParentTriangles=this.numTriangles-t*t,this.indices=new Uint32Array(this.gridSize*this.gridSize),this.coords=new Uint16Array(4*this.numTriangles);for(let n=0;n<this.numTriangles;n++){let e=n+2,r=0,i=0,o=0,a=0,s=0,c=0;for(1&e?o=a=s=t:r=i=c=t;(e>>=1)>1;){const t=r+o>>1,n=i+a>>1;1&e?(o=r,a=i,r=s,i=c):(r=o,i=a,o=s,a=c),s=t,c=n}const u=4*n;this.coords[u+0]=r,this.coords[u+1]=i,this.coords[u+2]=o,this.coords[u+3]=a}}createTile(e){return new Zs(e,this)}}class Zs{constructor(e,t){const n=t.gridSize;if(e.length!==n*n)throw new Error(`Expected terrain data of length ${n*n} (${n} x ${n}), got ${e.length}.`);this.terrain=e,this.martini=t,this.errors=new Float32Array(e.length),this.update()}update(){const{numTriangles:e,numParentTriangles:t,coords:n,gridSize:r}=this.martini,{terrain:i,errors:o}=this;for(let a=e-1;a>=0;a--){const e=4*a,s=n[e+0],c=n[e+1],u=n[e+2],l=n[e+3],A=s+u>>1,f=c+l>>1,h=A+f-c,g=f+s-A,d=(i[c*r+s]+i[l*r+u])/2,p=f*r+A,v=Math.abs(d-i[p]);if(o[p]=Math.max(o[p],v),a<t){const e=(c+g>>1)*r+(s+h>>1),t=(l+g>>1)*r+(u+h>>1);o[p]=Math.max(o[p],o[e],o[t])}}}getMesh(e=0){const{gridSize:t,indices:n}=this.martini,{errors:r}=this;let i=0,o=0;const a=t-1;function s(a,c,u,l,A,f){const h=a+u>>1,g=c+l>>1;Math.abs(a-A)+Math.abs(c-f)>1&&r[g*t+h]>e?(s(A,f,a,c,h,g),s(u,l,A,f,h,g)):(n[c*t+a]=n[c*t+a]||++i,n[l*t+u]=n[l*t+u]||++i,n[f*t+A]=n[f*t+A]||++i,o++)}n.fill(0),s(0,0,a,a,a,0),s(a,a,0,0,0,a);const c=new Uint16Array(2*i),u=new Uint32Array(3*o);let l=0;function A(i,o,a,s,f,h){const g=i+a>>1,d=o+s>>1;if(Math.abs(i-f)+Math.abs(o-h)>1&&r[d*t+g]>e)A(f,h,i,o,g,d),A(a,s,f,h,g,d);else{const e=n[o*t+i]-1,r=n[s*t+a]-1,A=n[h*t+f]-1;c[2*e]=i,c[2*e+1]=o,c[2*r]=a,c[2*r+1]=s,c[2*A]=f,c[2*A+1]=h,u[l++]=e,u[l++]=r,u[l++]=A}}return A(0,0,a,a,a,0),A(a,a,0,0,0,a),{vertices:c,triangles:u}}}function $s(e,t){if(null===e)return null;var n=t.meshMaxError,r=t.bounds,i=t.elevationDecoder,o=e.data,a=e.width,s=a+1,c=function(e,t,n){for(var r=n.rScaler,i=n.bScaler,o=n.gScaler,a=n.offset,s=t+1,c=new Float32Array(s*s),u=0,l=0;l<t;l++)for(var A=0;A<t;A++,u++){var f=4*u,h=e[f+0],g=e[f+1],d=e[f+2];c[u+l]=h*r+g*o+d*i+a}for(var p=s*(s-1),v=0;v<s-1;v++,p++)c[p]=c[p-s];for(var y=s-1,m=0;m<s;m++,y+=s)c[y]=c[y-1];return c}(o,a,i),u=new Xs(s).createTile(c).getMesh(n),l=u.vertices,A=u.triangles,f=function(e,t,n,r){for(var i=n+1,o=e.length/2,a=new Float32Array(3*o),s=new Float32Array(2*o),c=r||[0,0,n,n],u=Object(p.a)(c,4),l=u[0],A=u[1],f=u[2],h=u[3],g=(f-l)/n,d=(h-A)/n,v=0;v<o;v++){var y=e[2*v],m=e[2*v+1],b=m*i+y;a[3*v+0]=y*g+l,a[3*v+1]=-m*d+h,a[3*v+2]=t[b],s[2*v+0]=y/n,s[2*v+1]=m/n}return{POSITION:{value:a,size:3},TEXCOORD_0:{value:s,size:2}}}(l,c,a,r);return{loaderData:{header:{}},header:{vertexCount:A.length,boundingBox:Object(Ni.a)(f)},mode:4,indices:{value:A,size:1},attributes:f}}function ec(){return(ec=Object(k.a)(N.a.mark((function e(t,n,r){var i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.image=n.image||{},n.image.type="data",e.next=4,r.parse(t,n,n.baseUri);case 4:return i=e.sent,e.abrupt("return",$s(i,n.terrain));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rc=nc(nc({},{id:"terrain",name:"Terrain",version:"2.3.0",extensions:["png","pngraw"],mimeTypes:["image/png"],options:{terrain:{bounds:null,workerUrl:"https://unpkg.com/@loaders.gl/terrain@".concat("2.3.0","/dist/terrain-loader.worker.js"),meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0}}}}),{},{parse:function(e,t,n){return ec.apply(this,arguments)}});function ic(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sc=[1],cc=ac(ac({},gt.defaultProps),{},{elevationData:We,texture:We,meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:{type:"string",value:null},wireframe:!1,material:!0});function uc(e){return Array.isArray(e)?e.join(";"):e}var lc=function(e){Object(c.a)(n,e);var t=ic(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=t.elevationData!==n.elevationData;if(r){var i=t.elevationData,o=i&&(Array.isArray(i)||i.includes("{x}")&&i.includes("{y}"));this.setState({isTiled:o})}var a=r||t.meshMaxError!==n.meshMaxError||t.elevationDecoder!==n.elevationDecoder||t.bounds!==n.bounds;if(!this.state.isTiled&&a){var s=this.loadTerrain(t);this.setState({terrain:s})}}},{key:"loadTerrain",value:function(e){var t=e.elevationData,n=e.bounds,r=e.elevationDecoder,i=e.meshMaxError,o=e.workerUrl;if(!t)return null;var a={terrain:{bounds:n,meshMaxError:i,elevationDecoder:r}};return null!==o&&(a.terrain.workerUrl=o),Object(M.a)(t,rc,a)}},{key:"getTiledTerrainData",value:function(e){var t=this.props,n=t.elevationData,r=t.texture,i=t.elevationDecoder,o=t.meshMaxError,a=t.workerUrl,s=Je(n,e),c=Je(r,e),u=e.bbox,l=e.z,A=new ze.a({longitude:(u.west+u.east)/2,latitude:(u.north+u.south)/2,zoom:l}),f=A.projectFlat([u.west,u.south]),h=A.projectFlat([u.east,u.north]),g=[f[0],f[1],h[0],h[1]],d=this.loadTerrain({elevationData:s,bounds:g,elevationDecoder:i,meshMaxError:o,workerUrl:a}),p=c?Object(M.a)(c).catch((function(e){return null})):Promise.resolve(null);return Promise.all([d,p])}},{key:"renderSubLayers",value:function(e){var t=this.getSubLayerClass("mesh",kn),n=e.data,r=e.color;if(!n)return null;var i=Object(p.a)(n,2),o=i[0],a=i[1];return new t(e,{data:sc,mesh:o,texture:a,coordinateSystem:Dt.a.CARTESIAN,getPosition:function(e){return[0,0,0]},getColor:r})}},{key:"onViewportLoad",value:function(e){if(e&&0!==e.length&&!e.every((function(e){return!e}))){var t=this.state.zRange,n=e.filter(Boolean).map((function(e){return e[0].header.boundingBox.map((function(e){return e[2]}))})),r=Math.min.apply(Math,Object(W.a)(n.map((function(e){return e[0]})))),i=Math.max.apply(Math,Object(W.a)(n.map((function(e){return e[1]}))));(!t||r<t[0]||i>t[1])&&this.setState({zRange:[r,i]})}}},{key:"renderLayers",value:function(){var e=this.props,t=e.color,n=e.material,r=e.elevationData,i=e.texture,o=e.wireframe,a=e.meshMaxError,s=e.elevationDecoder,c=e.tileSize,u=e.maxZoom,l=e.minZoom,A=e.extent,f=e.maxRequests;return this.state.isTiled?new gt(this.getSubLayerProps({id:"tiles"}),{wireframe:o,color:t,material:n,getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:uc(r),texture:uc(i),meshMaxError:a,elevationDecoder:s}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:c,maxZoom:u,minZoom:l,extent:A,maxRequests:f}):new(this.getSubLayerClass("mesh",kn))(this.getSubLayerProps({id:"mesh"}),{data:sc,mesh:this.state.terrain,texture:i,_instanced:!1,getPosition:function(e){return[0,0,0]},getColor:t,material:n,wireframe:o})}}]),n}(g.a);lc.layerName="TerrainLayer",lc.defaultProps=cc;var Ac=n("xnQO"),fc=n.n(Ac),hc=function(){function e(t,n,r,i,o){Object(s.a)(this,e),this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(dc,this,n)}return Object(h.a)(e,null,[{key:"types",get:function(){return["Unknown","Point","LineString","Polygon"]}}]),Object(h.a)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var c=e.readVarint();r=7&c,i=c>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new fc.a(o,a));else{if(7!==r)throw new Error("unknown command ".concat(r));t&&t.push(t[0].clone())}}return t&&s.push(t),s}},{key:"bbox",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,c=1/0,u=-1/0;e.pos<t;){if(r<=0){var l=e.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<c&&(c=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command ".concat(n))}return[a,c,s,u]}},{key:"toGeoJSON",value:function(t,n,r){var i,o,a=this.extent*Math.pow(2,r),s=this.extent*t,c=this.extent*n,u=this.loadGeometry(),l=e.types[this.type];function A(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/a;e[t]=[360*(n.x+s)/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(i=0;i<u.length;i++)f[i]=u[i][0];A(u=f);break;case 2:for(i=0;i<u.length;i++)A(u[i]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=gc(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}n&&i.push(n);return i}(u),i=0;i<u.length;i++)for(o=0;o<u[i].length;o++)A(u[i][o])}return 1===u.length?u=u[0]:l="Multi".concat(l),{type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties}}}]),e}();function gc(e){for(var t,n,r=0,i=0,o=e.length-1;i<e.length;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function dc(e,t,n){1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos)}var pc=function(){function e(t,n){Object(s.a)(this,e),this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(vc,this,n),this.length=this._features.length}return Object(h.a)(e,[{key:"feature",value:function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hc(this._pbf,t,this.extent,this._keys,this._values)}}]),e}();function vc(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}var yc=function e(t,n){Object(s.a)(this,e),this.layers=t.readFields(mc,{},n)};function mc(e,t,n){if(3===e){var r=new pc(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}function bc(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ic(e){var t,n,r=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,A=0,f=new Set,h={},g=bc(e);try{for(g.s();!(t=g.n()).done;){var d=t.value,p=d.geometry;switch(p.type){case"Point":i++,r++,f.add(p.coordinates.length);break;case"MultiPoint":i++,r+=p.coordinates.length;var v,y=bc(p.coordinates);try{for(y.s();!(v=y.n()).done;){var m=v.value;f.add(m.length)}}catch(F){y.e(F)}finally{y.f()}break;case"LineString":s++,o+=p.coordinates.length,a++;var b,E=bc(p.coordinates);try{for(E.s();!(b=E.n()).done;){var I=b.value;f.add(I.length)}}catch(F){E.e(F)}finally{E.f()}break;case"MultiLineString":s++;var C,_=bc(p.coordinates);try{for(_.s();!(C=_.n()).done;){var B=C.value;o+=B.length,a++;var w,O=bc(B);try{for(O.s();!(w=O.n()).done;){var S=w.value;f.add(S.length)}}catch(F){O.e(F)}finally{O.f()}}}catch(F){_.e(F)}finally{_.f()}break;case"Polygon":A++,u++,l+=p.coordinates.length,c+=Mc(p.coordinates).length;var x,R=bc(Mc(p.coordinates));try{for(R.s();!(x=R.n()).done;){var T=x.value;f.add(T.length)}}catch(F){R.e(F)}finally{R.f()}break;case"MultiPolygon":A++;var Q,P=bc(p.coordinates);try{for(P.s();!(Q=P.n()).done;){var M=Q.value;u++,l+=M.length,c+=Mc(M).length;var L,N=bc(Mc(M));try{for(N.s();!(L=N.n()).done;){var k=L.value;f.add(k.length)}}catch(F){N.e(F)}finally{N.f()}}}catch(F){P.e(F)}finally{P.f()}break;default:throw new Error("Unsupported geometry type: ".concat(p.type))}if(d.properties)for(var D in d.properties){var j=d.properties[D];h[D]=h[D]||void 0===h[D]?(n=j,Number.isFinite(n)):h[D]}}}catch(F){g.e(F)}finally{g.f()}return{pointPositionsCount:r,pointFeaturesCount:i,linePositionsCount:o,linePathsCount:a,lineFeaturesCount:s,coordLength:Math.max.apply(Math,Object(W.a)(f)),polygonPositionsCount:c,polygonObjectsCount:u,polygonRingsCount:l,polygonFeaturesCount:A,numericPropKeys:Object.keys(h).filter((function(e){return h[e]}))}}function Cc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.pointPositionsCount,i=t.pointFeaturesCount,o=t.linePositionsCount,a=t.linePathsCount,s=t.lineFeaturesCount,c=t.polygonPositionsCount,u=t.polygonObjectsCount,l=t.polygonRingsCount,A=t.polygonFeaturesCount,f=n.coordLength,h=n.numericPropKeys,g=n.PositionDataType,d=void 0===g?Float32Array:g,p=e.length>65535?Uint32Array:Uint16Array,v={positions:new d(r*f),globalFeatureIds:new p(r),featureIds:i>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[]},y={pathIndices:o>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new d(o*f),globalFeatureIds:new p(o),featureIds:s>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[]},m={polygonIndices:c>65535?new Uint32Array(u+1):new Uint16Array(u+1),primitivePolygonIndices:c>65535?new Uint32Array(l+1):new Uint16Array(l+1),positions:new d(c*f),globalFeatureIds:new p(c),featureIds:A>65535?new Uint32Array(c):new Uint16Array(c),numericProps:{},properties:[]},b=0,E=[v,y,m];b<E.length;b++){var I,C=E[b],_=bc(h);try{for(_.s();!(I=_.n()).done;){var B=I.value;C.numericProps[B]=new Float32Array(C.positions.length/f)}}catch(Q){_.e(Q)}finally{_.f()}}y.pathIndices[a]=o,m.polygonIndices[u]=c,m.primitivePolygonIndices[l]=c;var w,O={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},S=bc(e);try{for(S.s();!(w=S.n()).done;){var x=w.value,R=x.geometry,T=x.properties;switch(R.type){case"Point":_c(R.coordinates,v,O,f,T),v.properties.push(Qc(T,h)),O.pointFeature++;break;case"MultiPoint":Bc(R.coordinates,v,O,f,T),v.properties.push(Qc(T,h)),O.pointFeature++;break;case"LineString":wc(R.coordinates,y,O,f,T),y.properties.push(Qc(T,h)),O.lineFeature++;break;case"MultiLineString":Oc(R.coordinates,y,O,f,T),y.properties.push(Qc(T,h)),O.lineFeature++;break;case"Polygon":Sc(R.coordinates,m,O,f,T),m.properties.push(Qc(T,h)),O.polygonFeature++;break;case"MultiPolygon":xc(R.coordinates,m,O,f,T),m.properties.push(Qc(T,h)),O.polygonFeature++;break;default:throw new Error("Invalid geometry type")}O.feature++}}catch(Q){S.e(Q)}finally{S.f()}return Rc(v,y,m,f)}function _c(e,t,n,r,i){t.positions.set(e,n.pointPosition*r),t.globalFeatureIds[n.pointPosition]=n.feature,t.featureIds[n.pointPosition]=n.pointFeature,Tc(t,i,n.pointPosition,1),n.pointPosition++}function Bc(e,t,n,r,i){var o,a=bc(e);try{for(a.s();!(o=a.n()).done;){_c(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function wc(e,t,n,r,i){t.pathIndices[n.linePath]=n.linePosition,n.linePath++,Pc(t.positions,e,n.linePosition,r);var o=e.length;Tc(t,i,n.linePosition,o),t.globalFeatureIds.set(new Uint32Array(o).fill(n.feature),n.linePosition),t.featureIds.set(new Uint32Array(o).fill(n.lineFeature),n.linePosition),n.linePosition+=o}function Oc(e,t,n,r,i){var o,a=bc(e);try{for(a.s();!(o=a.n()).done;){wc(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function Sc(e,t,n,r,i){t.polygonIndices[n.polygonObject]=n.polygonPosition,n.polygonObject++;var o,a=bc(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.primitivePolygonIndices[n.polygonRing]=n.polygonPosition,n.polygonRing++,Pc(t.positions,s,n.polygonPosition,r);var c=s.length;Tc(t,i,n.polygonPosition,c),t.globalFeatureIds.set(new Uint32Array(c).fill(n.feature),n.polygonPosition),t.featureIds.set(new Uint32Array(c).fill(n.polygonFeature),n.polygonPosition),n.polygonPosition+=c}}catch(u){a.e(u)}finally{a.f()}}function xc(e,t,n,r,i){var o,a=bc(e);try{for(a.s();!(o=a.n()).done;){Sc(o.value,t,n,r,i)}}catch(s){a.e(s)}finally{a.f()}}function Rc(e,t,n,r){var i={points:{positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:e.numericProps,properties:e.properties},lines:{pathIndices:{value:t.pathIndices,size:1},positions:{value:t.positions,size:r},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:t.numericProps,properties:t.properties},polygons:{polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},positions:{value:n.positions,size:r},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:n.numericProps,properties:n.properties}};for(var o in i)for(var a in i[o].numericProps)i[o].numericProps[a]={value:i[o].numericProps[a],size:1};return i}function Tc(e,t,n,r){for(var i in e.numericProps)i in t&&e.numericProps[i].set(new Array(r).fill(t[i]),n)}function Qc(e,t){for(var n in e)t.includes(n)&&delete e[n];return e}function Pc(e,t,n,r){var i,o=n*r,a=bc(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.set(s,o),o+=r}}catch(c){a.e(c)}finally{a.f()}}function Mc(e){var t;return(t=[]).concat.apply(t,Object(W.a)(e))}var Lc=n("eRUA"),Nc=n.n(Lc),kc=["Unknown","Point","LineString","Polygon"];function Dc(e,t){for(var n=0;n<e.length;n++){var r=e[n];e[n]=[r.x/t.extent,r.y/t.extent]}}function jc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e},n=kc[e.type],r=e.loadGeometry();switch(e.type){case 1:for(var i=[],o=0;o<r.length;o++)i[o]=r[o][0];t(r=i,e);break;case 2:for(var a=0;a<r.length;a++)t(r[a],e);break;case 3:r=Uc(r);for(var s=0;s<r.length;s++)for(var c=0;c<r[s].length;c++)t(r[s][c],e)}return Fc(n,e,r)}function Fc(e,t,n){var r=e;1===n.length?n=n[0]:r="Multi".concat(e);var i={type:"Feature",geometry:{type:r,coordinates:n},properties:t.properties||{}};return"id"in t&&(i.id=t.id),i}function Uc(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=Gc(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n&&n.push(e[o]))}return n&&i.push(n),i}function Gc(e){for(var t,n,r=e.length,i=0,o=0,a=r-1;o<r;a=o++)t=e[o],i+=((n=e[a]).x-t.x)*(t.y+n.y);return i}function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hc(e,t){if((t=t||{}).mvt=t.mvt||{},t.gis=t.gis||{},0===e.byteLength)return[];var n=new yc(new Nc.a(e)),r=t.mvt,i=[];if((Array.isArray(r.layers)?r.layers:Object.keys(n.layers)).forEach((function(e){var t=n.layers[e],o=Vc(Vc({},r),{},{layerName:e});if(t)for(var a=0;a<t.length;a++){var s=Yc(t.feature(a),o);i.push(s)}})),"binary"===t.gis.format){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ic(e);return Cc(e,n,{coordLength:t.coordLength||n.coordLength,numericPropKeys:t.numericPropKeys||n.numericPropKeys,PositionDataType:t.PositionDataType||Float32Array})}(i);return o.byteLength=e.byteLength,o}return i}function Yc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="wgs84"===t.coordinates,r=t.tileIndex&&Number.isFinite(t.tileIndex.x)&&Number.isFinite(t.tileIndex.y)&&Number.isFinite(t.tileIndex.z);if(n&&!r)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property. Check documentation.");var i=n&&r?e.toGeoJSON(t.tileIndex.x,t.tileIndex.y,t.tileIndex.z):jc(e,Dc);return t.layerProperty&&(i.properties[t.layerProperty]=t.layerName),i}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wc=Kc(Kc({},{id:"mvt",name:"Mapbox Vector Tile",version:"2.3.0",extensions:["mvt"],mimeTypes:["application/x-protobuf"],category:"geometry",options:{mvt:{coordinates:"local",layerProperty:"layerName",layers:null,tileIndex:null,_format:"geojson",workerUrl:"https://unpkg.com/@loaders.gl/mvt@".concat("2.3.0","/dist/mvt-loader.worker.js")}}}),{},{parse:function(){var e=Object(k.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseSync:Hc,binary:!0}),Jc=n("ReQy");function Xc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var Zc={clipBounds:[0,0,1,1]},$c="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",eu={name:"clip-vs",vs:$c},tu={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},nu={name:"clip-fs",fs:$c},ru={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"},iu=function(e){Object(c.a)(n,e);var t=Xc(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getShaders",value:function(){var e="instancePositions"in this.getAttributeManager().attributes;return"clipByInstance"in this.props&&(e=this.props.clipByInstance),this.state.clipByInstance=e,e?{modules:[eu],inject:tu}:{modules:[nu],inject:ru}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.clipBounds,r=void 0===n?Zc.clipBounds:n;if(this.state.clipByInstance)t.clip_bounds=r;else{var i=this.projectPosition([r[0],r[1],0]),o=this.projectPosition([r[2],r[3],0]);t.clip_bounds=[Math.min(i[0],o[0]),Math.min(i[1],o[1]),Math.max(i[0],o[0]),Math.max(i[1],o[1])]}}}]),n}(Jc.a);function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function su(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}iu.extensionName="ClipExtension",iu.defaultProps=Zc;var cu=function(e){Object(c.a)(n,e);var t=su(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getTileData",value:function(e){var t=Je(this.props.data,e);if(!t)return Promise.reject("Invalid URL");var n=this.getLoadOptions();return n=au(au({},n),{},{mvt:au(au({},n&&n.mvt),{},{coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:{x:e.x,y:e.y,z:e.z}})}),Object(M.a)(t,Wc,n)}},{key:"renderSubLayers",value:function(e){var t=e.tile,r=Math.pow(2,t.z),i=512/r,o=-i,a=512*t.x/r,s=512*(1-t.y/r),c=(new wt.a).scale([i,o,1]);return e.autoHighlight=!1,this.context.viewport.resolution||(e.modelMatrix=c,e.coordinateOrigin=[a,s,0],e.coordinateSystem=Dt.a.CARTESIAN,e.extensions=[].concat(Object(W.a)(e.extensions||[]),[new iu])),Object(dt.a)(Object(l.a)(n.prototype),"renderSubLayers",this).call(this,e)}},{key:"onHover",value:function(e,t){var r=this.props,i=r.uniqueIdProperty;if(r.autoHighlight){var o,a=this.state.hoveredFeatureId,s=e.object;s&&(o=uu(s,i)),a!==o&&this.setState({hoveredFeatureId:o})}return Object(dt.a)(Object(l.a)(n.prototype),"onHover",this).call(this,e,t)}},{key:"getHighlightedObjectIndex",value:function(e){var t=this.state.hoveredFeatureId,n=this.props,r=n.uniqueIdProperty,i=n.highlightedFeatureId,o=e.data;if(!(lu(t)||lu(i))||!Array.isArray(o))return-1;var a=lu(i)?i:t;return o.findIndex((function(e){return uu(e,r)===a}))}}]),n}(gt);function uu(e,t){return t?e.properties[t]:"id"in e?e.id:-1}function lu(e){return void 0!==e&&null!==e&&""!==e}cu.layerName="MVTLayer",cu.defaultProps={uniqueIdProperty:{type:"string",value:""},highlightedFeatureId:null}},LOvY:function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},Lhll:function(e,t,n){"use strict";const r=()=>"function"===typeof Symbol,i=e=>r()&&Boolean(Symbol[e]),o=e=>i(e)?Symbol[e]:"@@"+e;i("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const a=o("iterator"),s=o("observable"),c=o("species");function u(e,t){const n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function l(e){let t=e.constructor;return void 0!==t&&(t=t[c],null===t&&(t=void 0)),void 0!==t?t:m}function A(e){A.log?A.log(e):setTimeout(()=>{throw e},0)}function f(e){Promise.resolve().then(()=>{try{e()}catch(t){A(t)}})}function h(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{const e=u(t,"unsubscribe");e&&e.call(t)}}catch(n){A(n)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function d(e,t,n){e._state="running";const r=e._observer;try{const i=r?u(r,t):void 0;switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(i){A(i)}"closed"===e._state?h(e):"running"===e._state&&(e._state="ready")}function p(e,t,n){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:n})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void f(()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const n of t)if(d(e,n.type,n.value),"closed"===e._state)break}}(e))):void d(e,t,n)}class v{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const n=new y(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(g(this),h(this))}}class y{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){p(this._subscription,"next",e)}error(e){p(this._subscription,"error",e)}complete(){p(this._subscription,"complete")}}class m{constructor(e){if(!(this instanceof m))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return"object"===typeof e&&null!==e||(e={next:e,error:t,complete:n}),new v(e,this._subscriber)}pipe(e,...t){let n=this;for(const r of[e,...t])n=r(n);return n}tap(e,t,n){const r="object"!==typeof e||null===e?{next:e,error:t,complete:n}:e;return new m(e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}}))}forEach(e){return new Promise((t,n)=>{if("function"!==typeof e)return void n(new TypeError(e+" is not a function"));function r(){i.unsubscribe(),t()}const i=this.subscribe({next(t){try{e(t,r)}catch(o){n(o),i.unsubscribe()}},error:n,complete:t})})}map(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(l(this))(t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(i){return t.error(i)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(l(this))(t=>this.subscribe({next(n){try{if(!e(n))return}catch(r){return t.error(r)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!==typeof e)throw new TypeError(e+" is not a function");const n=l(this),r=arguments.length>1;let i=!1,o=t;return new n(t=>this.subscribe({next(n){const a=!i;if(i=!0,!a||r)try{o=e(o,n)}catch(s){return t.error(s)}else o=n},error(e){t.error(e)},complete(){if(!i&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(o),t.complete()}}))}concat(...e){const t=l(this);return new t(n=>{let r,i=0;return function o(a){r=a.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){i===e.length?(r=void 0,n.complete()):o(t.from(e[i++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}})}flatMap(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");const t=l(this);return new t(n=>{const r=[],i=this.subscribe({next(i){let a;if(e)try{a=e(i)}catch(c){return n.error(c)}else a=i;const s=t.from(a).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){const e=r.indexOf(s);e>=0&&r.splice(e,1),o()}});r.push(s)},error(e){n.error(e)},complete(){o()}});function o(){i.closed&&0===r.length&&n.complete()}return()=>{r.forEach(e=>e.unsubscribe()),i.unsubscribe()}})}[s](){return this}static from(e){const t="function"===typeof this?this:m;if(null==e)throw new TypeError(e+" is not an object");const n=u(e,s);if(n){const r=n.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return function(e){return e instanceof m}(r)&&r.constructor===t?r:new t(e=>r.subscribe(e))}if(i("iterator")){const n=u(e,a);if(n)return new t(t=>{f(()=>{if(!t.closed){for(const r of n.call(e))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{f(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"===typeof this?this:m)(t=>{f(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})})}static get[c](){return this}}r()&&Object.defineProperty(m,Symbol("extensions"),{value:{symbol:s,hostReportError:A},configurable:!0});t.a=m},LuF4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("rv+A");function i(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(Object(r.a)(e),'"'))}}},NEZD:function(e,t,n){"use strict";var r=n("Lhll"),i=n("qyNU");var o=function(e){"function"===typeof e?e():e&&"function"===typeof e.unsubscribe&&e.unsubscribe()};t.a=function(e){const t=new i.a;let n,a=0;return new r.a(r=>{n||(n=e.subscribe(t));const i=t.subscribe(r);return a++,()=>{a--,i.unsubscribe(),0===a&&(o(n),n=void 0)}})}},NOtv:function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n("3JDX")(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("8oxB"))},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},OImt:function(e,t,n){function r(e,t){"use strict";var n=(t=t||{}).pos||0,i="<".charCodeAt(0),o=">".charCodeAt(0),a="-".charCodeAt(0),s="/".charCodeAt(0),c="!".charCodeAt(0),u="'".charCodeAt(0),l='"'.charCodeAt(0),A="[".charCodeAt(0);"]".charCodeAt(0);function f(){for(var t=[];e[n];)if(e.charCodeAt(n)==i){if(e.charCodeAt(n+1)===s)return(n=e.indexOf(">",n))+1&&(n+=1),t;if(e.charCodeAt(n+1)===c){if(e.charCodeAt(n+2)==a){for(;-1!==n&&(e.charCodeAt(n)!==o||e.charCodeAt(n-1)!=a||e.charCodeAt(n-2)!=a||-1==n);)n=e.indexOf(">",n+1);-1===n&&(n=e.length)}else{if(e.charCodeAt(n+2)===A&&e.charCodeAt(n+8)===A&&"cdata"===e.substr(n+3,5).toLowerCase()){var r=e.indexOf("]]>",n);-1==r?(t.push(e.substr(n+8)),n=e.length):(t.push(e.substring(n+9,r)),n=r+3);continue}for(n+=2;e.charCodeAt(n)!==o&&e[n];)n++}n++;continue}var u=p();t.push(u)}else{var l=h();l.trim().length>0&&t.push(l),n++}return t}function h(){var t=n;return-2===(n=e.indexOf("<",n)-1)&&(n=e.length),e.slice(t,n+1)}function g(){for(var t=n;-1==="\r\n\t>/= ".indexOf(e[n])&&e[n];)n++;return e.slice(t,n)}var d=t.noChildNodes||["img","br","input","meta","link"];function p(){n++;const t=g(),r={};let i=[];for(;e.charCodeAt(n)!==o&&e[n];){var a=e.charCodeAt(n);if(a>64&&a<91||a>96&&a<123){for(var c=g(),A=e.charCodeAt(n);A&&A!==u&&A!==l&&!(A>64&&A<91||A>96&&A<123)&&A!==o;)n++,A=e.charCodeAt(n);if(A===u||A===l){var h=v();if(-1===n)return{tagName:t,attributes:r,children:i}}else h=null,n--;r[c]=h}n++}if(e.charCodeAt(n-1)!==s)if("script"==t){var p=n+1;n=e.indexOf("<\/script>",n),i=[e.slice(p,n)],n+=9}else if("style"==t){p=n+1;n=e.indexOf("</style>",n),i=[e.slice(p,n)],n+=8}else-1==d.indexOf(t)&&(n++,i=f());else n++;return{tagName:t,attributes:r,children:i}}function v(){var t=e[n],r=n+1;return n=e.indexOf(t,r),e.slice(r,n)}function y(){var n=new RegExp("\\s"+t.attrName+"\\s*=['\"]"+t.attrValue+"['\"]").exec(e);return n?n.index:-1}var m=null;if(void 0!==t.attrValue){t.attrName=t.attrName||"id";for(m=[];-1!==(n=y());)-1!==(n=e.lastIndexOf("<",n))&&m.push(p()),e=e.substr(n),n=0}else m=t.parseNode?p():f();return t.filter&&(m=r.filter(m,t.filter)),t.setPos&&(m.pos=n),m}r.simplify=function(e){var t={};if(!e.length)return"";if(1===e.length&&"string"==typeof e[0])return e[0];for(var n in e.forEach((function(e){if("object"===typeof e){t[e.tagName]||(t[e.tagName]=[]);var n=r.simplify(e.children);t[e.tagName].push(n),Object.keys(e.attributes).length&&(n._attributes=e.attributes)}})),t)1==t[n].length&&(t[n]=t[n][0]);return t},r.simplifyLostLess=function(e,t={}){var n={};return e.length?1===e.length&&"string"==typeof e[0]?Object.keys(t).length?{_attributes:t,value:e[0]}:e[0]:(e.forEach((function(e){if("object"===typeof e){n[e.tagName]||(n[e.tagName]=[]);var t=r.simplifyLostLess(e.children||[],e.attributes);n[e.tagName].push(t),Object.keys(e.attributes).length&&(t._attributes=e.attributes)}})),n):""},r.filter=function(e,t,n=0,i=""){var o=[];return e.forEach((function(e,a){if("object"===typeof e&&t(e,a,n,i)&&o.push(e),e.children){var s=r.filter(e.children,t,n+1,(i?i+".":"")+a+"."+e.tagName);o=o.concat(s)}})),o},r.stringify=function(e){var t="";function n(e){if(e)for(var n=0;n<e.length;n++)"string"==typeof e[n]?t+=e[n].trim():r(e[n])}function r(e){for(var r in t+="<"+e.tagName,e.attributes)null===e.attributes[r]?t+=" "+r:-1===e.attributes[r].indexOf('"')?t+=" "+r+'="'+e.attributes[r].trim()+'"':t+=" "+r+"='"+e.attributes[r].trim()+"'";t+=">",n(e.children),t+="</"+e.tagName+">"}return n(e),t},r.toContentString=function(e){if(Array.isArray(e)){var t="";return e.forEach((function(e){t=(t+=" "+r.toContentString(e)).trim()})),t}return"object"===typeof e?r.toContentString(e.children):" "+e},r.getElementById=function(e,t,n){var i=r(e,{attrValue:t});return n?r.simplify(i):i[0]},r.getElementsByClassName=function(e,t,n){const i=r(e,{attrName:"class",attrValue:"[a-zA-Z0-9- ]*"+t+"[a-zA-Z0-9- ]*"});return n?r.simplify(i):i},r.parseStream=function(e,t){if("string"===typeof t&&(t=t.length+2),"string"===typeof e){var i=n(4);e=i.createReadStream(e,{start:t}),t=0}var o=t,a="";return e.on("data",(function(t){a+=t;for(var n=0;;){if(!(o=a.indexOf("<",o)+1))return void(o=n);if("/"!==a[o+1]){var i=r(a,{pos:o-1,parseNode:!0,setPos:!0});if((o=i.pos)>a.length-1||o<n)return a=a.slice(n),o=0,void(n=0);e.emit("xml",i),n=o}else o+=1,n=pos}})),e},r.transformStream=function(e){const t=n("EdPt");"string"===typeof e&&(e=e.length+2);var i=e||0,o="";return t({readableObjectMode:!0},(function(e,t,n){o+=e;for(var a=0;;){if(!(i=o.indexOf("<",i)+1))return i=a,n();if("/"!==o[i+1]){var s=r(o,{pos:i-1,parseNode:!0,setPos:!0});if((i=s.pos)>o.length-1||i<a)return o=o.slice(a),i=0,n();this.push(s),a=i}else i+=1,a=pos}n()}))},e.exports=r,r.xml=r},P7XM:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},QPTa:function(e,t,n){"use strict";var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",i=(t.a={name:"lights",vs:r,fs:r,getUniforms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if("lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,o=n.pointLights,s=n.directionalLights,c=r||o&&o.length>0||s&&s.length>0;return c?Object.assign({},a({ambientLight:r,pointLights:o,directionalLights:s}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){var u={pointLights:[],directionalLights:[]},l=!0,A=!1,f=void 0;try{for(var h,g=(t.lights||[])[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var d=h.value;switch(d.type){case"ambient":u.ambientLight=d;break;case"directional":u.directionalLights.push(d);break;case"point":u.pointLights.push(d)}}}catch(p){A=!0,f=p}finally{try{l||null==g.return||g.return()}finally{if(A)throw f}}return e({lightSources:u})}return{}},defines:{MAX_LIGHTS:3}},{});function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?[0,0,0]:t,r=e.intensity,i=void 0===r?1:r;return n.map((function(e){return e*i/255}))}function a(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,a=void 0===i?[]:i,s={};return s["lighting_uAmbientLight.color"]=t?o(t):[0,0,0],r.forEach((function(e,t){s["lighting_uPointLight[".concat(t,"].color")]=o(e),s["lighting_uPointLight[".concat(t,"].position")]=e.position,s["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),s.lighting_uPointLightCount=r.length,a.forEach((function(e,t){s["lighting_uDirectionalLight[".concat(t,"].color")]=o(e),s["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),s.lighting_uDirectionalLightCount=a.length,s}},QmWs:function(e,t,n){var r,i=(r=n("s4NR"))&&"object"==typeof r&&"default"in r?r.default:r,o=/https?|ftp|gopher|file/;function a(e){"string"==typeof e&&(e=m(e));var t=function(e,t,n){var r=e.auth,i=e.hostname,o=e.protocol||"",a=e.pathname||"",s=e.hash||"",c=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:i&&(u=r+(~i.indexOf(":")?"["+i+"]":i),e.port&&(u+=":"+e.port)),c&&"object"==typeof c&&(c=t.encode(c));var l=e.search||c&&"?"+c||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||n.test(o))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),l&&"?"!==l[0]&&(l="?"+l),{protocol:o,host:u,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:s}}(e,i,o);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",c="w.w",u=s+c,l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,A=/https?|ftp|gopher|file/;function f(e,t){var n="string"==typeof e?m(e):e;e="object"==typeof e?a(e):e;var r=m(t),i="";n.protocol&&!n.slashes&&(i=n.protocol,e=e.replace(n.protocol,""),i+="/"===t[0]||"/"===e[0]?"/":""),i&&r.protocol&&(i="",r.slashes||(i=r.protocol,t=t.replace(r.protocol,"")));var o=e.match(l);o&&!r.protocol&&(e=e.substr((i=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(t)&&(i=i.slice(0,-1)));var c=new URL(e,u+"/"),f=new URL(t,c).toString().replace(u,""),h=r.protocol||n.protocol;return h+=n.slashes||r.slashes?"//":"",!i&&h?f=f.replace(s,h):i&&(f=f.replace(s,"")),A.test(f)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),i&&(f=i+("/"===f[0]?f.substr(1):f)),f}function h(){}h.prototype.parse=m,h.prototype.format=a,h.prototype.resolve=f,h.prototype.resolveObject=f;var g=/^https?|ftp|gopher|file/,d=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,v=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function m(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof h)return e;var r=(e=e.trim()).match(d);e=r?r[1].replace(/\\/g,"/")+r[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var o=!/(^javascript)/.test(e)&&e.match(p),s=v.test(e),l="";o&&(g.test(o[1])||(l=o[1].toLowerCase(),e=""+o[2]+o[3]),o[2]||(s=!1,g.test(o[1])?(l=o[1],e=""+o[3]):e="//"+o[3]),3!==o[2].length&&1!==o[2].length||(l=o[1],e="/"+o[3]));var A,f=(r?r[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=f&&f[1],b=new h,E="",I="";try{A=new URL(e)}catch(i){E=i,l||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(I="/",e=e.substr(1));try{A=new URL(e,u)}catch(e){return b.protocol=l,b.href=l,b}}b.slashes=s&&!I,b.host=A.host===c?"":A.host,b.hostname=A.hostname===c?"":A.hostname.replace(/(\[|\])/g,""),b.protocol=E?l||null:A.protocol,b.search=A.search.replace(/\\/g,"%5C"),b.hash=A.hash.replace(/\\/g,"%5C");var C=e.split("#");!b.search&&~C[0].indexOf("?")&&(b.search="?"),b.hash||""!==C[1]||(b.hash="#"),b.query=t?i.decode(A.search.substr(1)):b.search.substr(1),b.pathname=I+(o?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(A.pathname):A.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),E&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),l&&!g.test(l)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[A.username,A.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=A.port,m&&!b.host.endsWith(m)&&(b.host+=m,b.port=m.slice(1)),b.href=I?""+b.pathname+b.search+b.hash:a(b);var _=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach((function(e){~_.indexOf(e)||(b[e]=b[e]||null)})),b}t.parse=m,t.format=a,t.resolve=f,t.resolveObject=function(e,t){return m(f(e,t))},t.Url=h},QpuX:function(e,t,n){e.exports=n("+qE3").EventEmitter},"R1+Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("md7G"),s=n("foSv"),c=n("Jh/b"),u=n("rpwb"),l=n("5lV4"),A=n("KHNG"),f=n("ctuC"),h=n("3DrS"),g=n("Im0j");function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var y={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(e){return e.polygon}},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0},m=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initializeState",value:function(){this.state={paths:[]},this.props.getLineDashArray&&c.a.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=this,n=(e.oldProps,e.props,e.changeFlags),r=n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon);if(r&&Array.isArray(n.dataChanged)){var i=this.state.paths.slice(),o=n.dataChanged.map((function(e){return Object(g.a)({data:i,getIndex:function(e){return e.__source.index},dataRange:e,replace:t._getPaths(e)})}));this.setState({paths:i,pathsDiff:o})}else r&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.data,i=n.getPolygon,o=n.positionFormat,a=n._normalize,s=[],c="XY"===o?2:3,l=t.startRow,A=t.endRow,f=Object(u.a)(r,l,A),g=f.iterable,p=f.objectInfo,v=d(g);try{for(v.s();!(e=v.n()).done;){var y=e.value;p.index++;var m=i(y,p);a&&(m=h.b(m,c));var b=m,E=b.holeIndices,I=m.positions||m;if(E)for(var C=0;C<=E.length;C++){var _=I.slice(E[C-1]||0,E[C]||I.length);s.push(this.getSubLayerRow({path:_},y,p.index))}else s.push(this.getSubLayerRow({path:I},y,p.index))}}catch(B){v.e(B)}finally{v.f()}return s}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e._dataDiff,r=e.stroked,i=e.filled,o=e.extruded,a=e.wireframe,s=e._normalize,c=e.elevationScale,u=e.transitions,l=e.positionFormat,h=this.props,g=h.lineWidthUnits,d=h.lineWidthScale,p=h.lineWidthMinPixels,v=h.lineWidthMaxPixels,y=h.lineJointRounded,m=h.lineMiterLimit,b=h.lineDashJustified,E=this.props,I=E.getFillColor,C=E.getLineColor,_=E.getLineWidth,B=E.getLineDashArray,w=E.getElevation,O=E.getPolygon,S=E.updateTriggers,x=E.material,R=this.state,T=R.paths,Q=R.pathsDiff,P=this.getSubLayerClass("fill",A.a),M=this.getSubLayerClass("stroke",f.a),L=this.shouldRenderSubLayer("fill",T)&&new P({_dataDiff:n,extruded:o,elevationScale:c,filled:i,wireframe:a,_normalize:s,getElevation:w,getFillColor:I,getLineColor:C,material:x,transitions:u},this.getSubLayerProps({id:"fill",updateTriggers:{getPolygon:S.getPolygon,getElevation:S.getElevation,getFillColor:S.getFillColor,getLineColor:S.getLineColor}}),{data:t,positionFormat:l,getPolygon:O});return[!o&&L,!o&&r&&this.shouldRenderSubLayer("stroke",T)&&new M({_dataDiff:Q&&function(){return Q},widthUnits:g,widthScale:d,widthMinPixels:p,widthMaxPixels:v,rounded:y,miterLimit:m,dashJustified:b,_pathType:"loop",transitions:u&&{getWidth:u.getLineWidth,getColor:u.getLineColor,getPath:u.getPolygon},getColor:this.getSubLayerAccessor(C),getWidth:this.getSubLayerAccessor(_),getDashArray:this.getSubLayerAccessor(B)},this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:S.getLineWidth,getColor:S.getLineColor,getDashArray:S.getLineDashArray}}),{data:T,positionFormat:l,getPath:function(e){return e.path}}),o&&L]}}]),n}(l.a);m.layerName="PolygonLayer",m.defaultProps=y},RIqP:function(e,t,n){var r=n("Ijbi"),i=n("EbDI"),o=n("ZhPi"),a=n("Bnag");e.exports=function(e){return r(e)||i(e)||o(e)||a()}},ReQy:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1OyB"),i=n("vuIU"),o=n("LDVv"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e),this.opts=t}return Object(i.a)(e,[{key:"equals",value:function(e){return this===e||this.constructor===e.constructor&&Object(o.a)(this.opts,e.opts)}},{key:"getShaders",value:function(e){return null}},{key:"getSubLayerProps",value:function(e){var t=e.constructor.defaultProps,n=void 0===t?{}:t,r={updateTriggers:{}};for(var i in n)if(i in this.props){var o=n[i],a=this.props[i];r[i]=a,o&&"accessor"===o.type&&(r.updateTriggers[i]=this.props.updateTriggers[i],"function"===typeof a&&(r[i]=this.getSubLayerAccessor(a,!0)))}return r}},{key:"initializeState",value:function(e,t){}},{key:"updateState",value:function(e,t){}},{key:"draw",value:function(e,t){}},{key:"finalizeState",value:function(e){}}]),e}()},RoFp:function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n("8oxB"))},S6im:function(e,t,n){"use strict";e.exports=(e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!==typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!==typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!==typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const r=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,n.indent.repeat(t))}},SLVX:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},Tcbo:function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"UB+q":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n("iceZ"),i=n.n(r),o=n("3Cr/"),a=n("zY86"),s=n("zqkD"),c=n("AHNb"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};c.a.isWorkerRuntime;let l=!1;const A=new Map,f=e=>e&&e.type===s.a.run,h=e=>i()(e)||function(e){return e&&"object"===typeof e&&"function"===typeof e.subscribe}(e);function g(e){return Object(a.b)(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function d(e,t){const{payload:n,transferables:r}=g(t),i={type:s.b.error,uid:e,error:Object(o.c)(n)};c.a.postMessageToMaster(i,r)}function p(e,t,n){const{payload:r,transferables:i}=g(n),o={type:s.b.result,uid:e,complete:!!t||void 0,payload:r};c.a.postMessageToMaster(o,i)}function v(e){try{const t={type:s.b.uncaughtError,error:Object(o.c)(e)};c.a.postMessageToMaster(t)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",t,"\nOriginal error:",e)}}function y(e,t,n){return u(this,void 0,void 0,(function*(){let r;try{r=t(...n)}catch(a){return d(e,a)}const i=h(r)?"observable":"promise";if(function(e,t){const n={type:s.b.running,uid:e,resultType:t};c.a.postMessageToMaster(n)}(e,i),h(r)){const t=r.subscribe(t=>p(e,!1,Object(o.c)(t)),t=>{d(e,Object(o.c)(t)),A.delete(e)},()=>{p(e,!0),A.delete(e)});A.set(e,t)}else try{const t=yield r;p(e,!0,Object(o.c)(t))}catch(a){d(e,Object(o.c)(a))}}))}function m(e){if(!c.a.isWorkerRuntime())throw Error("expose() called in the master thread.");if(l)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(l=!0,"function"===typeof e)c.a.subscribeToMasterMessages(t=>{f(t)&&!t.method&&y(t.uid,e,t.args.map(o.a))}),function(){const e={type:s.b.init,exposed:{type:"function"}};c.a.postMessageToMaster(e)}();else{if("object"!==typeof e||!e)throw Error("Invalid argument passed to expose(). Expected a function or an object, got: "+e);c.a.subscribeToMasterMessages(t=>{f(t)&&t.method&&y(t.uid,e[t.method],t.args.map(o.a))});!function(e){const t={type:s.b.init,exposed:{type:"module",methods:e}};c.a.postMessageToMaster(t)}(Object.keys(e).filter(t=>"function"===typeof e[t]))}c.a.subscribeToMasterMessages(e=>{if((t=e)&&t.type===s.a.cancel){const t=e.uid,n=A.get(t);n&&(n.unsubscribe(),A.delete(t))}var t})}"undefined"!==typeof self&&"function"===typeof self.addEventListener&&c.a.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>v(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"===typeof t.message&&setTimeout(()=>v(t),250)})),"undefined"!==typeof e&&"function"===typeof e.on&&c.a.isWorkerRuntime()&&(e.on("uncaughtException",e=>{setTimeout(()=>v(e),250)}),e.on("unhandledRejection",e=>{e&&"string"===typeof e.message&&setTimeout(()=>v(e),250)}))}).call(this,n("8oxB"))},Vm2G:function(e,t,n){"use strict";n.r(t);var r=n("yYqN");n.d(t,"DeckGL",(function(){return r.a})),n.d(t,"default",(function(){return r.a}))},VmRL:function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,c,u,l,h,g,p=t&&t.length,v=p?t[0]*n:e.length,y=i(e,0,v,n,!0),m=[];if(!y||y.next===y.prev)return m;if(p&&(y=function(e,t,n,r){var a,s,c,u=[];for(a=0,s=t.length;a<s;a++)(c=i(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r,!1))===c.next&&(c.steiner=!0),u.push(d(c));for(u.sort(A),a=0;a<u.length;a++)f(u[a],n),n=o(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=c=e[0],s=u=e[1];for(var b=n;b<v;b+=n)(l=e[b])<r&&(r=l),(h=e[b+1])<s&&(s=h),l>c&&(c=l),h>u&&(u=h);g=0!==(g=Math.max(c-r,u-s))?1/g:0}return a(y,m,n,r,s,g),m}function i(e,t,n,r,i){var o,a;if(i===S(e,t,n,r)>0)for(o=t;o<n;o+=r)a=B(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=B(o,e[o],e[o+1],a);return a&&m(a,a.next)&&(w(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(w(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,A,f){if(e){!f&&A&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(c=u;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,A);for(var h,d,p=e;e.prev!==e.next;)if(h=e.prev,d=e.next,A?c(e,r,i,A):s(e))t.push(h.i/n),t.push(e.i/n),t.push(d.i/n),w(e),e=d.next,p=d.next;else if((e=d)===p){f?1===f?a(e=u(o(e),t,n),t,n,r,i,A,2):2===f&&l(e,t,n,r,i,A):a(o(e),t,n,r,i,A,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(y(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(p(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function c(e,t,n,r){var i=e.prev,o=e,a=e.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,A=g(s,c,t,n,r),f=g(u,l,t,n,r),h=e.prevZ,d=e.nextZ;h&&h.z>=A&&d&&d.z<=f;){if(h!==e.prev&&h!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=A;){if(h!==e.prev&&h!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=f;){if(d!==e.prev&&d!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!m(i,a)&&b(i,r,r.next,a)&&C(i,a)&&C(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),w(r),w(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function l(e,t,n,r,i,s){var c=e;do{for(var u=c.next.next;u!==c.prev;){if(c.i!==u.i&&v(c,u)){var l=_(c,u);return c=o(c,c.next),l=o(l,l.next),a(c,t,n,r,i,s),void a(l,t,n,r,i,s)}u=u.next}c=c.next}while(c!==e)}function A(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var c,u=n,l=n.x,A=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&p(o<A?i:a,o,l,A,o<A?a:i,o,r.x,r.y)&&(c=Math.abs(o-r.y)/(i-r.x),C(r,e)&&(c<f||c===f&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,f=c)),r=r.next}while(r!==u);return n}(e,t)){var n=_(t,e);o(t,t.next),o(n,n.next)}}function h(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function g(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&b(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(C(e,t)&&C(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||m(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,n,r){var i=I(y(e,t,n)),o=I(y(e,t,r)),a=I(y(n,r,e)),s=I(y(n,r,t));return i!==o&&a!==s||(!(0!==i||!E(e,n,t))||(!(0!==o||!E(e,r,t))||(!(0!==a||!E(n,e,r))||!(0!==s||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function C(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function _(e,t){var n=new O(e.i,e.x,e.y),r=new O(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function B(e,t,n,r){var i=new O(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function w(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(S(e,0,o,n));if(i)for(var s=0,c=t.length;s<c;s++){var u=t[s]*n,l=s<c-1?t[s+1]*n:e.length;a-=Math.abs(S(e,u,l,n))}var A=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,g=r[s+2]*n;A+=Math.abs((e[f]-e[g])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[g+1]-e[f+1]))}return 0===a&&0===A?0:Math.abs((A-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},X0th:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(r||(r={}))},"XQ+Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("91Zk"),A=n("BQ9P"),f=n("K7jV"),h=n("ykdB"),g=n("rePB"),d=n("Jh/b"),p=n("VdrS");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var b=function(e){Object(a.a)(n,e);var t=m(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,n);var i=e.id,o=void 0===i?Object(p.c)("column-geometry"):i,a=E(e),s=a.indices,c=a.attributes;return t.call(this,y(y({},e),{},{id:o,indices:s,attributes:c}))}return n}(n("0i8A").a);function E(e){var t=e.radius,n=e.height,r=void 0===n?1:n,i=e.nradial,o=void 0===i?10:i,a=e.vertices;d.a.assert(!a||a.length>=o);for(var s=o+1,c=3*s,u=2*Math.PI/o,l=new Uint16Array(3*o*2),A=new Float32Array(3*c),f=new Float32Array(3*c),h=0,g=0;g<s;g++)for(var p=g*u,v=a&&a[g%o],y=a&&a[(g+1)%o],m=Math.sin(p),b=Math.cos(p),E=0;E<2;E++)A[h+0]=v?v[0]:b*t,A[h+1]=v?v[1]:m*t,A[h+2]=(.5-E)*r,f[h+0]=v?y[0]-v[0]:b,f[h+1]=v?y[1]-v[1]:m,h+=3;for(var I=0;I<s;I++){var C=Math.floor(I/2)*Math.sign(I%2-.5),_=C*u,B=a&&a[(C+o)%o],w=Math.sin(_),O=Math.cos(_);A[h+0]=B?B[0]:O*t,A[h+1]=B?B[1]:w*t,A[h+2]=r/2,f[h+2]=1,h+=3}for(var S=0,x=0;x<o;x++)l[S++]=2*x+0,l[S++]=2*x+2,l[S++]=2*x+0,l[S++]=2*x+1,l[S++]=2*x+1,l[S++]=2*x+3;return{indices:l,attributes:{POSITION:{size:3,value:A},NORMAL:{size:3,value:f}}}}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var C=[0,0,0,255],_={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getFillColor:{type:"accessor",value:C},getLineColor:{type:"accessor",value:C},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}},B=function(e){Object(a.a)(n,e);var t=I(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:"\n#define SHADER_NAME column-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute float instanceElevations;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute float instanceStrokeWidths;\n\nattribute vec3 instancePickingColors;\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nvarying vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  float elevation = 0.0;\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (isStroke) {\n    float widthPixels = clamp(project_size_to_pixel(instanceStrokeWidths * widthScale),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    strokeOffsetRatio += sign(positions.z) * project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n  }\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  geometry.pickingColor = instancePickingColors;\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec3 pos = vec3(project_size(rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  if (extruded && !isStroke) {\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[u.a,l.a,A.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:C},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:C},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i});var a=i.extensionsChanged;if(a){var s=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(s)}),this.getAttributeManager().invalidateAll()}(a||t.diskResolution!==r.diskResolution||t.vertices!==r.vertices)&&this._updateGeometry(t)}},{key:"getGeometry",value:function(e,t){var n=new b({radius:1,height:2,vertices:t,nradial:e}),r=0;if(t)for(var i=0;i<e;i++){var o=t[i];r+=Math.sqrt(o[0]*o[0]+o[1]*o[1])/e}else r=1;return this.setState({edgeDistance:Math.cos(Math.PI/e)*r}),n}},{key:"_getModel",value:function(e){return new h.a(e,Object.assign({},this.getShaders(),{id:this.props.id,isInstanced:!0}))}},{key:"_updateGeometry",value:function(e){var t=e.diskResolution,n=e.vertices,r=this.getGeometry(t,n);this.setState({fillVertexCount:r.attributes.POSITION.value.length/3,wireframeVertexCount:r.indices.value.length}),this.state.model.setProps({geometry:r})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.lineWidthUnits,o=r.lineWidthScale,a=r.lineWidthMinPixels,s=r.lineWidthMaxPixels,c=r.elevationScale,u=r.extruded,l=r.filled,A=r.stroked,f=r.wireframe,h=r.offset,g=r.coverage,d=r.radius,p=r.angle,v=this.state,y=v.model,m=v.fillVertexCount,b=v.wireframeVertexCount,E=v.edgeDistance,I="pixels"===i?n.metersPerPixel:1;y.setUniforms(Object.assign({},t,{radius:d,angle:p/180*Math.PI,offset:h,extruded:u,coverage:g,elevationScale:c,edgeDistance:E,widthScale:o*I,widthMinPixels:a,widthMaxPixels:s})),u&&f&&(y.setProps({isIndexed:!0}),y.setVertexCount(b).setDrawMode(1).setUniforms({isStroke:!0}).draw()),l&&(y.setProps({isIndexed:!1}),y.setVertexCount(m).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!u&&A&&(y.setProps({isIndexed:!1}),y.setVertexCount(2*m/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}]),n}(f.a);B.layerName="ColumnLayer",B.defaultProps=_},XRzD:function(e,t,n){"use strict";var r;var i=n("ybjB").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n("kDxh")),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function A(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=A(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(u),o||(a.forEach(u),i(r))}))}));return t.reduce(l)}},Xcno:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("DXy4");function i(e){return e+3&-4}function o(e,t,n){return Object(r.c)(e,t,n)}function a(e,t,n){var r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{var o=e.byteOffset,a=e.byteLength;r=new Uint8Array(e.buffer,o,a)}return t.set(r,n),n+i(r.byteLength)}},Y81X:function(e,t,n){"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},YKQg:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("BQ9P"),A=n("K7jV"),f=n("ykdB"),h=n("0i8A");function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var d=[0,0,0,255],p={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getSourceColor:{type:"accessor",value:d},getTargetColor:{type:"accessor",value:d},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},v=function(e){Object(a.a)(n,e);var t=g(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  float unitZ = dh == 0.0 ? 0.0 : deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n  \n    float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n    float nextSegmentRatio = getSegmentRatio(min(numSegments, segmentIndex + 1.0));\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    source = project_position(instanceSourcePositions, instanceSourcePositions64Low);\n    target = project_position(instanceTargetPositions, instanceTargetPositions64Low);\n\n    float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale),\n    widthMinPixels, widthMaxPixels\n  );\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[u.a,l.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:d},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:d},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var a=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(a)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.widthUnits,o=r.widthScale,a=r.widthMinPixels,s=r.widthMaxPixels,c=r.greatCircle,u="pixels"===i?n.metersPerPixel:1;this.state.model.setUniforms(t).setUniforms({greatCircle:c,widthScale:o*u,widthMinPixels:a,widthMaxPixels:s}).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<50;n++)t=t.concat([n,1,0,n,-1,0]);var r=new f.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h.a({drawMode:5,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}));return r.setUniforms({numSegments:50}),r}}]),n}(A.a);v.layerName="ArcLayer",v.defaultProps=p},ZhPi:function(e,t,n){var r=n("WkPL");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},a1gu:function(e,t,n){var r=n("cDf5"),i=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},aFNf:function(e,t,n){"use strict";var r=n("vn/o"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,l,A,f){var h,g,d,p,v,y,m,b,E,I=f.bits,C=0,_=0,B=0,w=0,O=0,S=0,x=0,R=0,T=0,Q=0,P=null,M=0,L=new r.Buf16(16),N=new r.Buf16(16),k=null,D=0;for(C=0;C<=15;C++)L[C]=0;for(_=0;_<c;_++)L[t[n+_]]++;for(O=I,w=15;w>=1&&0===L[w];w--);if(O>w&&(O=w),0===w)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(B=1;B<w&&0===L[B];B++);for(O<B&&(O=B),R=1,C=1;C<=15;C++)if(R<<=1,(R-=L[C])<0)return-1;if(R>0&&(0===e||1!==w))return-1;for(N[1]=0,C=1;C<15;C++)N[C+1]=N[C]+L[C];for(_=0;_<c;_++)0!==t[n+_]&&(A[N[t[n+_]]++]=_);if(0===e?(P=k=A,y=19):1===e?(P=i,M-=257,k=o,D-=257,y=256):(P=a,k=s,y=-1),Q=0,_=0,C=B,v=l,S=O,x=0,d=-1,p=(T=1<<O)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){m=C-x,A[_]<y?(b=0,E=A[_]):A[_]>y?(b=k[D+A[_]],E=P[M+A[_]]):(b=96,E=0),h=1<<C-x,B=g=1<<S;do{u[v+(Q>>x)+(g-=h)]=m<<24|b<<16|E|0}while(0!==g);for(h=1<<C-1;Q&h;)h>>=1;if(0!==h?(Q&=h-1,Q+=h):Q=0,_++,0===--L[C]){if(C===w)break;C=t[n+A[_]]}if(C>O&&(Q&p)!==d){for(0===x&&(x=O),v+=B,R=1<<(S=C-x);S+x<w&&!((R-=L[S+x])<=0);)S++,R<<=1;if(T+=1<<S,1===e&&T>852||2===e&&T>592)return 1;u[d=Q&p]=O<<24|S<<16|v-l|0}}return 0!==Q&&(u[v+Q]=C-x<<24|64<<16|0),f.bits=O,0}},atKK:function(e,t,n){"use strict";function r(e,t){const n=e.deserialize.bind(e),r=e.serialize.bind(e);return{deserialize:e=>t.deserialize(e,n),serialize:e=>t.serialize(e,r)}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const i={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})},o={deserialize(e){return(t=e)&&"object"===typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?i.deserialize(e):e;var t},serialize:e=>e instanceof Error?i.serialize(e):e}},bCCX:function(e,t,n){"use strict";n.r(t),function(e,r){var i,o=n("SLVX");i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(o.a)(i);t.default=a}.call(this,n("yLpj"),n("3UD+")(e))},bDqb:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m}));var r=n("NOtv"),i=n.n(r),o=n("Lhll"),a=n("NEZD"),s=n("3Cr/");const c=()=>{},u=e=>e,l=e=>Promise.resolve().then(e);function A(e){throw e}class f extends o.a{constructor(e){super(t=>{const n=this,r=Object.assign(Object.assign({},t),{complete(){t.complete(),n.onCompletion()},error(e){t.error(e),n.onError(e)},next(e){t.next(e),n.onNext(e)}});try{return this.initHasRun=!0,e(r)}catch(i){r.error(i)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)l(()=>t(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)l(()=>e(this.firstValue))}then(e,t){const n=e||u,r=t||A;let i=!1;return new Promise((e,t)=>{const o=n=>{if(!i){i=!0;try{e(r(n))}catch(o){t(o)}}};return this.initHasRun||this.subscribe({error:o}),"fulfilled"===this.state?e(n(this.firstValue)):"rejected"===this.state?(i=!0,e(r(this.rejection))):(this.fulfillmentCallbacks.push(t=>{try{e(n(t))}catch(r){o(r)}}),void this.rejectionCallbacks.push(o))})}catch(e){return this.then(void 0,e)}finally(e){const t=e||c;return this.then(e=>(t(),e),()=>t())}static from(e){return function(e){return e&&"function"===typeof e.then}(e)?new f(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}var h=n("zY86"),g=n("zqkD");const d=i()("threads:master:messages");let p=1;function v(e,t){return new o.a(n=>{let r;const i=o=>{var a;if(d("Message from worker:",o.data),o.data&&o.data.uid===t)if((a=o.data)&&a.type===g.b.running)r=o.data.resultType;else if((e=>e&&e.type===g.b.result)(o.data))"promise"===r?("undefined"!==typeof o.data.payload&&n.next(Object(s.a)(o.data.payload)),n.complete(),e.removeEventListener("message",i)):(o.data.payload&&n.next(Object(s.a)(o.data.payload)),o.data.complete&&(n.complete(),e.removeEventListener("message",i)));else if((e=>e&&e.type===g.b.error)(o.data)){const t=Object(s.a)(o.data.error);n.error(t),e.removeEventListener("message",i)}};return e.addEventListener("message",i),()=>{if("observable"===r||!r){const n={type:g.a.cancel,uid:t};e.postMessage(n)}e.removeEventListener("message",i)}})}function y(e,t){return(...n)=>{const r=p++,{args:i,transferables:o}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],n=[];for(const i of e)Object(h.b)(i)?(t.push(Object(s.c)(i.send)),n.push(...i.transferables)):t.push(Object(s.c)(i));return{args:t,transferables:0===n.length?n:(r=n,Array.from(new Set(r)))};var r}(n),c={type:g.a.run,uid:r,method:t,args:i};d("Sending command to run function to worker:",c);try{e.postMessage(c,o)}catch(u){return f.from(Promise.reject(u))}return f.from(Object(a.a)(v(e,r)))}}function m(e,t){const n={};for(const r of t)n[r]=y(e,r);return n}},cIfH:function(e,t,n){"use strict";const r=n("4abu"),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function a(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return f("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=r.buildOptions(t,i,o);const n=[];let u=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++){if("<"!==e[i]){if(" "===e[i]||"\t"===e[i]||"\n"===e[i]||"\r"===e[i])continue;return f("InvalidChar","char '"+e[i]+"' is not expected.",g(e,i))}if(i++,"?"===e[i]){if(i=a(e,++i),i.err)return i}else{if("!"===e[i]){i=s(e,i);continue}{let o=!1;"/"===e[i]&&(o=!0,i++);let a="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)a+=e[i];if(a=a.trim(),"/"===a[a.length-1]&&(a=a.substring(0,a.length-1),i--),d=a,!r.isName(d)){let t;return t=0===a.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+a+"' is an invalid name.",f("InvalidTag",t,g(e,i))}const p=c(e,i);if(!1===p)return f("InvalidAttr","Attributes for '"+a+"' have open quote.",g(e,i));let v=p.value;if(i=p.index,"/"===v[v.length-1]){v=v.substring(0,v.length-1);const n=l(v,t);if(!0!==n)return f(n.err.code,n.err.msg,g(e,i-v.length+n.err.line));u=!0}else if(o){if(!p.tagClosed)return f("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",g(e,i));if(v.trim().length>0)return f("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",g(e,i));{const t=n.pop();if(a!==t)return f("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+a+"'.",g(e,i));0==n.length&&(h=!0)}}else{const r=l(v,t);if(!0!==r)return f(r.err.code,r.err.msg,g(e,i-v.length+r.err.line));if(!0===h)return f("InvalidXml","Multiple possible root nodes found.",g(e,i));n.push(a),u=!0}for(i++;i<e.length;i++){if("<"===e[i]){if("!"===e[i+1]){i++,i=s(e,i);continue}break}if("&"===e[i]){const t=A(e,i);if(-1==t)return f("InvalidChar","char '&' is not expected.",g(e,i));i=t}}"<"===e[i]&&i--}}}var d;return u?!(n.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):f("InvalidXml","Start tag expected.",1)};function c(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const u=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(e,t){const n=r.getAllMatches(e,u),i={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return f("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",d(e,n[r][0]));if(void 0===n[r][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",d(e,n[r][0]));const o=n[r][2];if(!h(o))return f("InvalidAttr","Attribute '"+o+"' is an invalid name.",d(e,n[r][0]));if(i.hasOwnProperty(o))return f("InvalidAttr","Attribute '"+o+"' is repeated.",d(e,n[r][0]));i[o]=1}return!0}function A(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function f(e,t,n){return{err:{code:e,msg:t,line:n}}}function h(e){return r.isName(e)}function g(e,t){return e.substring(0,t).split(/\r?\n/).length}function d(e,t){return e.indexOf(t)+t.length}},cX6o:function(e,t,n){"use strict";var r=n("nm4c"),i=n("vn/o"),o=n("eydS"),a=n("LOvY"),s=n("Tcbo"),c=n("iTZm"),u=n("gBP8"),l=Object.prototype.toString;function A(e){if(!(this instanceof A))return new A(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(e,t){var n=new A(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}A.prototype.push=function(e,t){var n,s,c,u,A,f=this.strm,h=this.options.chunkSize,g=this.options.dictionary,d=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(n=r.inflateSetDictionary(this.strm,g)),n===a.Z_BUF_ERROR&&!0===d&&(n=a.Z_OK,d=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),u=f.next_out-c,A=o.buf2string(f.output,c),f.next_out=u,f.avail_out=h-u,u&&i.arraySet(f.output,f.output,c,u,0),this.onData(A)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(d=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},A.prototype.onData=function(e){this.chunks.push(e)},A.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=A,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},cpv5:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n("1OyB"),i=n("vuIU"),o=n("a3TU");!function(){function e(t){Object(r.a)(this,e),this.points=t,this.isClosed=Object(o.d)(this.points[this.points.length-1],this.points[0]),Object.freeze(this)}Object(i.a)(e,[{key:"getSignedArea",value:function(){var e=0;return this.forEachSegment((function(t,n){e+=(t[0]+n[0])*(t[1]-n[1])})),e/2}},{key:"getArea",value:function(){return Math.abs(this.getSignedArea())}},{key:"getWindingDirection",value:function(){return Math.sign(this.getSignedArea())}},{key:"forEachSegment",value:function(e){for(var t=this.points.length,n=0;n<t-1;n++)e(this.points[n],this.points[n+1],n,n+1);this.isClosed||e(this.points[t-1],this.points[0],t-1,0)}}])}();function a(e,t){var n=t.length,r=e.length;if(r>0){for(var i=!0,o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<n;a++)e[r+a]=t[a];return!0}function s(e,t){for(var n=t.length,r=0;r<n;r++)e[r]=t[r]}function c(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=r+t*n,a=0;a<n;a++)i[a]=e[o+a];return i}function u(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*t[s]+(1-i)*e[s];return a}function l(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function A(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size,o=void 0===i?2:i,A=r.broken,f=void 0!==A&&A,h=r.gridResolution,p=void 0===h?10:h,v=r.gridOffset,y=void 0===v?[0,0]:v,m=r.startIndex,b=void 0===m?0:m,E=r.endIndex,I=void 0===E?e.length:E,C=(I-b)/o,_=[],B=[_],w=c(e,0,o,b),O=g(w,p,y,[]),S=[];a(_,w);for(var x=1;x<C;x++){for(n=l(t=c(e,x,o,b,t),O);n;){u(w,t,n,O,S);var R=l(S,O);R&&(u(w,S,R,O,S),n=R),a(_,S),s(w,S),d(O,p,n),f&&_.length>o&&(_=[],B.push(_),a(_,w)),n=l(t,O)}a(_,t),s(w,t)}return f?B:B[0]}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.length)return[];for(var r=n.size,i=void 0===r?2:r,o=n.gridResolution,a=void 0===o?10:o,s=n.gridOffset,c=void 0===s?[0,0]:s,u=n.edgeTypes,A=void 0!==u&&u,f=[],d=[{pos:e,types:A&&new Array(e.length/i).fill(1),holes:t||[]}],v=[[],[]],y=[];d.length;){var m=d.shift(),b=m.pos,E=m.types,I=m.holes;p(b,i,I[0]||b.length,v),y=g(v[0],a,c,y);var C=l(v[1],y);if(C){var _=h(b,E,i,0,I[0]||b.length,y,C),B={pos:_[0].pos,types:_[0].types,holes:[]},w={pos:_[1].pos,types:_[1].types,holes:[]};d.push(B,w);for(var O=0;O<I.length;O++)(_=h(b,E,i,I[O],I[O+1]||b.length,y,C))[0]&&(B.holes.push(B.pos.length),B.pos=B.pos.concat(_[0].pos),A&&(B.types=B.types.concat(_[0].types))),_[1]&&(w.holes.push(w.pos.length),w.pos=w.pos.concat(_[1].pos),A&&(w.types=w.types.concat(_[1].types)))}else{var S={positions:b};A&&(S.edgeTypes=E),I.length&&(S.holeIndices=I),f.push(S)}}return f}function h(e,t,n,r,i,o,l){for(var A,f,h,g=(i-r)/n,d=[],p=[],v=[],y=[],m=[],b=c(e,g-1,n,r),E=Math.sign(8&l?b[1]-o[3]:b[0]-o[2]),I=t&&t[g-1],C=0,_=0,B=0;B<g;B++)A=c(e,B,n,r,A),f=Math.sign(8&l?A[1]-o[3]:A[0]-o[2]),h=t&&t[r/n+B],f&&E&&E!==f&&(u(b,A,l,o,m),a(d,m)&&v.push(I),a(p,m)&&y.push(I)),f<=0?(a(d,A)&&v.push(h),C-=f):v.length&&(v[v.length-1]=0),f>=0?(a(p,A)&&y.push(h),_+=f):y.length&&(y[y.length-1]=0),s(b,A),E=f,I=h;return[C?{pos:d,types:t&&v}:null,_?{pos:p,types:t&&y}:null]}function g(e,t,n,r){var i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function d(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function p(e,t,n,r){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,c=0;c<n;c+=t){var u=e[c],l=e[c+1];i=u<i?u:i,o=u>o?u:o,a=l<a?l:a,s=l>s?l:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?2:n,i=t.startIndex,o=void 0===i?0:i,a=t.endIndex,s=void 0===a?e.length:a,c=t.normalize,u=void 0===c||c,l=e.slice(o,s);C(l,r,0,s-o);var f=A(l,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(u){var h,g=v(f);try{for(g.s();!(h=g.n()).done;){var d=h.value;_(d,r)}}catch(p){g.e(p)}finally{g.f()}}return f}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.size,i=void 0===r?2:r,o=n.normalize,a=void 0===o||o,s=n.edgeTypes,c=void 0!==s&&s;t=t||[];for(var u=[],l=[],A=0,h=0,g=0;g<=t.length;g++){for(var d=t[g]||e.length,p=h,y=E(e,i,A,d),m=y;m<d;m++)u[h++]=e[m];for(var b=A;b<y;b++)u[h++]=e[b];C(u,i,p,h),I(u,i,p,h,n.maxLatitude),A=d,l[g]=h}l.pop();var B=f(u,l,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:c});if(a){var w,O=v(B);try{for(O.s();!(w=O.n()).done;){var S=w.value;_(S.positions,i)}}catch(x){O.e(x)}finally{O.f()}}return B}function E(e,t,n,r){for(var i=-1,o=-1,a=n+1;a<r;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function I(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:85.051129,o=e[n],s=e[r-t];if(Math.abs(o-s)>180){var u=c(e,0,t,n);u[0]+=360*Math.round((s-o)/360),a(e,u),u[1]=Math.sign(u[1])*i,a(e,u),u[0]=o,a(e,u)}}function C(e,t,n,r){for(var i,o=e[0],a=n;a<r;a+=t){var s=(i=e[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function _(e,t){for(var n,r=e.length/t,i=0;i<r&&((n=e[i*t])+180)%360===0;i++);var o=360*-Math.round(n/360);if(0!==o)for(var a=0;a<r;a++)e[a*t]+=o}},ctuC:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("Ji7U"),s=n("md7G"),c=n("foSv"),u=n("K4gp"),l=n("BQ9P"),A=n("Jh/b"),f=n("K7jV"),h=n("ykdB"),g=n("0i8A"),d=n("rePB"),p=n("xl5t"),v=n("cpv5");function y(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var C=function(e){Object(a.a)(n,e);var t=I(n);function n(e){return Object(r.a)(this,n),t.call(this,E(E({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return Object(i.a)(n,[{key:"getGeometryFromBuffer",value:function(e){return this.normalize?Object(o.a)(Object(c.a)(n.prototype),"getGeometryFromBuffer",this).call(this,e):function(){return null}}},{key:"normalizeGeometry",value:function(e){return this.normalize?function(e,t,n,r){var i=e;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}return n?Object(v.c)(i,{size:t,gridResolution:n}):r?Object(v.d)(i,{size:t}):i}(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometrySize",value:function(e){if(Array.isArray(e[0])){var t,n=0,r=y(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(a){r.e(a)}finally{r.f()}return n}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&Array.isArray(e[0])){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(a){r.e(a)}finally{r.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var n=this.attributes.segmentTypes,r=this.isClosed(e),i=t.vertexStart,o=t.geometrySize;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}},{key:"_updatePositions",value:function(e,t){var n=this.attributes.positions;if(n)for(var r=t.vertexStart,i=t.geometrySize,o=new Array(3),a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.positionSize;t*r>=e.length&&(t+=1-e.length/r);var i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}},{key:"isClosed",value:function(e){if(!this.normalize)return this.opts.loop;var t=this.positionSize,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}]),n}(p.a);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var B=[0,0,0,255],w={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},rounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:B},getWidth:{type:"accessor",value:1}},O={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},S=function(e){Object(a.a)(n,e);var t=_(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getShaders",value:function(){return Object(o.a)(Object(c.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\nuniform bool billboard;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * jointType * 4.0 * flipIfTrue(isStartCap), isJoint);\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.worldPosition = instanceStartPositions;\n  geometry.worldPositionAlt = instanceEndPositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec2 widthPixels = vec2(clamp(project_size_to_pixel(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float jointType;\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (jointType > 0.0 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (jointType == 0.0 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[u.a,l.a]})}},{key:"initializeState",value:function(){var e=this;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:O,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:O,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:O,defaultValue:B},instancePickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)}}}),this.setState({pathTesselator:new C({fp64:this.use64bitPositions()})}),this.props.getDashArray&&!this.props.extensions.length&&A.a.removed("getDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=e.oldProps,r=e.props,i=e.changeFlags;Object(o.a)(Object(c.a)(n.prototype),"updateState",this).call(this,{props:r,oldProps:t,changeFlags:i});var a=this.getAttributeManager();if(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath)){var s=this.state.pathTesselator,u=r.data.attributes||{};s.updateGeometry({data:r.data,geometryBuffer:u.getPath,buffers:u,normalize:!r._pathType,loop:"loop"===r._pathType,getGeometry:r.getPath,positionFormat:r.positionFormat,wrapLongitude:r.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:i.dataChanged}),this.setState({numInstances:s.instanceCount,startIndices:s.vertexStarts}),i.dataChanged||a.invalidateAll()}if(i.extensionsChanged){var l=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(l)}),a.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=Object(o.a)(Object(c.a)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.rounded,o=r.billboard,a=r.miterLimit,s=r.widthUnits,c=r.widthScale,u=r.widthMinPixels,l=r.widthMaxPixels,A="pixels"===s?n.metersPerPixel:1;this.state.model.setUniforms(Object.assign({},t,{jointType:Number(i),billboard:o,widthScale:c*A,miterLimit:a,widthMinPixels:u,widthMaxPixels:l})).draw()}},{key:"_getModel",value:function(e){return new h.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new g.a({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}},{key:"wrapLongitude",get:function(){return!1}}]),n}(f.a);S.layerName="PathLayer",S.defaultProps=w},cwYr:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("md7G"),s=n("foSv"),c=n("Jh/b"),u=n("5lV4"),l=n("+7vx"),A=n("ctuC"),f=n("KHNG"),h=n("Im0j");function g(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},i=n.startRow,o=void 0===i?0:i,a=n.endRow,s=void 0===a?e.length:a,u=o;u<s;u++){var l=e[u];c.a.assert(l&&l.geometry,"GeoJSON does not have geometry");var A=l.geometry;if("GeometryCollection"===A.type){c.a.assert(Array.isArray(A.geometries),"GeoJSON does not have geometries array");for(var f=A.geometries,h=0;h<f.length;h++){var g=f[h];d(g,r,t,l,u)}}else d(A,r,t,l,u)}return r}function d(e,t,n,r,i){var o=e.type,a=e.coordinates,s=t.pointFeatures,u=t.lineFeatures,l=t.polygonFeatures,A=t.polygonOutlineFeatures;if(function(e,t){var n=p[e];c.a.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((function(e){s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":u.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((function(e){u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":l.push(n({geometry:e},r,i)),a.forEach((function(e){A.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((function(e){l.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((function(e){A.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else c.a.warn("".concat(o," coordinates are malformed"))()}var p={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var b={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusUnits:"meters",pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:{type:"accessor",value:[0,0,0,255]},getFillColor:{type:"accessor",value:[0,0,0,255]},getRadius:{type:"accessor",value:1},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};function E(e){return e.geometry.coordinates}var I=function(e){Object(o.a)(n,e);var t=m(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initializeState",value:function(){this.state={features:{}},this.props.getLineDashArray&&c.a.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){var r=function(e){if(Array.isArray(e))return e;switch(c.a.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return c.a.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),i=this.getSubLayerRow.bind(this);if(Array.isArray(n.dataChanged)){var o=this.state.features,a={},s={};for(var u in o)a[u]=o[u].slice(),s[u]=[];var l,A=v(n.dataChanged);try{for(A.s();!(l=A.n()).done;){var f=l.value,d=g(r,i,f);for(var p in o)s[p].push(Object(h.a)({data:a[p],getIndex:function(e){return e.__source.index},dataRange:f,replace:d[p]}))}}catch(y){A.e(y)}finally{A.f()}this.setState({features:a,featuresDiff:s})}else this.setState({features:g(r,i),featuresDiff:{}})}}},{key:"renderLayers",value:function(){var e=this.state,t=e.features,n=e.featuresDiff,r=t.pointFeatures,i=t.lineFeatures,o=t.polygonFeatures,a=t.polygonOutlineFeatures,s=this.props,c=s.stroked,u=s.filled,h=s.extruded,g=s.wireframe,d=s.material,p=s.transitions,v=this.props,y=v.lineWidthUnits,m=v.lineWidthScale,b=v.lineWidthMinPixels,I=v.lineWidthMaxPixels,C=v.lineJointRounded,_=v.lineMiterLimit,B=v.pointRadiusUnits,w=v.pointRadiusScale,O=v.pointRadiusMinPixels,S=v.pointRadiusMaxPixels,x=v.elevationScale,R=v.lineDashJustified,T=this.props,Q=T.getLineColor,P=T.getFillColor,M=T.getRadius,L=T.getLineWidth,N=T.getLineDashArray,k=T.getElevation,D=T.updateTriggers,j=this.getSubLayerClass("polygons-fill",f.a),F=this.getSubLayerClass("polygons-stroke",A.a),U=this.getSubLayerClass("line-strings",A.a),G=this.getSubLayerClass("points",l.a),z=this.shouldRenderSubLayer("polygons-fill",o)&&new j({_dataDiff:n.polygonFeatures&&function(){return n.polygonFeatures},extruded:h,elevationScale:x,filled:u,wireframe:g,material:d,getElevation:this.getSubLayerAccessor(k),getFillColor:this.getSubLayerAccessor(P),getLineColor:this.getSubLayerAccessor(Q),transitions:p&&{getPolygon:p.geometry,getElevation:p.getElevation,getFillColor:p.getFillColor,getLineColor:p.getLineColor}},this.getSubLayerProps({id:"polygons-fill",updateTriggers:{getElevation:D.getElevation,getFillColor:D.getFillColor,getLineColor:D.getLineColor}}),{data:o,getPolygon:E});return[!h&&z,!h&&c&&this.shouldRenderSubLayer("polygons-stroke",a)&&new F({_dataDiff:n.polygonOutlineFeatures&&function(){return n.polygonOutlineFeatures},widthUnits:y,widthScale:m,widthMinPixels:b,widthMaxPixels:I,rounded:C,miterLimit:_,dashJustified:R,getColor:this.getSubLayerAccessor(Q),getWidth:this.getSubLayerAccessor(L),getDashArray:this.getSubLayerAccessor(N),transitions:p&&{getPath:p.geometry,getColor:p.getLineColor,getWidth:p.getLineWidth}},this.getSubLayerProps({id:"polygons-stroke",updateTriggers:{getColor:D.getLineColor,getWidth:D.getLineWidth,getDashArray:D.getLineDashArray}}),{data:a,getPath:E}),this.shouldRenderSubLayer("linestrings",i)&&new U({_dataDiff:n.lineFeatures&&function(){return n.lineFeatures},widthUnits:y,widthScale:m,widthMinPixels:b,widthMaxPixels:I,rounded:C,miterLimit:_,dashJustified:R,getColor:this.getSubLayerAccessor(Q),getWidth:this.getSubLayerAccessor(L),getDashArray:this.getSubLayerAccessor(N),transitions:p&&{getPath:p.geometry,getColor:p.getLineColor,getWidth:p.getLineWidth}},this.getSubLayerProps({id:"line-strings",updateTriggers:{getColor:D.getLineColor,getWidth:D.getLineWidth,getDashArray:D.getLineDashArray}}),{data:i,getPath:E}),this.shouldRenderSubLayer("points",r)&&new G({_dataDiff:n.pointFeatures&&function(){return n.pointFeatures},stroked:c,filled:u,radiusUnits:B,radiusScale:w,radiusMinPixels:O,radiusMaxPixels:S,lineWidthUnits:y,lineWidthScale:m,lineWidthMinPixels:b,lineWidthMaxPixels:I,getFillColor:this.getSubLayerAccessor(P),getLineColor:this.getSubLayerAccessor(Q),getRadius:this.getSubLayerAccessor(M),getLineWidth:this.getSubLayerAccessor(L),transitions:p&&{getPosition:p.geometry,getFillColor:p.getFillColor,getLineColor:p.getLineColor,getRadius:p.getRadius,getLineWidth:p.getLineWidth}},this.getSubLayerProps({id:"points",updateTriggers:{getFillColor:D.getFillColor,getLineColor:D.getLineColor,getRadius:D.getRadius,getLineWidth:D.getLineWidth}}),{data:r,getPosition:E,highlightedObjectIndex:this._getHighlightedIndex(r)}),h&&z]}},{key:"_getHighlightedIndex",value:function(e){var t=this.props.highlightedObjectIndex;return Number.isFinite(t)?e.findIndex((function(e){return e.__source.index===t})):null}}]),n}(u.a);I.layerName="GeoJsonLayer",I.defaultProps=b},cxv0:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n("NOtv"),i=n.n(r),o=n("Lhll"),a=n("3Cr/"),s=n("f8Pb"),c=n("ewpT"),u=n("X0th"),l=n("bDqb"),A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const f=i()("threads:master:messages"),h=i()("threads:master:spawn"),g=i()("threads:master:thread-utils"),d="undefined"!==typeof e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function p(e,t,n,r){const i=n.filter(e=>e.type===u.a.internalError).map(e=>e.error);return Object.assign(e,{[c.a]:i,[c.b]:n,[c.c]:r,[c.e]:t})}function v(e,t){return A(this,void 0,void 0,(function*(){h("Initializing new thread");const n=(yield function(e,t,n){return A(this,void 0,void 0,(function*(){let r;const i=new Promise((e,i)=>{r=setTimeout(()=>i(Error(n)),t)}),o=yield Promise.race([e,i]);return clearTimeout(r),o}))}(function(e){return new Promise((t,n)=>{const r=i=>{var o;f("Message from worker before finishing initialization:",i.data),(o=i.data)&&"init"===o.type?(e.removeEventListener("message",r),t(i.data)):(e=>e&&"uncaughtError"===e.type)(i.data)&&(e.removeEventListener("message",r),n(Object(a.a)(i.data.error)))};e.addEventListener("message",r)})}(e),t&&t.timeout?t.timeout:d,`Timeout: Did not receive an init message from worker after ${d}ms. Make sure the worker calls expose().`)).exposed,{termination:r,terminate:i}=function(e){const[t,n]=Object(s.a)();return{terminate:()=>A(this,void 0,void 0,(function*(){g("Terminating worker"),yield e.terminate(),n()})),termination:t}}(e),c=function(e,t){return new o.a(n=>{const r=e=>{const t={type:u.a.message,data:e.data};n.next(t)},i=e=>{g("Unhandled promise rejection event in thread:",e);const t={type:u.a.internalError,error:Error(e.reason)};n.next(t)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",i),t.then(()=>{const t={type:u.a.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",i),n.next(t),n.complete()})})}(e,r);if("function"===n.type){return p(Object(l.a)(e),e,c,i)}if("module"===n.type){return p(Object(l.b)(e,n.methods),e,c,i)}{const e=n.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}}).call(this,n("8oxB"))},dqDI:function(e,t,n){"use strict";const r=n("xh2E");e.exports=async(e,t,{concurrency:n=1/0,stopOnError:i=!0}={})=>new Promise((o,a)=>{if("function"!==typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const s=[],c=[],u=e[Symbol.iterator]();let l=!1,A=!1,f=0,h=0;const g=()=>{if(l)return;const e=u.next(),n=h;if(h++,e.done)return A=!0,void(0===f&&(i||0===c.length?o(s):a(new r(c))));f++,(async()=>{try{const r=await e.value;s[n]=await t(r,n),f--,g()}catch(r){i?(l=!0,a(r)):(c.push(r),f--,g())}})()};for(let e=0;e<n&&(g(),!A);e++);})},"eA/Y":function(e,t,n){"use strict";e.exports=i;var r=n("J78i");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n("P7XM")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},eRUA:function(e,t,n){"use strict";e.exports=i;var r=n("kVK+");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function u(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function A(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function m(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=y(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return s(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&o?function(e,t,n){return o.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",i=t;for(;i<n;){var o,a,s,c=e[i],u=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l>n)break;1===l?c<128&&(u=c):2===l?128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)<=127&&(u=null):3===l?(o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&((u=(15&c)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===l&&(o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&((u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,l=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=l}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=a(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),m(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),m(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),m(this.buf,-1&e,this.pos),m(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),m(this.buf,-1&e,this.pos),m(this.buf,Math.floor(2.3283064365386963e-10*e),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,A,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,v,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},elGS:function(e,t,n){"use strict";const r=n("j/LU"),i=n("E1E9"),o=n("E1E9"),a=n("4abu").buildOptions,s=n("cIfH");t.parse=function(e,t,n){if(n){!0===n&&(n={});const t=s.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t=a(t,o.defaultOptions,o.props);const c=i.getTraversalObj(e,t);return r.convertToJson(c,t)},t.convertTonimn=n("vtNb").convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n("t6xR").convertToJsonString,t.validate=s.validate,t.j2xParser=n("p1mf"),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},ewpT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s}));const r=Symbol("thread.errors"),i=Symbol("thread.events"),o=Symbol("thread.terminate"),a=Symbol("thread.transferable"),s=Symbol("thread.worker")},eydS:function(e,t,n){"use strict";var r=n("vn/o"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,o=0;a<c;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},f8Pb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=()=>{};function i(){let e,t=!1,n=r;return[new Promise(r=>{t?r(e):n=r}),r=>{t=!0,e=r,n()}]}},fXKp:function(e,t,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=A,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function A(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},fdqv:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return A})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return y}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("QPfr"),s=6,c={cyan:"#00FFFF",yellow:"#FFFF00",magenta:"#FF00FF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",white:"#FFFFFF"},u=[c.magenta,c.green],l=[c.red,c.green,c.blue],A=Object.values(c).slice(0,-2);function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t,n){var r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,t.getItem(n);case 3:return e.t1=e.sent,r=new e.t0(e.t1),o=new TextDecoder("utf-8"),a=JSON.parse(o.decode(r)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return"string"===typeof e?new a.HTTPStore(e):e}function d(e){return e.startsWith("#")&&(e=e.slice(1)),[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function p(e){return Array.from({length:e},(function(e,t){return t}))}function v(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";e.length>0&&t.includes(e.charAt(e.length-1));)e=e.substr(0,e.length-1);return e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).map((function(e){return v(e,"/")})).join("/")}},frGm:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,c,u,l,A,f,h,g,d,p,v,y,m,b,E,I,C,_,B,w;n=e.state,r=e.next_in,B=e.input,i=r+(e.avail_in-5),o=e.next_out,w=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,A=n.wnext,f=n.window,h=n.hold,g=n.bits,d=n.lencode,p=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(h+=B[r++]<<g,g+=8,h+=B[r++]<<g,g+=8),m=d[h&v];t:for(;;){if(h>>>=b=m>>>24,g-=b,0===(b=m>>>16&255))w[o++]=65535&m;else{if(!(16&b)){if(0===(64&b)){m=d[(65535&m)+(h&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&m,(b&=15)&&(g<b&&(h+=B[r++]<<g,g+=8),E+=h&(1<<b)-1,h>>>=b,g-=b),g<15&&(h+=B[r++]<<g,g+=8,h+=B[r++]<<g,g+=8),m=p[h&y];n:for(;;){if(h>>>=b=m>>>24,g-=b,!(16&(b=m>>>16&255))){if(0===(64&b)){m=p[(65535&m)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(I=65535&m,g<(b&=15)&&(h+=B[r++]<<g,(g+=8)<b&&(h+=B[r++]<<g,g+=8)),(I+=h&(1<<b)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=b,g-=b,I>(b=o-a)){if((b=I-b)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=0,_=f,0===A){if(C+=u-b,b<E){E-=b;do{w[o++]=f[C++]}while(--b);C=o-I,_=w}}else if(A<b){if(C+=u+A-b,(b-=A)<E){E-=b;do{w[o++]=f[C++]}while(--b);if(C=0,A<E){E-=b=A;do{w[o++]=f[C++]}while(--b);C=o-I,_=w}}}else if(C+=A-b,b<E){E-=b;do{w[o++]=f[C++]}while(--b);C=o-I,_=w}for(;E>2;)w[o++]=_[C++],w[o++]=_[C++],w[o++]=_[C++],E-=3;E&&(w[o++]=_[C++],E>1&&(w[o++]=_[C++]))}else{C=o-I;do{w[o++]=w[C++],w[o++]=w[C++],w[o++]=w[C++],E-=3}while(E>2);E&&(w[o++]=w[C++],E>1&&(w[o++]=w[C++]))}break}}break}}while(r<i&&o<s);r-=E=g>>3,h&=(1<<(g-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=g}},fsg6:function(e,t,n){"use strict";n.r(t),n.d(t,"ArcLayer",(function(){return r.a})),n.d(t,"BitmapLayer",(function(){return B})),n.d(t,"IconLayer",(function(){return z})),n.d(t,"LineLayer",(function(){return Y})),n.d(t,"PointCloudLayer",(function(){return q.a})),n.d(t,"ScatterplotLayer",(function(){return K.a})),n.d(t,"ColumnLayer",(function(){return W.a})),n.d(t,"GridCellLayer",(function(){return Z})),n.d(t,"PathLayer",(function(){return $.a})),n.d(t,"PolygonLayer",(function(){return ee.a})),n.d(t,"GeoJsonLayer",(function(){return te.a})),n.d(t,"TextLayer",(function(){return Le})),n.d(t,"SolidPolygonLayer",(function(){return Ne.a})),n.d(t,"_MultiIconLayer",(function(){return ae}));var r=n("YKQg"),i=n("1OyB"),o=n("vuIU"),a=n("ReuC"),s=n("Ji7U"),c=n("md7G"),u=n("foSv"),l=n("rePB"),A=n("K4gp"),f=n("BQ9P"),h=n("K7jV"),g=n("ykdB"),d=n("0i8A"),p=n("f5Sf"),v=n("c9N0"),y=new Uint16Array([0,2,1,0,3,2]),m=new Float32Array([0,1,0,0,1,0,1,1]);function b(e,t){if(!t)return function(e){for(var t=new Float64Array(12),n=0;n<e.length;n++)t[3*n+0]=e[n][0],t[3*n+1]=e[n][1],t[3*n+2]=e[n][2]||0;return{vertexCount:6,positions:t,indices:y,texCoords:m}}(e);for(var n=Math.max(Math.abs(e[0][0]-e[3][0]),Math.abs(e[1][0]-e[2][0])),r=Math.max(Math.abs(e[1][1]-e[0][1]),Math.abs(e[2][1]-e[3][1])),i=Math.ceil(n/t)+1,o=Math.ceil(r/t)+1,a=(i-1)*(o-1)*6,s=new Uint32Array(a),c=new Float32Array(i*o*2),u=new Float64Array(i*o*3),l=0,A=0,f=0;f<i;f++)for(var h=f/(i-1),g=0;g<o;g++){var d=g/(o-1),p=E(e,h,d);u[3*l+0]=p[0],u[3*l+1]=p[1],u[3*l+2]=p[2]||0,c[2*l+0]=h,c[2*l+1]=1-d,f>0&&g>0&&(s[A++]=l-o,s[A++]=l-o-1,s[A++]=l-1,s[A++]=l-o,s[A++]=l-1,s[A++]=l),l++}return{vertexCount:a,positions:u,indices:s,texCoords:c}}function E(e,t,n){return Object(v.h)(Object(v.h)(e[0],e[1],n),Object(v.h)(e[3],e[2],n),t)}var I;function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _=(I={},Object(l.a)(I,10241,9987),Object(l.a)(I,10240,9729),Object(l.a)(I,10242,33071),Object(l.a)(I,10243,33071),I),B=function(e){Object(s.a)(n,e);var t=C(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getShaders",value:function(){return Object(a.a)(Object(u.a)(n.prototype),"getShaders",this).call(this,{vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:"\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor, vec4(color, 1.0), alpha);\n}\n\nvoid main(void) {\n  vec4 bitmapColor = texture2D(bitmapTexture, vTexCoord);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = vTexCoord;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.a,f.a]})}},{key:"initializeState",value:function(){var e=this,t=this.getAttributeManager();t.remove(["instancePickingColors"]);t.add({indices:{size:1,isIndexed:!0,update:function(t){return t.value=e.state.mesh.indices},noAlloc:true},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:function(t){return t.value=e.state.mesh.positions},noAlloc:true},texCoords:{size:2,update:function(t){return t.value=e.state.mesh.texCoords},noAlloc:true}})}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps;if(e.changeFlags.extensionsChanged){var r=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(r)}),this.getAttributeManager().invalidateAll()}t.image!==n.image&&this.loadTexture(t.image);var i=this.getAttributeManager();if(t.bounds!==n.bounds){var o=this.state.mesh,a=this._createMesh();for(var s in this.state.model.setVertexCount(a.vertexCount),a)o&&o[s]!==a[s]&&i.invalidate(s);this.setState({mesh:a})}}},{key:"finalizeState",value:function(){Object(a.a)(Object(u.a)(n.prototype),"finalizeState",this).call(this),this.state.bitmapTexture&&this.state.bitmapTexture.delete()}},{key:"_createMesh",value:function(){var e=this.props.bounds,t=e;return Number.isFinite(e[0])&&(t=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),b(t,this.context.viewport.resolution)}},{key:"_getModel",value:function(e){return e?new g.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new d.a({drawMode:4,vertexCount:6}),isInstanced:!1})):null}},{key:"draw",value:function(e){var t=e.uniforms,n=this.state,r=n.bitmapTexture,i=n.model,o=this.props,a=o.image,s=o.desaturate,c=o.transparentColor,u=o.tintColor;r&&a instanceof HTMLVideoElement&&a.readyState>HTMLVideoElement.HAVE_METADATA&&(r.width!==a.videoWidth||r.height!==a.videoHeight?(r.resize({width:a.videoWidth,height:a.videoHeight,mipmaps:!0}),r.setSubImageData({data:a,parameters:_})):r.setSubImageData({data:a}),r.generateMipmap());r&&i&&i.setUniforms(Object.assign({},t,{bitmapTexture:r,desaturate:s,transparentColor:c.map((function(e){return e/255})),tintColor:u.slice(0,3).map((function(e){return e/255}))})).draw()}},{key:"loadTexture",value:function(e){var t=this.context.gl;this.state.bitmapTexture&&this.state.bitmapTexture.delete(),e instanceof p.a?this.setState({bitmapTexture:e}):e instanceof HTMLVideoElement?this.setState({bitmapTexture:new p.a(t,{width:1,height:1,parameters:_,mipmaps:!1})}):e&&this.setState({bitmapTexture:new p.a(t,{data:e,parameters:_})})}}]),n}(h.a);B.layerName="BitmapLayer",B.defaultProps={image:{type:"object",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]}};var w,O=n("MdWm"),S=n("p7wt"),x=n("nJkv"),R=n("JBga"),T=n("rpwb"),Q=n("Jh/b");function P(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(){},N=(w={},Object(l.a)(w,10241,9987),Object(l.a)(w,10240,9729),Object(l.a)(w,10242,33071),Object(l.a)(w,10243,33071),w);function k(e){return e&&(e.id||e.url)}function D(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],o=i.icon,a=i.xOffset;e[k(o)]=Object.assign({},o,{x:a,y:n})}}var j=function(){function e(t,n){var r=n.onUpdate,o=void 0===r?L:r;Object(i.a)(this,e),this.gl=t,this.onUpdate=o,this._loadOptions=null,this._getIcon=null,this._texture=null,this._externalTexture=null,this._mapping={},this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=4,this._canvasWidth=1024,this._canvasHeight=0,this._canvas=null}return Object(o.a)(e,[{key:"finalize",value:function(){this._texture&&this._texture.delete()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?k(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t=e.loadOptions,n=e.autoPacking,r=e.iconAtlas,i=e.iconMapping,o=e.data,a=e.getIcon;t&&(this._loadOptions=t),void 0!==n&&(this._autoPacking=n),a&&(this._getIcon=a),i&&(this._mapping=i),r&&this._updateIconAtlas(r),this._autoPacking&&(o||a)&&"undefined"!==typeof document&&(this._canvas=this._canvas||document.createElement("canvas"),this._updateAutoPacking(o))}},{key:"_updateIconAtlas",value:function(e){this._texture&&(this._texture.delete(),this._texture=null),e instanceof p.a?(e.setParameters(N),this._externalTexture=e,this.onUpdate()):e&&(this._texture=new p.a(this.gl,{data:e,parameters:N}),this.onUpdate())}},{key:"_updateAutoPacking",value:function(e){var t=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};var r,i={},o=Object(T.a)(e),a=o.iterable,s=o.objectInfo,c=P(a);try{for(c.s();!(r=c.n()).done;){var u=r.value;s.index++;var l=t(u,s),A=k(l);if(!l)throw new Error("Icon is missing.");if(!l.url)throw new Error("Icon url is missing.");i[A]||n[A]&&l.url===n[A].url||(i[A]=l)}}catch(f){c.e(f)}finally{c.f()}return i}(e,this._getIcon,this._mapping)||{});if(t.length>0){var n=function(e){for(var t,n=e.icons,r=e.buffer,i=e.mapping,o=void 0===i?{}:i,a=e.xOffset,s=void 0===a?0:a,c=e.yOffset,u=void 0===c?0:c,l=e.rowHeight,A=void 0===l?0:l,f=e.canvasWidth,h=[],g=0;g<n.length;g++){var d=n[g];if(!o[k(d)]){var p=d.height,v=d.width;s+v+r>f&&(D(o,h,u),s=0,u=A+u+r,A=0,h=[]),h.push({icon:d,xOffset:s}),s=s+v+r,A=Math.max(A,p)}}return h.length>0&&D(o,h,u),{mapping:o,rowHeight:A,xOffset:s,yOffset:u,canvasWidth:f,canvasHeight:(t=A+u+r,Math.pow(2,Math.ceil(Math.log2(t))))}}({icons:t,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),r=n.mapping,i=n.xOffset,o=n.yOffset,a=n.rowHeight,s=n.canvasHeight;this._rowHeight=a,this._mapping=r,this._xOffset=i,this._yOffset=o,this._canvasHeight=s,this._texture||(this._texture=new p.a(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:N})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,n,r){var i=t.width,o=t.height,a=Object(O.a)(t,{width:n,height:r});return Object(S.b)(t,a,{targetY:0,width:i,height:o}),t.delete(),a}(this.gl,this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._loadIcons(t)}}},{key:"_loadIcons",value:function(e){var t,n=this,r=this._canvas.getContext("2d"),i=P(e);try{var o=function(){var e=t.value;n._pendingCount++,Object(R.a)(e.url,x.a,n._loadOptions).then((function(t){var i=k(e),o=n._mapping[i],a=o.x,s=o.y,c=o.width,u=o.height,l=function(e,t,n,r){return n===t.width&&r===t.height?t:(e.canvas.height=r,e.canvas.width=n,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,n,r),e.canvas)}(r,t,c,u);n._texture.setSubImageData({data:l,x:a,y:s,width:c,height:u}),n._texture.generateMipmap(),n.onUpdate()})).catch((function(e){Q.a.error(e)()})).finally((function(){n._pendingCount--}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"isLoaded",get:function(){return 0===this._pendingCount}}]),e}();function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var U=[0,0,0,255],G={iconAtlas:{type:"object",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:U},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]}},z=function(e){Object(s.a)(n,e);var t=F(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getShaders",value:function(){return Object(a.a)(Object(u.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale), \n    sizeMinPixels, sizeMaxPixels\n  );\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n",fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.a,f.a]})}},{key:"initializeState",value:function(){var e=this;this.state={iconManager:new j(this.context.gl,{onUpdate:function(){return e._onUpdate()}})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:U},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){var t=e.oldProps,r=e.props,i=e.changeFlags;Object(a.a)(Object(u.a)(n.prototype),"updateState",this).call(this,{props:r,oldProps:t,changeFlags:i});var o=this.getAttributeManager(),s=r.iconAtlas,c=r.iconMapping,l=r.data,A=r.getIcon,f=this.state.iconManager;f.setProps({loadOptions:r.loadOptions});var h=!1;if(s||this.internalState.isAsyncPropLoading("iconAtlas")?(t.iconAtlas!==r.iconAtlas&&f.setProps({iconAtlas:s,autoPacking:!1}),t.iconMapping!==r.iconMapping&&(f.setProps({iconMapping:c}),h=!0)):f.setProps({autoPacking:!0}),(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&f.setProps({data:l,getIcon:A}),h&&(o.invalidate("instanceOffsets"),o.invalidate("instanceIconFrames"),o.invalidate("instanceColorModes")),i.extensionsChanged){var g=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(g)}),o.invalidateAll()}}},{key:"finalizeState",value:function(){Object(a.a)(Object(u.a)(n.prototype),"finalizeState",this).call(this),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.sizeScale,i=n.sizeMinPixels,o=n.sizeMaxPixels,a=n.sizeUnits,s=n.billboard,c=n.alphaCutoff,u=this.state.iconManager,l=this.context.viewport,A=u.getTexture();A&&A.loaded&&this.state.model.setUniforms(Object.assign({},t,{iconsTexture:A,iconsTextureDim:[A.width,A.height],sizeScale:r*("pixels"===a?l.metersPerPixel:1),sizeMinPixels:i,sizeMaxPixels:o,billboard:s,alphaCutoff:c})).draw()}},{key:"_getModel",value:function(e){return new g.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new d.a({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.width/2-t.anchorX||0,t.height/2-t.anchorY||0]}},{key:"getInstanceColorMode",value:function(e){return this.state.iconManager.getIconMapping(e).mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.x||0,t.y||0,t.width||0,t.height||0]}},{key:"isLoaded",get:function(){return Object(a.a)(Object(u.a)(n.prototype),"isLoaded",this)&&this.state.iconManager.isLoaded}}]),n}(h.a);z.layerName="IconLayer",z.defaultProps=G;function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var H={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},Y=function(e){Object(s.a)(n,e);var t=V(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getShaders",value:function(){return Object(a.a)(Object(u.a)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(instanceSourcePositions, instanceSourcePositions64Low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(instanceTargetPositions, instanceTargetPositions64Low, vec3(0.), target_commonspace);\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale),\n    widthMinPixels, widthMaxPixels\n  );\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.a,f.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Object(a.a)(Object(u.a)(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.viewport,r=this.props,i=r.widthUnits,o=r.widthScale,a=r.widthMinPixels,s=r.widthMaxPixels,c="pixels"===i?n.metersPerPixel:1;this.state.model.setUniforms(Object.assign({},t,{widthScale:o*c,widthMinPixels:a,widthMaxPixels:s})).draw()}},{key:"_getModel",value:function(e){return new g.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new d.a({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0}))}}]),n}(h.a);Y.layerName="LineLayer",Y.defaultProps=H;var q=n("FR1t"),K=n("+7vx"),W=n("XQ+Y"),J=n("9peF");function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Z=function(e){Object(s.a)(n,e);var t=X(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getGeometry",value:function(e){return new J.a}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.elevationScale,i=n.extruded,o=n.offset,a=n.coverage,s=n.cellSize,c=n.angle;this.state.model.setUniforms(Object.assign({},t,{radius:s/2,angle:c,offset:o,extruded:i,coverage:a,elevationScale:r,edgeDistance:1,isWireframe:!1})).draw()}}]),n}(W.a);Z.layerName="GridCellLayer",Z.defaultProps={cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",min:0,value:[1,1]}};var $=n("ctuC"),ee=n("R1+Y"),te=n("cwYr"),ne=n("ODXe"),re=n("5lV4");function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var oe=[],ae=function(e){Object(s.a)(n,e);var t=ie(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getShaders",value:function(){return Object.assign({},Object(a.a)(Object(u.a)(n.prototype),"getShaders",this).call(this),{inject:{"vs:#decl":"\n  uniform float gamma;\n  varying float vGamma;\n","vs:#main-end":"\n  vGamma = gamma / (sizeScale * iconSize.y);\n"},fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float buffer;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform bool shouldDrawBackground;\nuniform vec3 backgroundColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying float vGamma;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    if (sdf) {\n      alpha = smoothstep(buffer - vGamma, buffer + vGamma, alpha);\n    }\n    float a = alpha * vColor.a;\n    \n    if (a < alphaCutoff) {\n      if (shouldDrawBackground) {\n        gl_FragColor = vec4(backgroundColor, vColor.a);\n      } else {\n        discard;\n      }\n    } else {\n      if (shouldDrawBackground) {\n        gl_FragColor = vec4(mix(backgroundColor, vColor.rgb, alpha), vColor.a * opacity);\n      } else {\n        gl_FragColor = vec4(vColor.rgb, a * opacity);\n      }\n      DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n    }\n  } else {\n    DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n  }\n}\n"})}},{key:"initializeState",value:function(){var e=this;Object(a.a)(Object(u.a)(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(r,i)}}})}},{key:"updateState",value:function(e){Object(a.a)(Object(u.a)(n.prototype),"updateState",this).call(this,e);var t=e.oldProps,r=e.props;if(r.backgroundColor!==t.backgroundColor){var i=Array.isArray(r.backgroundColor)?r.backgroundColor.map((function(e){return e/255})).slice(0,3):null;this.setState({backgroundColor:i})}}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props.sdf,i=this.state.backgroundColor,o=Array.isArray(i);Object(a.a)(Object(u.a)(n.prototype),"draw",this).call(this,{uniforms:Object.assign({},t,{buffer:.75,gamma:.2,sdf:Boolean(r),backgroundColor:i||[0,0,0],shouldDrawBackground:o})})}},{key:"getInstanceOffset",value:function(e){var t=this;return e?Array.from(e).map((function(e){return Object(a.a)(Object(u.a)(n.prototype),"getInstanceOffset",t).call(t,e)})):oe}},{key:"getInstanceColorMode",value:function(e){return 1}},{key:"getInstanceIconFrame",value:function(e){var t=this;return e?Array.from(e).map((function(e){return Object(a.a)(Object(u.a)(n.prototype),"getInstanceIconFrame",t).call(t,e)})):oe}}]),n}(z);ae.layerName="MultiIconLayer",ae.defaultProps={backgroundColor:{type:"color",value:null,optional:!0},getIconOffsets:{type:"accessor",value:function(e){return e.offsets}},alphaCutoff:0};var se=n("rxlC"),ce=n.n(se);function ue(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r],o=null,a=t&&t[i];a&&(o=a.width),n+=o}return n}function fe(e,t,n){for(var r=[],i=0,o=0,a=0;a<e.length;a++){var s=Ae(e[a],n);o+s>t&&(i<a&&r.push(e.substring(i,a)),i=a,o=0),o+=s}return i<e.length&&r.push(e.substring(i)),{rows:r,lastRowStartCharIndex:i,lastRowOffsetLeft:o}}function he(e,t,n,r){return"break-all"===t?fe(e,n,r):function(e,t,n){for(var r=[],i=0,o=0,a=0,s=null,c=0;c<e.length;c++)if(" "===e[c]?(s=e[c],o=c+1):c+1<e.length&&" "===e[c+1]||c+1===e.length?(s=e.substring(o,c+1),o=c+1):s=null,s){var u=Ae(s,n);if(a+u>t){var l=o-s.length;if(i<l&&(r.push(e.substring(i,l)),i=l,a=0),u>t){var A=fe(s,t,n);A.rows.length>1&&(r=r.concat(A.rows.slice(0,A.rows.length-1))),i+=A.lastRowStartCharIndex,u=A.lastRowOffsetLeft}}a+=u}return i<e.length&&r.push(e.substring(i)),{rows:r,lastRowStartCharIndex:i,lastRowOffsetLeft:a}}(e,n,r)}function ge(e,t){for(var n=0,r=0,i=new Array(e.length),o=0;o<e.length;o++){var a=e[o],s=t[a];s?(r||(r=s.height),i[o]=n+s.width/2,n+=s.width):(Q.a.warn("Missing character: ".concat(a))(),i[o]=n,n+=32)}return{leftOffsets:i,rowWidth:n,rowHeight:r}}var de=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;Object(i.a)(this,e),this.limit=t,this.clear()}return Object(o.a)(e,[{key:"clear",value:function(){this._cache={},this._order=[]}},{key:"get",value:function(e){var t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}},{key:"set",value:function(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}},{key:"delete",value:function(e){this._cache[e]&&(this._deleteCache(e),this._deleteOrder(e))}},{key:"_deleteCache",value:function(e){delete this._cache[e]}},{key:"_deleteOrder",value:function(e){var t=this._order.findIndex((function(t){return t===e}));t>=0&&this._order.splice(t,1)}},{key:"_appendOrder",value:function(e){this._order.push(e)}}]),e}();function pe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ye=function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),me=new de(3),be=["fontFamily","fontWeight","characterSet","fontSize","sdf","buffer","cutoff","radius"];function Ee(e,t){var n=me.get(e);if(!n)return t;var r=[],i=n.mapping,o=Object.keys(i);o=new Set(o);var a=t;return a instanceof Array&&(a=new Set(a)),a.forEach((function(e){o.has(e)||r.push(e)})),r}function Ie(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function Ce(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="baseline",e.textAlign="left"}var _e=function(){function e(t){Object(i.a)(this,e),this.gl=t,this.props={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:ye,fontSize:64,buffer:2,sdf:!1,cutoff:.25,radius:3},this._key=null,this._texture=new p.a(this.gl)}return Object(o.a)(e,[{key:"finalize",value:function(){this._texture.delete()}},{key:"setProps",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};be.forEach((function(n){n in t&&(e.props[n]=t[n])}));var n=this._key;this._key=this._getKey();var r=Ee(this._key,this.props.characterSet),i=me.get(this._key);if(i&&0===r.length)this._key!==n&&this._updateTexture(i);else{var o=this._generateFontAtlas(this._key,r,i);this._updateTexture(o),me.set(this._key,o)}}},{key:"_updateTexture",value:function(e){var t,n=e.data,r=e.width,i=e.height;this._texture.width===r&&this._texture.height===i||this._texture.resize({width:r,height:i}),this._texture.setImageData({data:n,width:r,height:i,parameters:(t={},Object(l.a)(t,10242,33071),Object(l.a)(t,10243,33071),t)}),this._texture.generateMipmap()}},{key:"_generateFontAtlas",value:function(e,t,n){var r=this.props,i=r.fontFamily,o=r.fontWeight,a=r.fontSize,s=r.buffer,c=r.sdf,u=r.radius,l=r.cutoff,A=n&&n.data;A||((A=document.createElement("canvas")).width=1024);var f=A.getContext("2d");Ce(f,i,a,o);var h=function(e){var t,n=e.characterSet,r=e.getFontWidth,i=e.fontHeight,o=e.buffer,a=e.maxCanvasWidth,s=e.mapping,c=void 0===s?{}:s,u=e.xOffset,l=void 0===u?0:u,A=e.yOffset,f=void 0===A?0:A,h=0,g=l,d=0,p=ue(n);try{for(p.s();!(t=p.n()).done;){var v=t.value;if(!c[v]){var y=r(v,d++);g+y+2*o>a&&(g=0,h++),c[v]={x:g+o,y:f+h*(i+2*o)+o,width:y,height:i},g+=y+2*o}}}catch(E){p.e(E)}finally{p.f()}var m,b=i+2*o;return{mapping:c,xOffset:g,yOffset:f+h*b,canvasHeight:(m=f+(h+1)*b,Math.pow(2,Math.ceil(Math.log2(m))))}}(Object.assign({getFontWidth:function(e){return f.measureText(e).width},fontHeight:1.2*a,buffer:s,characterSet:t,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),g=h.mapping,d=h.canvasHeight,p=h.xOffset,v=h.yOffset;if(A.height!==d){var y=f.getImageData(0,0,A.width,A.height);A.height=d,f.putImageData(y,0,0)}if(Ce(f,i,a,o),c){var m,b=new ce.a(a,s,u,l,i,o),E=f.getImageData(0,0,b.size,b.size),I=pe(t);try{for(I.s();!(m=I.n()).done;){var C=m.value;Ie(b.draw(C),E),f.putImageData(E,g[C].x-s,g[C].y-s)}}catch(O){I.e(O)}finally{I.f()}}else{var _,B=pe(t);try{for(B.s();!(_=B.n()).done;){var w=_.value;f.fillText(w,g[w].x,g[w].y+.9*a)}}catch(O){B.e(O)}finally{B.f()}}return{xOffset:p,yOffset:v,mapping:g,data:A,width:A.width,height:A.height}}},{key:"_getKey",value:function(){var e=this.props,t=e.gl,n=e.fontFamily,r=e.fontWeight,i=e.fontSize,o=e.buffer,a=e.sdf,s=e.radius,c=e.cutoff;return a?"".concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(o," ").concat(s," ").concat(c):"".concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(o)}},{key:"texture",get:function(){return this._texture}},{key:"mapping",get:function(){var e=me.get(this._key);return e&&e.mapping}},{key:"scale",get:function(){return 1.2}}]),e}();function Be(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Re={fontSize:64,buffer:2,sdf:!1,radius:3,cutoff:.25},Te={start:1,middle:0,end:-1},Qe={top:1,center:0,bottom:-1},Pe=["fontSize","buffer","sdf","radius","cutoff"],Me={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,backgroundColor:{type:"color",value:null,optional:!0},characterSet:ye,fontFamily:"Monaco, monospace",fontWeight:"normal",lineHeight:1,fontSettings:{},wordBreak:"word-break",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:[0,0,0,255]},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]}},Le=function(e){Object(s.a)(n,e);var t=xe(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"initializeState",value:function(){this.state={styleVersion:0,fontAtlasManager:new _e(this.context.gl)}}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags,i=this._fontChanged(n,t);i&&this._updateFontAtlas(n,t);var o=i||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),o&&this.setState({styleVersion:this.state.styleVersion+1})}},{key:"finalizeState",value:function(){Object(a.a)(Object(u.a)(n.prototype),"finalizeState",this).call(this),this.state.fontAtlasManager.finalize()}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.index>=0?this.props.data[t.index]:null})}},{key:"_updateFontAtlas",value:function(e,t){var n=t.characterSet,r=t.fontSettings,i=t.fontFamily,o=t.fontWeight;this.state.fontAtlasManager.setProps(Object.assign({},Re,r,{characterSet:n,fontFamily:i,fontWeight:o})),this.setNeedsRedraw(!0)}},{key:"_fontChanged",value:function(e,t){if(e.fontFamily!==t.fontFamily||e.characterSet!==t.characterSet||e.fontWeight!==t.fontWeight)return!0;if(e.fontSettings===t.fontSettings)return!1;var n=e.fontSettings||{},r=t.fontSettings||{};return Pe.some((function(e){return n[e]!==r[e]}))}},{key:"_updateText",value:function(){var e,t=this.props.data,n=t.attributes&&t.attributes.getText,r=this.props.getText,i=t.startIndices;if(n&&i){var o=function(e){var t=e.value,n=e.length,r=e.stride,i=e.offset,o=e.startIndices,a=t.BYTES_PER_ELEMENT,s=r?r/a:1,c=i?i/a:0,u=o[n]||Math.floor((t.length-c-a)/s)+1,l=new Array(n),A=t;if(s>1||c>0){A=new t.constructor(u);for(var f=0;f<u;f++)A[f]=t[f*s+c]}for(var h=0;h<n;h++){var g=o[h],d=o[h+1]||u;l[h]=String.fromCodePoint.apply(null,A.subarray(g,d))}return{texts:l,characterCount:u}}(Se(Se({},ArrayBuffer.isView(n)?{value:n}:n),{},{length:t.length,startIndices:i})),a=o.texts;e=o.characterCount,r=function(e,t){var n=t.index;return a[n]}}else{var s=Object(T.a)(t),c=s.iterable,u=s.objectInfo;i=[0],e=0;var l,A=Be(c);try{for(A.s();!(l=A.n()).done;){var f=l.value;u.index++,e+=(r(f,u)||"").length,i.push(e)}}catch(h){A.e(h)}finally{A.f()}}this.setState({getText:r,startIndices:i,numInstances:e})}},{key:"getIconOffsets",value:function(e,t){var n,r=this.state.fontAtlasManager.mapping,i=this.state.getText,o=this.props,a=o.wordBreak,s=o.maxWidth,c=o.lineHeight,u=o.getTextAnchor,l=o.getAlignmentBaseline,A=i(e,t)||"",f=function(e,t,n,r,i){for(var o=new Array(e.length),a=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,s=[0,0],c=0,u=0,l=0;l<=e.length;l++){var A=e[l],f=void 0;if("\n"!==A&&void 0!==A||(f=e.slice(u,l)),f){var h,g=ue(a?he(f,n,r,i).rows:[f]);try{for(g.s();!(h=g.n()).done;){var d,p=ge(h.value,i),v=p.rowWidth,y=p.rowHeight,m=ue(p.leftOffsets);try{for(m.s();!(d=m.n()).done;){var b=d.value;o[u++]={x:b,y:c+y/2,rowWidth:v}}}catch(E){m.e(E)}finally{m.f()}c+=y*t,s[0]=a?r:Math.max(s[0],v)}}catch(E){g.e(E)}finally{g.f()}}"\n"===A&&(o[u++]={x:0,y:0,rowWidth:0})}return s[1]=c,{characters:o,size:s}}(A,c,a,s,r),h=f.characters,g=Object(ne.a)(f.size,2),d=g[0],p=g[1],v=Te["function"===typeof u?u(e,t):u],y=Qe["function"===typeof l?l(e,t):l],m=new Array(2*A.length),b=0,E=Be(h);try{for(E.s();!(n=E.n()).done;){var I=n.value,C=I.rowWidth,_=I.x,B=I.y,w=(1-v)*(d-C)/2;m[b++]=(v-1)*d/2+w+_,m[b++]=(y-1)*p/2+B}}catch(O){E.e(O)}finally{E.f()}return m}},{key:"renderLayers",value:function(){var e=this.state,t=e.startIndices,n=e.numInstances,r=e.getText,i=e.fontAtlasManager,o=i.scale,a=i.texture,s=i.mapping,c=e.styleVersion,u=this.props,l=u.data,A=u._dataDiff,f=u.backgroundColor,h=u.getPosition,g=u.getColor,d=u.getSize,p=u.getAngle,v=u.getPixelOffset,y=u.billboard,m=u.fontSettings,b=u.sizeScale,E=u.sizeUnits,I=u.sizeMinPixels,C=u.sizeMaxPixels,_=u.transitions,B=u.updateTriggers,w=this.getIconOffsets.bind(this);return new(this.getSubLayerClass("characters",ae))({sdf:m.sdf,iconAtlas:a,iconMapping:s,backgroundColor:f,getPosition:h,getColor:g,getSize:d,getAngle:p,getPixelOffset:v,billboard:y,sizeScale:b*o,sizeUnits:E,sizeMinPixels:I*o,sizeMaxPixels:C*o,transitions:_&&{getPosition:_.getPosition,getAngle:_.getAngle,getColor:_.getColor,getSize:_.getSize,getPixelOffset:B.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:B.getText,getPosition:B.getPosition,getAngle:B.getAngle,getColor:B.getColor,getSize:B.getSize,getPixelOffset:B.getPixelOffset,getIconOffsets:{getText:B.getText,getTextAnchor:B.getTextAnchor,getAlignmentBaseline:B.getAlignmentBaseline,styleVersion:c}}}),{data:l,_dataDiff:A,startIndices:t,numInstances:n,getIconOffsets:w,getIcon:r})}}]),n}(re.a);Le.layerName="TextLayer",Le.defaultProps=Me;var Ne=n("KHNG")},gBP8:function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},gOKY:function(e,t,n){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},gztc:function(e,t,n){"use strict";n.r(t),n.d(t,"registerSerializer",(function(){return r.b})),n.d(t,"Pool",(function(){return w})),n.d(t,"spawn",(function(){return O.a})),n.d(t,"Thread",(function(){return E})),n.d(t,"isWorkerRuntime",(function(){return A})),n.d(t,"BlobWorker",(function(){return S})),n.d(t,"Worker",(function(){return x})),n.d(t,"expose",(function(){return R.a})),n.d(t,"DefaultSerializer",(function(){return T.a})),n.d(t,"Transfer",(function(){return Q.a}));var r=n("3Cr/");let i;function o(){return i||(i=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),i}const a="undefined"!==typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,s=e=>/^(file|https?:)?\/\//i.test(e);function c(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let u;function l(){return u||(u=function(){if("undefined"===typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){"string"===typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"===typeof e&&!s(e)&&o().match(/^file:\/\//i)&&(e=new URL(e,o().replace(/\/[^\/]+$/,"/")),e=c(`importScripts(${JSON.stringify(e)});`)),"string"===typeof e&&s(e)&&(e=c(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,n){const r=new window.Blob([e],{type:"text/javascript"});return new t(r,n)}}return{blob:t,default:e}}()),u}function A(){const e="undefined"!==typeof self&&"undefined"!==typeof Window&&self instanceof Window;return!("undefined"===typeof self||!self.postMessage||e)}var f,h=n("NOtv"),g=n.n(h),d=n("qyNU"),p=n("NEZD"),v=n("Lhll");function y(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),n=e=>({status:"rejected",reason:e}),r=Promise.resolve(e);try{return r.then(t,n)}catch(i){return Promise.reject(i)}}))}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(f||(f={}));var m=n("ewpT");function b(e){throw Error(e)}const E={errors:e=>e[m.a]||b("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[m.b]||b("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[m.c]()};var I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};let C=1;class _{constructor(e,t){this.eventSubject=new d.a,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const n="number"===typeof t?{size:t}:t||{},{size:r=a}=n;this.debug=g()("threads:pool:"+(n.name||String(C++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")),this.options=n,this.workers=function(e,t){return function(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,r),this.eventObservable=Object(p.a)(v.a.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:f.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return I(this,void 0,void 0,(function*(){const n=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${n}...`),this.eventSubject.next({type:f.taskStart,taskID:t.id,workerID:n});try{const r=yield t.run(yield e.init);this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:f.taskCompleted,returnValue:r,taskID:t.id,workerID:n})}catch(r){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:f.taskFailed,taskID:t.id,error:r,workerID:n})}}))}run(e,t){return I(this,void 0,void 0,(function*(){const n=(()=>I(this,void 0,void 0,(function*(){var r;yield(r=0,new Promise(e=>setTimeout(e,r)));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}})))();e.runningTasks.push(n)}))}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:f.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,n)=>{const r=this.events().subscribe(i=>{i.type===f.taskCompleted&&i.taskID===e?(r.unsubscribe(),t(i.returnValue)):i.type===f.taskFailed&&i.taskID===e?(r.unsubscribe(),n(i.error)):i.type===f.terminated&&(r.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return I(this,void 0,void 0,(function*(){const t=()=>{return e=this.workers,t=e=>e.runningTasks,e.reduce((e,n)=>[...e,...t(n)],[]);var e,t},n=[],r=this.eventObservable.subscribe(e=>{e.type===f.taskFailed&&n.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield y(t()),n):(yield new Promise((e,t)=>{const n=this.eventObservable.subscribe({next(t){t.type===f.taskQueueDrained&&(n.unsubscribe(),e())},error:t})}),yield y(t()),r.unsubscribe(),n)}))}completed(e=!1){return I(this,void 0,void 0,(function*(){const t=this.settled(e),n=new Promise((e,n)=>{const r=this.eventObservable.subscribe({next(i){i.type===f.taskQueueDrained?(r.unsubscribe(),e(t)):i.type===f.taskFailed&&(r.unsubscribe(),n(i.error))},error:n})}),r=yield Promise.race([t,n]);if(r.length>0)throw r[0]}))}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const n=this.nextTaskID++,r=this.taskCompletion(n);r.catch(e=>{this.debug(`Task #${n} errored:`,e)});const i={id:n,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(i)&&(this.taskQueue=this.taskQueue.filter(e=>e!==i),this.eventSubject.next({type:f.taskCanceled,taskID:i.id}))},then:r.then.bind(r)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${i.id}...`),this.taskQueue.push(i),this.eventSubject.next({type:f.taskQueued,taskID:i.id}),this.scheduleWork(),i}terminate(e){return I(this,void 0,void 0,(function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:f.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>I(this,void 0,void 0,(function*(){return E.terminate(yield e.init)}))))}))}}function B(e,t){return new _(e,t)}_.EventType=f,B.EventType=f;const w=B;var O=n("cxv0");const S=l().blob,x=l().default;var R=n("UB+q"),T=n("atKK"),Q=n("zY86")},hwdV:function(e,t,n){var r=n("HDXh"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},iTZm:function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},iWIM:function(e,t,n){var r=n("n3AX");function i(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},iceZ:function(e,t,n){"use strict";const r=n("bCCX").default;e.exports=e=>Boolean(e&&e[r]&&e===e[r]())},"j/LU":function(e,t,n){"use strict";const r=n("4abu"),i=function(e,t){const n={};if(!(e.child&&!r.isEmptyObject(e.child)||e.attrsMap&&!r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";r.isExist(e.val)&&("string"!==typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&("strict"===t.arrayMode?n[t.textNodeName]=[e.val]:n[t.textNodeName]=e.val),r.merge(n,e.attrsMap,t.arrayMode);const o=Object.keys(e.child);for(let r=0;r<o.length;r++){var a=o[r];if(e.child[a]&&e.child[a].length>1)for(var s in n[a]=[],e.child[a])n[a].push(i(e.child[a][s],t));else if(!0===t.arrayMode){const r=i(e.child[a][0],t);n[a]="object"===typeof r?[r]:r}else"strict"===t.arrayMode?n[a]=[i(e.child[a][0],t)]:n[a]=i(e.child[a][0],t)}return n};t.convertToJson=i},kDxh:function(e,t,n){"use strict";var r=n("ybjB").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},A=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,A=!0,s||o.call(t)},h=function(e){o.call(t,e)},g=function(){var e;return a&&!A?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},d=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",g),t.req?d():t.on("request",d)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",g),function(){t.removeListener("complete",l),t.removeListener("abort",g),t.removeListener("request",d),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",g)}}},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,A=n?i-1:0,f=n?-1:1,h=e[t+A];for(A+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+A],A+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+A],A+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,A=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,g=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+A>=1?f/c:f*Math.pow(2,1-A))*c>=2&&(a++,c/=2),a+A>=l?(s=0,a=l):a+A>=1?(s=(t*c-1)*Math.pow(2,i),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=g,a/=256,u-=8);e[n+h-g]|=128*d}},kd2E:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var A,f,h,g,d=e[l].replace(s,"%20"),p=d.indexOf(n);p>=0?(A=d.substr(0,p),f=d.substr(p+1)):(A=d,f=""),h=decodeURIComponent(A),g=decodeURIComponent(f),r(a,h)?i(a[h])?a[h].push(g):a[h]=[a[h],g]:a[h]=g}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},m0LI:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},n3AX:function(e,t,n){var r=n("Nsbk");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},nA4H:function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("kDxh"),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),A=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(h(n,!1)))}}function d(e){t.nextTick(g,e)}var p=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[c]?r(e[c]):n(h(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[A](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[A])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),p);e.exports=function(e){var t,n=Object.create(v,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,A,{value:function(e,t){var r=n[f].read();r?(n[l]=null,n[a]=null,n[s]=null,e(h(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",d.bind(null,n)),n}}).call(this,n("8oxB"))},nm4c:function(e,t,n){"use strict";var r=n("vn/o"),i=n("yDR0"),o=n("7tol"),a=n("frGm"),s=n("aFNf");function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function A(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,A(e))):-2}function h(e,t){var n,r;return e?(r=new u,e.state=r,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var g,d,p=!0;function v(e){if(p){var t;for(g=new r.Buf32(512),d=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,d,0,e.work,{bits:5}),p=!1}e.lencode=g,e.lenbits=9,e.distcode=d,e.distbits=5}function y(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=A,t.inflateReset2=f,t.inflateResetKeep=l,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var n,u,l,A,f,h,g,d,p,m,b,E,I,C,_,B,w,O,S,x,R,T,Q,P,M=0,L=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,l=e.output,g=e.avail_out,A=e.next_in,u=e.input,h=e.avail_in,d=n.hold,p=n.bits,m=h,b=g,T=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;p<16;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(2&n.wrap&&35615===d){n.check=0,L[0]=255&d,L[1]=d>>>8&255,n.check=o(n.check,L,2,0),d=0,p=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!==(15&d)){e.msg="unknown compression method",n.mode=30;break}if(p-=4,R=8+(15&(d>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<R,e.adler=n.check=1,n.mode=512&d?10:12,d=0,p=0;break;case 2:for(;p<16;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(n.flags=d,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(L[0]=255&d,L[1]=d>>>8&255,n.check=o(n.check,L,2,0)),d=0,p=0,n.mode=3;case 3:for(;p<32;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.head&&(n.head.time=d),512&n.flags&&(L[0]=255&d,L[1]=d>>>8&255,L[2]=d>>>16&255,L[3]=d>>>24&255,n.check=o(n.check,L,4,0)),d=0,p=0,n.mode=4;case 4:for(;p<16;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(L[0]=255&d,L[1]=d>>>8&255,n.check=o(n.check,L,2,0)),d=0,p=0,n.mode=5;case 5:if(1024&n.flags){for(;p<16;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(L[0]=255&d,L[1]=d>>>8&255,n.check=o(n.check,L,2,0)),d=0,p=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((E=n.length)>h&&(E=h),E&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,A,E,R)),512&n.flags&&(n.check=o(n.check,u,E,A)),h-=E,A+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;E=0;do{R=u[A+E++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R))}while(R&&E<h);if(512&n.flags&&(n.check=o(n.check,u,E,A)),h-=E,A+=E,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;E=0;do{R=u[A+E++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R))}while(R&&E<h);if(512&n.flags&&(n.check=o(n.check,u,E,A)),h-=E,A+=E,R)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;p<16;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}d=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;p<32;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}e.adler=n.check=c(d),d=0,p=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=g,e.next_in=A,e.avail_in=h,n.hold=d,n.bits=p,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){d>>>=7&p,p-=7&p,n.mode=27;break}for(;p<3;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}switch(n.last=1&d,p-=1,3&(d>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){d>>>=2,p-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}d>>>=2,p-=2;break;case 14:for(d>>>=7&p,p-=7&p;p<32;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if((65535&d)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&d,d=0,p=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(E>h&&(E=h),E>g&&(E=g),0===E)break e;r.arraySet(l,u,A,E,f),h-=E,A+=E,g-=E,f+=E,n.length-=E;break}n.mode=12;break;case 17:for(;p<14;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(n.nlen=257+(31&d),d>>>=5,p-=5,n.ndist=1+(31&d),d>>>=5,p-=5,n.ncode=4+(15&d),d>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;p<3;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.lens[N[n.have++]]=7&d,d>>>=3,p-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Q={bits:n.lenbits},T=s(0,n.lens,0,19,n.lencode,0,n.work,Q),n.lenbits=Q.bits,T){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;B=(M=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,w=65535&M,!((_=M>>>24)<=p);){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(w<16)d>>>=_,p-=_,n.lens[n.have++]=w;else{if(16===w){for(P=_+2;p<P;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(d>>>=_,p-=_,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}R=n.lens[n.have-1],E=3+(3&d),d>>>=2,p-=2}else if(17===w){for(P=_+3;p<P;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}p-=_,R=0,E=3+(7&(d>>>=_)),d>>>=3,p-=3}else{for(P=_+7;p<P;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}p-=_,R=0,E=11+(127&(d>>>=_)),d>>>=7,p-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=R}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,Q={bits:n.lenbits},T=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,Q),n.lenbits=Q.bits,T){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,Q={bits:n.distbits},T=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Q),n.distbits=Q.bits,T){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(h>=6&&g>=258){e.next_out=f,e.avail_out=g,e.next_in=A,e.avail_in=h,n.hold=d,n.bits=p,a(e,b),f=e.next_out,l=e.output,g=e.avail_out,A=e.next_in,u=e.input,h=e.avail_in,d=n.hold,p=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;B=(M=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,w=65535&M,!((_=M>>>24)<=p);){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(B&&0===(240&B)){for(O=_,S=B,x=w;B=(M=n.lencode[x+((d&(1<<O+S)-1)>>O)])>>>16&255,w=65535&M,!(O+(_=M>>>24)<=p);){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}d>>>=O,p-=O,n.back+=O}if(d>>>=_,p-=_,n.back+=_,n.length=w,0===B){n.mode=26;break}if(32&B){n.back=-1,n.mode=12;break}if(64&B){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&B,n.mode=22;case 22:if(n.extra){for(P=n.extra;p<P;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;B=(M=n.distcode[d&(1<<n.distbits)-1])>>>16&255,w=65535&M,!((_=M>>>24)<=p);){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(0===(240&B)){for(O=_,S=B,x=w;B=(M=n.distcode[x+((d&(1<<O+S)-1)>>O)])>>>16&255,w=65535&M,!(O+(_=M>>>24)<=p);){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}d>>>=O,p-=O,n.back+=O}if(d>>>=_,p-=_,n.back+=_,64&B){e.msg="invalid distance code",n.mode=30;break}n.offset=w,n.extra=15&B,n.mode=24;case 24:if(n.extra){for(P=n.extra;p<P;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(E=b-g,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E>n.wnext?(E-=n.wnext,I=n.wsize-E):I=n.wnext-E,E>n.length&&(E=n.length),C=n.window}else C=l,I=f-n.offset,E=n.length;E>g&&(E=g),g-=E,n.length-=E;do{l[f++]=C[I++]}while(--E);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;l[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;p<32;){if(0===h)break e;h--,d|=u[A++]<<p,p+=8}if(b-=g,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?o(n.check,l,b,f-b):i(n.check,l,b,f-b)),b=g,(n.flags?d:c(d))!==n.check){e.msg="incorrect data check",n.mode=30;break}d=0,p=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;p<32;){if(0===h)break e;h--,d+=u[A++]<<p,p+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}d=0,p=0}n.mode=29;case 29:T=1;break e;case 30:T=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=g,e.next_in=A,e.avail_in=h,n.hold=d,n.bits=p,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(m-=e.avail_in,b-=e.avail_out,e.total_in+=m,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?o(n.check,l,b,e.next_out-b):i(n.check,l,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===m&&0===b||4===t)&&0===T&&(T=-5),T)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},"oRz+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("ItzM"),s=n(3),c=n("FR20"),u={};function l(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(i.a.mark((function e(t){var n,r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]?o[2]:{},n&&(t=f(t,n,r)),u[t]=u[t]||h(t),e.next=6,u[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){var r=n.modules||{};return r[e]?r[e]:a.b?n.CDN?(Object(c.a)(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat("2.3.0","/dist/libs/").concat(e)):a.c?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function h(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(a.b){e.next=9;break}return e.abrupt("return",s.requireFromFile&&s.requireFromFile(t));case 9:if(!a.c){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return r=e.sent,e.next=16,r.text();case 16:return o=e.sent,e.abrupt("return",d(o,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){if(!a.b)return s.requireFromString&&s.requireFromString(e,t);if(a.c)return eval.call(a.a,e),null;var n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}},p1mf:function(e,t,n){"use strict";const r=n("4abu").buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(e){this.options=r(e,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=d:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=c,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=l):(this.buildTextNode=A,this.buildObjNode=u),this.buildTextValNode=A,this.buildObjectNode=u}function s(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function u(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function l(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function A(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function h(e){return this.options.indentBy.repeat(e)}function g(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function d(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return this.j2x(e,0).val},a.prototype.j2x=function(e,t){let n="",r="";const i=Object.keys(e),o=i.length;for(let a=0;a<o;a++){const o=i[a];if("undefined"===typeof e[o]);else if(null===e[o])r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextNode(e[o],o,"",t);else if("object"!==typeof e[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+e[o])+'"':this.isCDATA(o)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAstr("",e[o]):o===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[o])):r+=this.buildTextNode(e[o],o,"",t)}else if(Array.isArray(e[o]))if(this.isCDATA(o))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAarr("",e[o]);else{const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];if("undefined"===typeof n);else if(null===n)r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"===typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,o,e.attrStr,t)}else r+=this.buildTextNode(n,o,"",t)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[o][t[i]])+'"'}else{const n=this.j2x(e[o],t+1);r+=this.buildObjNode(n.val,o,n.attrStr,t)}}return{attrStr:n,val:r}},e.exports=a},qI7z:function(e,t,n){"use strict";n.r(t),n.d(t,"COORDINATE_SYSTEM",(function(){return r.a})),n.d(t,"LightingEffect",(function(){return i.a})),n.d(t,"AmbientLight",(function(){return o.a})),n.d(t,"DirectionalLight",(function(){return a.a})),n.d(t,"PointLight",(function(){return g})),n.d(t,"_CameraLight",(function(){return E})),n.d(t,"_SunLight",(function(){return Q})),n.d(t,"PostProcessEffect",(function(){return z})),n.d(t,"_LayersPass",(function(){return q.a})),n.d(t,"Deck",(function(){return K.a})),n.d(t,"LayerManager",(function(){return W.a})),n.d(t,"AttributeManager",(function(){return J.a})),n.d(t,"Layer",(function(){return X.a})),n.d(t,"CompositeLayer",(function(){return Z.a})),n.d(t,"DeckRenderer",(function(){return $.a})),n.d(t,"Viewport",(function(){return ee.a})),n.d(t,"WebMercatorViewport",(function(){return te.a})),n.d(t,"_GlobeViewport",(function(){return le})),n.d(t,"picking",(function(){return fe.a})),n.d(t,"project",(function(){return he.a})),n.d(t,"project32",(function(){return ge.a})),n.d(t,"gouraudLighting",(function(){return de.a})),n.d(t,"phongLighting",(function(){return de.b})),n.d(t,"shadow",(function(){return pe.a})),n.d(t,"View",(function(){return ve.a})),n.d(t,"MapView",(function(){return ye.a})),n.d(t,"FirstPersonView",(function(){return Se})),n.d(t,"OrbitView",(function(){return Me})),n.d(t,"OrthographicView",(function(){return Le.a})),n.d(t,"_GlobeView",(function(){return Ke})),n.d(t,"Controller",(function(){return be.a})),n.d(t,"MapController",(function(){return De.b})),n.d(t,"_GlobeController",(function(){return Ve})),n.d(t,"FirstPersonController",(function(){return we})),n.d(t,"OrbitController",(function(){return xe.b})),n.d(t,"OrthographicController",(function(){return We.a})),n.d(t,"Effect",(function(){return P.a})),n.d(t,"LayerExtension",(function(){return Je.a})),n.d(t,"TRANSITION_EVENTS",(function(){return Fe.a})),n.d(t,"TransitionInterpolator",(function(){return Xe.a})),n.d(t,"LinearInterpolator",(function(){return je.a})),n.d(t,"FlyToInterpolator",(function(){return rt})),n.d(t,"log",(function(){return it.a})),n.d(t,"createIterable",(function(){return ot.a})),n.d(t,"fp64LowPart",(function(){return Ie.c})),n.d(t,"Tesselator",(function(){return at.a})),n.d(t,"_fillArray",(function(){return st.a})),n.d(t,"_flatten",(function(){return st.b})),n.d(t,"_count",(function(){return ct.a})),n.d(t,"_memoize",(function(){return ut.a})),n.d(t,"_mergeShaders",(function(){return lt.a})),n.d(t,"_compareProps",(function(){return At.a}));var r=n("V3d6"),i=n("8rZH"),o=n("7gZ0"),a=n("VBTR"),s=n("1OyB"),c=n("vuIU"),u=n("5cL1"),l=[255,255,255],A=[0,0,1],f=[0,0,1],h=0,g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e);var n=t.color,r=void 0===n?l:n,i=t.intensity,o=void 0===i?1:i,a=t.position,c=void 0===a?f:a;this.id=t.id||"point-".concat(h++),this.color=r,this.intensity=o,this.type="point",this.position=c,this.attenuation=d(t),this.projectedLight=Object.assign({},this)}return Object(c.a)(e,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,i=t.context.viewport,o=t.props,a=o.coordinateSystem,s=o.coordinateOrigin,c=Object(u.b)(this.position,{viewport:i,coordinateSystem:a,coordinateOrigin:s,fromCoordinateSystem:i.isGeospatial?r.a.LNGLAT:r.a.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return n.color=this.color,n.intensity=this.intensity,n.position=c,n}}]),e}();function d(e){return"attenuation"in e?e.attenuation:"intensity"in e?[0,0,e.intensity]:A}var p=n("Ji7U"),v=n("md7G"),y=n("foSv"),m=n("V8ep");function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var E=function(e){Object(p.a)(n,e);var t=b(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,r=t.context.viewport,i=t.props,o=i.coordinateSystem,a=i.coordinateOrigin,s=i.modelMatrix,c=Object(m.b)({viewport:r,modelMatrix:s,coordinateSystem:o,coordinateOrigin:a}).project_uCameraPosition;return n.color=this.color,n.intensity=this.intensity,n.position=c,n}}]),n}(g),I=n("Ff2n"),C=Math.PI/180,_=23.4397*C,B=.98560028;function w(e,t,n){var r=C*-n,i=C*t,o=function(e){return function(e){return e/864e5-.5+2440588}(e)-2451545}(e),a=function(e){var t=function(e){var t=e,n=C*(1.9148*Math.sin(t)+.02*Math.sin(2*t)+3e-4*Math.sin(3*t));return t+n+102.9372*C+Math.PI}((n=e,C*(357.5291+B*n)));var n;return{declination:S(t,0),rightAscension:O(t,0)}}(o),s=function(e,t){return C*(280.147+360.9856235*e)-t}(o,r)-a.rightAscension;return{azimuth:x(s,i,a.declination),altitude:R(s,i,a.declination)}}function O(e,t){var n=e;return Math.atan2(Math.sin(n)*Math.cos(_)-Math.tan(t)*Math.sin(_),Math.cos(n))}function S(e,t){var n=e;return Math.asin(Math.sin(t)*Math.cos(_)+Math.cos(t)*Math.sin(_)*Math.sin(n))}function x(e,t,n){var r=e,i=t,o=n;return Math.atan2(Math.sin(r),Math.cos(r)*Math.sin(i)-Math.tan(o)*Math.cos(i))}function R(e,t,n){var r=e,i=t,o=n;return Math.asin(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(r))}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var Q=function(e){Object(p.a)(n,e);var t=T(n);function n(e){var r,i=e.timestamp,o=Object(I.a)(e,["timestamp"]);return Object(s.a)(this,n),(r=t.call(this,o)).timestamp=i,r}return Object(c.a)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer.context.viewport,n=t.latitude,r=t.longitude;return this.direction=function(e,t,n){var r=w(e,t,n),i=r.azimuth,o=r.altitude,a=i+Math.PI;return[-Math.sin(a),-Math.cos(a),-Math.sin(o)]}(this.timestamp,n,r),this}}]),n}(a.a),P=n("uCGa"),M=n("uvYE"),L=n("iein"),N=n("pRFE");function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var D=function(e){Object(p.a)(n,e);var t=k(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,n),r=t.call(this,e,i);var o=i.module,a=i.fs,c=i.id;return r.model=new M.a(e,{id:c,fs:a,modules:[o]}),r}return Object(c.a)(n,[{key:"render",value:function(e){var t=this,n=this.gl;Object(L.l)(n,{framebuffer:e.outputBuffer,clearColor:[0,0,0,0]},(function(){return t._renderPass(n,e)}))}},{key:"delete",value:function(){this.model.delete(),this.model=null}},{key:"_renderPass",value:function(e,t){var n=t.inputBuffer;t.outputBuffer;Object(N.a)(e,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:n,texSize:[n.width,n.height]},parameters:{depthWrite:!1,depthTest:!1}})}}]),n}(n("mC81").a),j=n("bHAT");function F(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var z=function(e){Object(p.a)(n,e);var t=G(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,n),(r=t.call(this,i)).id="".concat(e.name,"-pass"),Object(j.b)(e),r.module=e,r}return Object(c.a)(n,[{key:"postRender",value:function(e,t){this.passes||(this.passes=function(e,t,n,r){if(t.filter||t.sampler){var i=Y(t);return[new D(e,{id:n,module:t,fs:i,moduleSettings:r})]}return(t.passes||[]).map((function(i,o){var a=Y(t,i),s="".concat(n,"-").concat(o);return new D(e,{id:s,module:t,fs:a,moduleSettings:r})}))}(e,this.module,this.id,this.props));for(var n=t.target,r=t.inputBuffer,i=t.swapBuffer,o=0;o<this.passes.length;o++){n&&o===this.passes.length-1&&(i=n),this.passes[o].render({inputBuffer:r,outputBuffer:i});var a=i;i=r,r=a}return r}},{key:"cleanup",value:function(){if(this.passes){var e,t=F(this.passes);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.passes=null}}}]),n}(P.a);var V=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(e,"(gl_FragColor, texSize, texCoord);\n}\n")},H=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(e,"(texture, texSize, texCoord);\n}\n")};function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.filter){var n="string"===typeof t.filter?t.filter:"".concat(e.name,"_filterColor");return V(n)}if(t.sampler){var r="string"===typeof t.sampler?t.sampler:"".concat(e.name,"_sampleColor");return H(r)}return null}var q=n("EFXr"),K=n("mybv"),W=n("rMPx"),J=n("mOXL"),X=n("K7jV"),Z=n("5lV4"),$=n("h9Q3"),ee=n("e/LK"),te=n("zGfa"),ne=n("ODXe"),re=n("c9N0"),ie=n("n+fv"),oe=n("bl9R");function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var se=Math.PI/180,ce=180/Math.PI;function ue(){var e=256/6370972,t=Math.PI/180*256;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[1/e,1/e,1/e],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,1/e]}}var le=function(e){Object(p.a)(n,e);var t=ae(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,n);var i=r.latitude,o=void 0===i?0:i,a=r.longitude,c=void 0===a?0:a,u=r.zoom,l=void 0===u?11:u,A=r.nearZMultiplier,f=void 0===A?.1:A,h=r.farZMultiplier,g=void 0===h?2:h,d=r.resolution,p=void 0===d?10:d,v=r.width,y=r.height,m=r.altitude,b=void 0===m?1.5:m;v=v||1,y=y||1,b=Math.max(.75,b);var E=(new re.a).lookAt({eye:[0,-b,0],up:[0,0,1]}),I=Math.pow(2,l);E.rotateX(o*se),E.rotateZ(-c*se),E.scale(I/y);var C=Math.atan(.5/b),_=512*I/y,B=Object.assign({},r,{width:v,height:y,viewMatrix:E,longitude:c,latitude:o,zoom:l,fovyRadians:2*C,aspect:v/y,focalDistance:b,near:f,far:Math.min(2,1/_+1)*b*g});return(e=t.call(this,B)).resolution=p,e.distanceScales=ue(),e}return Object(c.a)(n,[{key:"getDistanceScales",value:function(){return this.distanceScales}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,this.height/2],t),r=this.unproject([this.width/2,0],t),i=this.unproject([this.width,this.height/2],t),o=this.unproject([this.width/2,this.height],t);return i[0]<this.longitude&&(i[0]+=360),n[0]>this.longitude&&(n[0]-=360),[Math.min(n[0],i[0],r[0],o[0]),Math.min(n[1],i[1],r[1],o[1]),Math.max(n[0],i[0],r[0],o[0]),Math.max(n[1],i[1],r[1],o[1])]}},{key:"unproject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,i=void 0===r||r,o=n.targetZ,a=Object(ne.a)(e,3),s=a[0],c=a[1],u=a[2],l=i?c:this.height-c,A=this.pixelUnprojectionMatrix;if(Number.isFinite(u))t=Ae(A,[s,l,u,1]);else{var f=Ae(A,[s,l,-1,1]),h=Ae(A,[s,l,1,1]),g=256*((o||0)/6370972+1),d=ie.n(ie.o([],f,h)),p=ie.n(f),v=ie.n(h),y=(4*p*v-Math.pow(d-p-v,2))/16,m=4*y/d,b=Math.sqrt(p-m),E=Math.sqrt(Math.max(0,g*g-m)),I=(b-E)/Math.sqrt(d);t=ie.h([],f,h,I)}var C=this.unprojectPosition(t),_=Object(ne.a)(C,3),B=_[0],w=_[1],O=_[2];return Number.isFinite(u)?[B,w,O]:Number.isFinite(o)?[B,w,o]:[B,w]}},{key:"projectPosition",value:function(e){var t=Object(ne.a)(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i,a=n*se,s=r*se,c=Math.cos(s),u=256*(o/6370972+1);return[Math.sin(a)*c*u,-Math.cos(a)*c*u,Math.sin(s)*u]}},{key:"unprojectPosition",value:function(e){var t=Object(ne.a)(e,3),n=t[0],r=t[1],i=t[2],o=ie.f(e),a=Math.asin(i/o);return[Math.atan2(n,-r)*ce,a*ce,6370972*(o/256-1)]}},{key:"projectFlat",value:function(e){return e}},{key:"unprojectFlat",value:function(e){return e}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=e.pos,r=this.unproject(n);return[t[0]-r[0]+this.longitude,t[1]-r[1]+this.latitude]}},{key:"projectionMode",get:function(){return r.c.GLOBE}}]),n}(ee.a);function Ae(e,t){var n=oe.n([],t,e);return oe.k(n,n,1/n[3]),n}var fe=n("BQ9P"),he=n("hJkN"),ge=n("K4gp"),de=n("91Zk"),pe=n("A/wI"),ve=n("nICr"),ye=n("08OO"),me=n("v88f"),be=n("sxJW"),Ee=n("rSc4"),Ie=n("F8bt");function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var _e={position:[0,0,0],pitch:0,bearing:0,maxPitch:90,minPitch:-90},Be=function(e){Object(p.a)(n,e);var t=Ce(n);function n(e){var r,i=e.width,o=e.height,a=e.position,c=void 0===a?_e.position:a,u=e.bearing,l=void 0===u?_e.bearing:u,A=e.pitch,f=void 0===A?_e.pitch:A,h=e.longitude,g=e.latitude,d=e.maxPitch,p=void 0===d?_e.maxPitch:d,v=e.minPitch,y=void 0===v?_e.minPitch:v,m=e.startBearing,b=e.startPitch,E=e.startZoomPosition,I=e.startZoom;return Object(s.a)(this,n),(r=t.call(this,{width:i,height:o,position:c,bearing:l,pitch:f,longitude:h,latitude:g,maxPitch:p,minPitch:y}))._interactiveState={startBearing:m,startPitch:b,startZoomPosition:E,startZoom:I},r}return Object(c.a)(n,[{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"getDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new re.e({bearing:this._viewportProps.bearing,pitch:e?90:90+this._viewportProps.pitch}),n=t.toVector3().normalize();return n}},{key:"panStart",value:function(){return this}},{key:"pan",value:function(){return this}},{key:"panEnd",value:function(){return this}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=this._interactiveState,i=r.startBearing,o=r.startPitch;return Number.isFinite(i)&&Number.isFinite(o)?this._getUpdatedState({bearing:i-180*t,pitch:o-90*n}):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(){return this._getUpdatedState({startZoomPosition:this._viewportProps.position,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.scale,n=this._interactiveState.startZoomPosition;n||(n=this._viewportProps.position);var r=this.getDirection();return this._move(r,Math.log2(t),n)}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}},{key:"moveLeft",value:function(){var e=this.getDirection(!0);return this._move(e.rotateZ({radians:Math.PI/2}))}},{key:"moveRight",value:function(){var e=this.getDirection(!0);return this._move(e.rotateZ({radians:-Math.PI/2}))}},{key:"moveUp",value:function(){var e=this.getDirection(!0);return this._move(e)}},{key:"moveDown",value:function(){var e=this.getDirection(!0);return this._move(e.negate())}},{key:"rotateLeft",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing-15})}},{key:"rotateRight",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing+15})}},{key:"rotateUp",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch+10})}},{key:"rotateDown",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch-10})}},{key:"zoomIn",value:function(){return this.zoom({scale:2})}},{key:"zoomOut",value:function(){return this.zoom({scale:.5})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=Object.assign({},this._viewportProps),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"_move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._viewportProps.position,r=e.scale(20*t);return this._getUpdatedState({position:new re.d(n).add(r)})}},{key:"_getUpdatedState",value:function(e){return new n(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(e){var t=e.pitch,n=e.maxPitch,r=e.minPitch,i=e.longitude,o=e.bearing;return e.pitch=Object(re.f)(t,r,n),(i<-180||i>180)&&(e.longitude=Object(Ie.e)(i+180,360)-180),(o<-180||o>180)&&(e.bearing=Object(Ie.e)(o+180,360)-180),e}}]),n}(Ee.a),we=function(e){Object(p.a)(n,e);var t=Ce(n);function n(e){return Object(s.a)(this,n),t.call(this,Be,e)}return n}(be.a);function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var Se=function(e){Object(p.a)(n,e);var t=Oe(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"_getViewport",value:function(e){var t=e.modelMatrix,n=void 0===t?null:t,r=e.bearing,i=void 0===r?0:r,o=e.pitch,a=void 0===o?0:o,s=e.up,c=void 0===s?[0,0,1]:s,u=function(e){var t=e.bearing,n=e.pitch;return new re.e({bearing:t,pitch:n}).toVector3().normalize()}({bearing:i,pitch:90+a}),l=n?n.transformDirection(u):u,A=Object(me.g)(e),f=Math.pow(2,A),h=(new re.a).lookAt({eye:[0,0,0],center:l,up:c}).scale(f);return new ee.a(Object.assign({},e,{zoom:A,viewMatrix:h}))}},{key:"controller",get:function(){return this._getControllerProps({type:we})}}]),n}(ve.a);Se.displayName="FirstPersonView";var xe=n("R8Mb");function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var Te=Math.PI/180;function Qe(e){var t=e.height,n=e.fovy,r=e.orbitAxis,i=e.rotationX,o=e.rotationOrbit,a=e.zoom,s=.5/Math.tan(n*Te/2),c="Z"===r?[0,0,1]:[0,1,0],u="Z"===r?[0,-s,0]:[0,0,s],l=(new re.a).lookAt({eye:u,up:c});l.rotateX(i*Te),"Z"===r?l.rotateZ(o*Te):l.rotateY(o*Te);var A=Math.pow(2,a)/(t||1);return l.scale(A),l}var Pe=function(e){Object(p.a)(n,e);var t=Re(n);function n(e){Object(s.a)(this,n);var r=e.id,i=e.x,o=e.y,a=e.width,c=e.height,u=e.fovy,l=void 0===u?50:u,A=e.near,f=e.far,h=e.orbitAxis,g=void 0===h?"Z":h,d=e.target,p=void 0===d?[0,0,0]:d,v=e.rotationX,y=void 0===v?0:v,m=e.rotationOrbit,b=void 0===m?0:m,E=e.zoom,I=void 0===E?0:E;return t.call(this,{id:r,viewMatrix:Qe({height:c,fovy:l,orbitAxis:g,rotationX:y,rotationOrbit:b,zoom:I}),fovy:l,near:A,far:f,x:i,y:o,position:p,width:a,height:c,zoom:I})}return n}(ee.a),Me=function(e){Object(p.a)(n,e);var t=Re(n);function n(e){return Object(s.a)(this,n),t.call(this,Object.assign({},e,{type:Pe}))}return Object(c.a)(n,[{key:"controller",get:function(){return this._getControllerProps({type:xe.b})}}]),n}(ve.a);Me.displayName="OrbitView";var Le=n("YINf"),Ne=n("rePB"),ke=n("ReuC"),De=n("BENj"),je=n("RPaY"),Fe=n("zheZ");function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var Ge={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new je.a(["longitude","latitude","zoom"]),transitionInterruption:Fe.a.BREAK},ze=function(e){Object(p.a)(n,e);var t=Ue(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=Object(re.f)(r,n,t);var i=e.longitude,o=e.latitude;return(i<-180||i>180)&&(e.longitude=Object(Ie.e)(i+180,360)-180),e.latitude=Object(re.f)(o,-89,89),e}}]),n}(De.a),Ve=function(e){Object(p.a)(n,e);var t=Ue(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,ze,e)).invertPan=!0,r}return Object(c.a)(n,[{key:"setProps",value:function(e){Object(ke.a)(Object(y.a)(n.prototype),"setProps",this).call(this,e),this.dragRotate=!1,this.touchRotate=!1}},{key:"_getTransitionProps",value:function(){return Ge}}]),n}(be.a);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Object(Ne.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var Ke=function(e){Object(p.a)(n,e);var t=qe(n);function n(e){return Object(s.a)(this,n),t.call(this,Ye(Ye({},e),{},{type:le}))}return Object(c.a)(n,[{key:"controller",get:function(){return this._getControllerProps({type:Ve})}}]),n}(ve.a);Ke.displayName="GlobeView";var We=n("zThp"),Je=n("ReQy"),Xe=n("wldP");function Ze(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(_){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var tt=["bearing","pitch"],nt={speed:1.2,curve:1.414},rt=function(e){Object(p.a)(n,e);var t=et(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)(this,n),(e=t.call(this,{compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]})).props=Object.assign({},nt,r),e}return Object(c.a)(n,[{key:"interpolateProps",value:function(e,t,n){var r,i=Object(me.c)(e,t,n,this.props),o=Ze(tt);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Object(re.h)(e[a]||0,t[a]||0,n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=Object(me.f)(e,t,this.props)),n}}]),n}(Xe.a),it=n("Jh/b"),ot=n("rpwb"),at=n("xl5t"),st=n("Zk56"),ct=n("GYIa"),ut=n("OIVS"),lt=n("nW3J"),At=n("oViP")},qjAD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={};function i(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}n.r(r),n.d(r,"dirname",(function(){return i}))},qyNU:function(e,t,n){"use strict";var r=n("Lhll");class i extends r.a{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}}t.a=i},rXFu:function(e,t,n){"use strict";(function(t,r){var i;e.exports=B,B.ReadableState=_;n("+qE3").EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n("QpuX"),s=n("HDXh").Buffer,c=t.Uint8Array||function(){};var u,l=n(5);u=l&&l.debuglog?l.debuglog("stream"):function(){};var A,f,h,g=n("xq54"),d=n("RoFp"),p=n("DbZ5").getHighWaterMark,v=n("ybjB").codes,y=v.ERR_INVALID_ARG_TYPE,m=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("P7XM")(B,a);var I=d.errorOrDestroy,C=["error","close","destroy","pause","resume"];function _(e,t,r){i=i||n("sZro"),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(A||(A=n("fXKp").StringDecoder),this.decoder=new A(e.encoding),this.encoding=e.encoding)}function B(e){if(i=i||n("sZro"),!(this instanceof B))return new B(e);var t=this instanceof i;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,n,r,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)I(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?I(e,new E):O(e,a,t,!0);else if(a.ended)I(e,new m);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):T(e,a)):O(e,a,t,!1)}else r||(a.reading=!1,T(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),T(e,t)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=d.destroy,B.prototype._undestroy=d.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},B.prototype.unshift=function(e){return w(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(e){A||(A=n("fXKp").StringDecoder);var t=new A(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(Q,e,t))}function Q(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(j,t,e))}function j(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}B.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):x(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?k(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},B.prototype._read=function(e){I(this,new b("_read()"))},B.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:p;function s(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",g),e.removeListener("finish",d),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",p),n.removeListener("data",f),A=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var A=!1;function f(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==F(i.pipes,e))&&!A&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){u("onerror",t),p(),e.removeListener("error",h),0===o(e,"error")&&I(e,t)}function g(){e.removeListener("finish",d),p()}function d(){u("onfinish"),e.removeListener("close",g),p()}function p(){u("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",g),e.once("finish",d),e.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},B.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(M,this))),n},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(P,this),n},B.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(P,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},B.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<C.length;o++)e.on(C[o],this.emit.bind(this,C[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n("nA4H")),f(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=k,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(B.from=function(e,t){return void 0===h&&(h=n("B8Yt")),h(B,e,t)})}).call(this,n("yLpj"),n("8oxB"))},"rv+A":function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return i(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return i(e,n,t)}return""}function i(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}n.d(t,"a",(function(){return r}))},rxlC:function(e,t,n){"use strict";e.exports=i,e.exports.default=i;var r=1e20;function i(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(e,t,n,r,i,o,s){for(var c=0;c<t;c++){for(var u=0;u<n;u++)r[u]=e[u*t+c];for(a(r,i,o,s,n),u=0;u<n;u++)e[u*t+c]=i[u]}for(u=0;u<n;u++){for(c=0;c<t;c++)r[c]=e[u*t+c];for(a(r,i,o,s,t),c=0;c<t;c++)e[u*t+c]=Math.sqrt(i[c])}}function a(e,t,n,i,o){n[0]=0,i[0]=-r,i[1]=+r;for(var a=1,s=0;a<o;a++){for(var c=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);c<=i[s];)s--,c=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,i[s]=c,i[s+1]=+r}for(a=0,s=0;a<o;a++){for(;i[s+1]<a;)s++;t[a]=(a-n[s])*(a-n[s])+e[n[s]]}}i.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var a=t.data[4*i+3]/255;this.gridOuter[i]=1===a?0:0===a?r:Math.pow(Math.max(0,.5-a),2),this.gridInner[i]=1===a?r:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(o(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),o(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var s=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},sZro:function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n("rXFu"),o=n("3BRs");n("P7XM")(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(A,this)}function A(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n("8oxB"))},t6xR:function(e,t,n){"use strict";const r=n("4abu"),i=n("4abu").buildOptions,o=n("E1E9"),a=function(e,t,n){let i="{";const o=Object.keys(e.child);for(let r=0;r<o.length;r++){var s=o[r];if(e.child[s]&&e.child[s].length>1){for(var c in i+='"'+s+'" : [ ',e.child[s])i+=a(e.child[s][c],t)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+s+'" : '+a(e.child[s][0],t)+" ,"}return r.merge(i,e.attrsMap),r.isEmptyObject(i)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!==typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(i+='"'+t.textNodeName+'" : '+(!0!==(u=e.val)&&!1!==u&&isNaN(u)?'"'+u+'"':u)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var u};t.convertToJsonString=function(e,t){return(t=i(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",a(e,t,0)}},t9FE:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("yLpj"))},uTBh:function(e,t,n){"use strict";n.r(t),n.d(t,"createGLContext",(function(){return r.a})),n.d(t,"instrumentGLContext",(function(){return r.e})),n.d(t,"isWebGL",(function(){return r.f})),n.d(t,"isWebGL2",(function(){return r.g})),n.d(t,"getParameters",(function(){return r.d})),n.d(t,"setParameters",(function(){return r.k})),n.d(t,"withParameters",(function(){return r.l})),n.d(t,"resetParameters",(function(){return r.i})),n.d(t,"cssToDeviceRatio",(function(){return r.c})),n.d(t,"cssToDevicePixels",(function(){return r.b})),n.d(t,"lumaStats",(function(){return i.a})),n.d(t,"FEATURES",(function(){return o.a})),n.d(t,"hasFeature",(function(){return a.b})),n.d(t,"hasFeatures",(function(){return a.c})),n.d(t,"Buffer",(function(){return s.a})),n.d(t,"Program",(function(){return c.a})),n.d(t,"Framebuffer",(function(){return u.a})),n.d(t,"Renderbuffer",(function(){return l.a})),n.d(t,"Texture2D",(function(){return A.a})),n.d(t,"TextureCube",(function(){return f.a})),n.d(t,"clear",(function(){return h.a})),n.d(t,"readPixelsToArray",(function(){return g.c})),n.d(t,"readPixelsToBuffer",(function(){return g.d})),n.d(t,"cloneTextureFrom",(function(){return d.a})),n.d(t,"copyToTexture",(function(){return g.b})),n.d(t,"Texture3D",(function(){return p.a})),n.d(t,"TransformFeedback",(function(){return v.a})),n.d(t,"AnimationLoop",(function(){return y.a})),n.d(t,"Model",(function(){return m.a})),n.d(t,"Transform",(function(){return b.a})),n.d(t,"ProgramManager",(function(){return E.a})),n.d(t,"Timeline",(function(){return I.a})),n.d(t,"Geometry",(function(){return C.a})),n.d(t,"ClipSpace",(function(){return _.a})),n.d(t,"ConeGeometry",(function(){return M})),n.d(t,"CubeGeometry",(function(){return L.a})),n.d(t,"CylinderGeometry",(function(){return N})),n.d(t,"IcoSphereGeometry",(function(){return F})),n.d(t,"PlaneGeometry",(function(){return G})),n.d(t,"SphereGeometry",(function(){return V})),n.d(t,"TruncatedConeGeometry",(function(){return Q})),n.d(t,"normalizeShaderModule",(function(){return Y.b})),n.d(t,"fp32",(function(){return q.a})),n.d(t,"fp64",(function(){return X})),n.d(t,"project",(function(){return te})),n.d(t,"dirlight",(function(){return re})),n.d(t,"picking",(function(){return ie.a})),n.d(t,"gouraudLighting",(function(){return oe.a})),n.d(t,"phongLighting",(function(){return oe.b})),n.d(t,"pbr",(function(){return ae.a})),n.d(t,"log",(function(){return r.h})),n.d(t,"assert",(function(){return se.a})),n.d(t,"uid",(function(){return R.c}));var r=n("iein"),i=n("rta6"),o=n("tMmZ"),a=n("d3kR"),s=n("sc/6"),c=n("OklE"),u=n("11Ib"),l=n("n4Ve"),A=n("f5Sf"),f=n("H50b"),h=n("pRFE"),g=n("p7wt"),d=n("MdWm"),p=n("aadc"),v=n("bphH"),y=n("hQ05"),m=n("ykdB"),b=n("g1ju"),E=n("haqy"),I=n("HSzj"),C=n("0i8A"),_=n("uvYE"),B=n("vpQ4"),w=n("1OyB"),O=n("md7G"),S=n("foSv"),x=n("Ji7U"),R=n("VdrS"),T={x:[2,0,1],y:[0,1,2],z:[1,2,0]},Q=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("truncated-code-geometry"):n,i=P(e),o=i.indices,a=i.attributes;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,indices:o,attributes:Object(B.a)({},a,e.attributes)})))}return Object(x.a)(t,e),t}(C.a);function P(e){for(var t=e.bottomRadius,n=void 0===t?0:t,r=e.topRadius,i=void 0===r?0:r,o=e.height,a=void 0===o?1:o,s=e.nradial,c=void 0===s?10:s,u=e.nvertical,l=void 0===u?10:u,A=e.verticalAxis,f=void 0===A?"y":A,h=e.topCap,g=void 0!==h&&h,d=e.bottomCap,p=void 0!==d&&d,v=(g?2:0)+(p?2:0),y=(c+1)*(l+1+v),m=Math.atan2(n-i,a),b=Math.sin,E=Math.cos,I=Math.PI,C=E(m),_=b(m),B=g?-2:0,w=l+(p?2:0),O=c+1,S=new Uint16Array(c*(l+v)*6),x=T[f],R=new Float32Array(3*y),Q=new Float32Array(3*y),P=new Float32Array(2*y),M=0,L=0,N=B;N<=w;N++){var k=N/l,D=a*k,j=void 0;N<0?(D=0,k=1,j=n):N>l?(D=a,k=1,j=i):j=n+N/l*(i-n),-2!==N&&N!==l+2||(j=0,k=0),D-=a/2;for(var F=0;F<O;F++){var U=b(F*I*2/c),G=E(F*I*2/c);R[M+x[0]]=U*j,R[M+x[1]]=D,R[M+x[2]]=G*j,Q[M+x[0]]=N<0||N>l?0:U*C,Q[M+x[1]]=N<0?-1:N>l?1:_,Q[M+x[2]]=N<0||N>l?0:G*C,P[L+0]=F/c,P[L+1]=k,L+=2,M+=3}}for(var z=0;z<l+v;z++)for(var V=0;V<c;V++){var H=6*(z*c+V);S[H+0]=O*(z+0)+0+V,S[H+1]=O*(z+0)+1+V,S[H+2]=O*(z+1)+1+V,S[H+3]=O*(z+0)+0+V,S[H+4]=O*(z+1)+1+V,S[H+5]=O*(z+1)+0+V}return{indices:S,attributes:{POSITION:{size:3,value:R},NORMAL:{size:3,value:Q},TEXCOORD_0:{size:2,value:P}}}}var M=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("cone-geometry"):n,i=e.radius,o=void 0===i?1:i,a=e.cap,s=void 0===a||a;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,topRadius:0,topCap:Boolean(s),bottomCap:Boolean(s),bottomRadius:o})))}return Object(x.a)(t,e),t}(Q),L=n("9peF"),N=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("cylinder-geometry"):n,i=e.radius,o=void 0===i?1:i;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,bottomRadius:o,topRadius:o})))}return Object(x.a)(t,e),t}(Q),k=n("c9N0"),D=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],j=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],F=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("ico-sphere-geometry"):n,i=U(e),o=i.indices,a=i.attributes;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,indices:o,attributes:Object(B.a)({},a,e.attributes)})))}return Object(x.a)(t,e),t}(C.a);function U(e){var t=e.iterations,n=void 0===t?0:t,r=Math.PI,i=2*r,o=[].concat(D),a=[].concat(j);o.push(),a.push();for(var s=function(){var e={};return function(t,n){var r=(t*=3)>(n*=3)?t:n,i="".concat(t<n?t:n,"|").concat(r);if(i in e)return e[i];var a=o[t],s=o[t+1],c=o[t+2],u=(a+o[n])/2,l=(s+o[n+1])/2,A=(c+o[n+2])/2,f=Math.sqrt(u*u+l*l+A*A);return u/=f,l/=f,A/=f,o.push(u,l,A),e[i]=o.length/3-1}}(),c=0;c<n;c++){for(var u=[],l=0;l<a.length;l+=3){var A=s(a[l+0],a[l+1]),f=s(a[l+1],a[l+2]),h=s(a[l+2],a[l+0]);u.push(h,a[l+0],A,A,a[l+1],f,f,a[l+2],h,A,f,h)}a=u}for(var g=new Array(o.length),d=new Array(o.length/3*2),p=a.length-3;p>=0;p-=3){var v=a[p+0],y=a[p+1],m=a[p+2],b=3*v,E=3*y,I=3*m,C=2*v,_=2*y,B=2*m,w=o[b+0],O=o[b+1],S=o[b+2],x=Math.acos(S/Math.sqrt(w*w+O*O+S*S))/r,R=1-(Math.atan2(O,w)+r)/i,T=o[E+0],Q=o[E+1],P=o[E+2],M=Math.acos(P/Math.sqrt(T*T+Q*Q+P*P))/r,L=1-(Math.atan2(Q,T)+r)/i,N=o[I+0],F=o[I+1],U=o[I+2],G=Math.acos(U/Math.sqrt(N*N+F*F+U*U))/r,z=1-(Math.atan2(F,N)+r)/i,V=[N-T,F-Q,U-P],H=[w-T,O-Q,S-P],Y=new k.d(V).cross(H).normalize(),q=void 0;(0===R||0===L||0===z)&&(0===R||R>.5)&&(0===L||L>.5)&&(0===z||z>.5)&&(o.push(o[b+0],o[b+1],o[b+2]),q=o.length/3-1,a.push(q),d[2*q+0]=1,d[2*q+1]=x,g[3*q+0]=Y.x,g[3*q+1]=Y.y,g[3*q+2]=Y.z,o.push(o[E+0],o[E+1],o[E+2]),q=o.length/3-1,a.push(q),d[2*q+0]=1,d[2*q+1]=M,g[3*q+0]=Y.x,g[3*q+1]=Y.y,g[3*q+2]=Y.z,o.push(o[I+0],o[I+1],o[I+2]),q=o.length/3-1,a.push(q),d[2*q+0]=1,d[2*q+1]=G,g[3*q+0]=Y.x,g[3*q+1]=Y.y,g[3*q+2]=Y.z),g[b+0]=g[E+0]=g[I+0]=Y.x,g[b+1]=g[E+1]=g[I+1]=Y.y,g[b+2]=g[E+2]=g[I+2]=Y.z,d[C+0]=R,d[C+1]=x,d[_+0]=L,d[_+1]=M,d[B+0]=z,d[B+1]=G}return{indices:{size:1,value:new Uint16Array(a)},attributes:{POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(g)},TEXCOORD_0:{size:2,value:new Float32Array(d)}}}}var G=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("plane-geometry"):n,i=z(e),o=i.indices,a=i.attributes;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,indices:o,attributes:Object(B.a)({},a,e.attributes)})))}return Object(x.a)(t,e),t}(C.a);function z(e){var t=e.type,n=void 0===t?"x,y":t,r=e.offset,i=void 0===r?0:r,o=e.flipCull,a=void 0!==o&&o,s=e.unpack,c=void 0!==s&&s,u=n.split(","),l=e["".concat(u[0],"len")]||1,A=e["".concat(u[1],"len")]||1,f=e["n".concat(u[0])]||1,h=e["n".concat(u[1])]||1,g=(f+1)*(h+1),d=new Float32Array(3*g),p=new Float32Array(3*g),v=new Float32Array(2*g);a&&(l=-l);for(var y=0,m=0,b=0;b<=h;b++)for(var E=0;E<=f;E++){var I=E/f,C=b/h;switch(v[y+0]=a?1-I:I,v[y+1]=C,n){case"x,y":d[m+0]=l*I-.5*l,d[m+1]=A*C-.5*A,d[m+2]=i,p[m+0]=0,p[m+1]=0,p[m+2]=a?1:-1;break;case"x,z":d[m+0]=l*I-.5*l,d[m+1]=i,d[m+2]=A*C-.5*A,p[m+0]=0,p[m+1]=a?1:-1,p[m+2]=0;break;case"y,z":d[m+0]=i,d[m+1]=l*I-.5*l,d[m+2]=A*C-.5*A,p[m+0]=a?1:-1,p[m+1]=0,p[m+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}y+=2,m+=3}for(var _=f+1,B=new Uint16Array(f*h*6),w=0;w<h;w++)for(var O=0;O<f;O++){var S=6*(w*f+O);B[S+0]=(w+0)*_+O,B[S+1]=(w+1)*_+O,B[S+2]=(w+0)*_+O+1,B[S+3]=(w+1)*_+O,B[S+4]=(w+1)*_+O+1,B[S+5]=(w+0)*_+O+1}var x={indices:{size:1,value:B},attributes:{POSITION:{size:3,value:d},NORMAL:{size:3,value:p},TEXCOORD_0:{size:2,value:v}}};return c?function(e){var t=e.indices,n=e.attributes;if(!t)return e;var r=t.value.length,i={};for(var o in n){var a=n[o],s=a.constant,c=a.value,u=a.size;if(!s&&u){for(var l=new c.constructor(r*u),A=0;A<r;++A)for(var f=t.value[A],h=0;h<u;h++)l[A*u+h]=c[f*u+h];i[o]={size:u,value:l}}}return{attributes:Object.assign({},n,i)}}(x):x}var V=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(w.a)(this,t);var n=e.id,r=void 0===n?Object(R.c)("sphere-geometry"):n,i=H(e),o=i.indices,a=i.attributes;return Object(O.a)(this,Object(S.a)(t).call(this,Object(B.a)({},e,{id:r,indices:o,attributes:Object(B.a)({},a,e.attributes)})))}return Object(x.a)(t,e),t}(C.a);function H(e){var t=e.nlat,n=void 0===t?10:t,r=e.nlong,i=void 0===r?10:r,o=e.radius,a=void 0===o?1:o,s=Math.PI-0,c=2*Math.PI-0,u=(n+1)*(i+1);if("number"===typeof a){var l=a;a=function(e,t,n,r,i){return l}}for(var A=new Float32Array(3*u),f=new Float32Array(3*u),h=new Float32Array(2*u),g=new(u>65535?Uint32Array:Uint16Array)(n*i*6),d=0;d<=n;d++)for(var p=0;p<=i;p++){var v=p/i,y=d/n,m=p+d*(i+1),b=2*m,E=3*m,I=c*v,C=s*y,_=Math.sin(I),B=Math.cos(I),w=Math.sin(C),O=B*w,S=Math.cos(C),x=_*w,R=a(O,S,x,v,y);A[E+0]=R*O,A[E+1]=R*S,A[E+2]=R*x,f[E+0]=O,f[E+1]=S,f[E+2]=x,h[b+0]=v,h[b+1]=1-y}for(var T=i+1,Q=0;Q<i;Q++)for(var P=0;P<n;P++){var M=6*(Q*n+P);g[M+0]=P*T+Q,g[M+1]=P*T+Q+1,g[M+2]=(P+1)*T+Q,g[M+3]=(P+1)*T+Q,g[M+4]=P*T+Q+1,g[M+5]=(P+1)*T+Q+1}return{indices:{size:1,value:g},attributes:{POSITION:{size:3,value:A},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:h}}}}var Y=n("bHAT"),q=n("pE0Q");function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.fround(e),i=e-r;return t[n]=r,t[n+1]=i,t}function W(e){return e-Math.fround(e)}var J={ONE:1};var X={name:"fp64",vs:"const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",fs:null,dependencies:[{name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function(){return J},fp64ify:K,fp64LowPart:W}],fp64ify:K,fp64LowPart:W,fp64ifyMatrix4:function(e){for(var t=new Float32Array(32),n=0;n<4;++n)for(var r=0;r<4;++r){var i=4*n+r;K(e[4*r+n],t,2*i)}return t}},Z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$={modelMatrix:Z,viewMatrix:Z,projectionMatrix:Z,cameraPositionWorld:[0,0,0]};var ee="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",te={name:"project",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t={};return void 0!==e.modelMatrix&&(t.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(t.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(t.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(t.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(t.viewProjectionMatrix=new k.a(e.projectionMatrix).multiplyRight(e.viewMatrix)),t},vs:"".concat(ee,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(ee)},ne={lightDirection:new Float32Array([1,1,2])};var re={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[te]},ie=n("AIJu"),oe=n("91Zk"),ae=n("+Jdq"),se=n("CxzY")},uvYE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("1OyB"),i=n("md7G"),o=n("foSv"),a=n("Ji7U"),s=n("ykdB"),c=n("0i8A"),u=[-1,-1,1,-1,-1,1,1,1],l=function(e){function t(e,n){var a;Object(r.a)(this,t);var s=u.map((function(e){return-1===e?0:e}));return(a=Object(i.a)(this,Object(o.a)(t).call(this,e,Object.assign({},n,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new c.a({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(u)},aTexCoord:{size:2,value:new Float32Array(s)},aCoordinate:{size:2,value:new Float32Array(s)}}})})))).setVertexCount(4),a}return Object(a.a)(t,e),t}(s.a)},"vn/o":function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},vtNb:function(e,t,n){"use strict";const r=function(e){return String.fromCharCode(e)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(e,t,n){if("string"===typeof t)return e&&e[0]&&void 0!==e[0].val?s(e[0].val,t):s(e,t);{const o=void 0===(r=e)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(t)){r+=i.arrStart;const o=t[0],u=e.length;if("string"===typeof o)for(let t=0;t<u;t++){const n=s(e[t].val,o);r=c(r,n)}else for(let t=0;t<u;t++){const i=a(e[t],o,n);r=c(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in o){const s=o[i];let u;u=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?a(e.attrsMap[s],t[s],n):s===n.textNodeName?a(e.val,t[s],n):a(e.child[s],t[s],n),r=c(r,u)}}return r}return o}var r},s=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},c=function(e,t){return u(t[0])||u(e[e.length-1])||(e+=i.boundryChar),e+t},u=function(e){return-1!==o.indexOf(e)};const l=n("E1E9"),A=n("4abu").buildOptions;t.convert2nimn=function(e,t,n){return n=A(n,l.defaultOptions,l.props),a(e,t,n)}},wTVA:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},wkBT:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},xh2E:function(e,t,n){"use strict";const r=n("S6im"),i=n("9rVn");class o extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map(e=>e instanceof Error?e:null!==e&&"object"===typeof e?Object.assign(new Error(e.message),e):new Error(e))).map(e=>"string"===typeof e.stack?(e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""))(i(e.stack)):String(e)).join("\n");t="\n"+r(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}e.exports=o},xl5t:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n("1OyB"),i=n("vuIU"),o=n("rpwb"),a=n("b0ih"),s=n("VMBB"),c=n("sc/6");function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,e);var n=t.attributes,i=void 0===n?{}:n;this.typedArrayManager=a.a,this.indexStarts=null,this.vertexStarts=null,this.vertexCount=0,this.instanceCount=0,this.attributes={},this._attributeDefs=i,this.opts=t,this.updateGeometry(t),Object.seal(this)}return Object(i.a)(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,n=t.data,r=t.buffers,i=void 0===r?{}:r,o=t.getGeometry,a=t.geometryBuffer,c=t.positionFormat,l=t.dataChanged,A=t.normalize,f=void 0===A||A;if(this.data=n,this.getGeometry=o,this.positionSize=a&&a.size||("XY"===c?2:3),this.buffers=i,this.normalize=f,a&&(Object(s.a)(n.startIndices,"binary data missing startIndices"),this.getGeometry=this.getGeometryFromBuffer(a),f||(i.positions=a)),this.geometryBuffer=i.positions,Array.isArray(l)){var h,g=u(l);try{for(g.s();!(h=g.n()).done;){var d=h.value;this._rebuildGeometry(d)}}catch(p){g.e(p)}finally{g.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,n=e.endRow;this._rebuildGeometry({startRow:t,endRow:n})}},{key:"normalizeGeometry",value:function(e){return e}},{key:"updateGeometryAttributes",value:function(e,t,n){throw new Error("Not implemented")}},{key:"getGeometrySize",value:function(e){throw new Error("Not implemented")}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return Object(s.a)(ArrayBuffer.isView(t),"cannot read geometries"),Object(o.b)(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices})}},{key:"_allocate",value:function(e,t){var n=this.attributes,r=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in r)o.release(n[a]),n[a]=null;else{var s=i[a];s.copy=t,n[a]=o.allocate(n[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,n){var r,i=this.data,a=this.getGeometry,s=Object(o.a)(i,t,n),c=s.iterable,l=s.objectInfo,A=u(c);try{for(A.s();!(r=A.n()).done;){var f=r.value;l.index++,e(a(f,l),l.index)}}catch(h){A.e(h)}finally{A.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data&&this.getGeometry){var n=this.indexStarts,r=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,l=void 0===u?0:u,A=s.endRow,f=void 0===A?1/0:A,h={};if(e||(n=[0],r=[0]),this.normalize||!a)this._forEachGeometry((function(e,n){e=t.normalizeGeometry(e),h[n]=e,r[n+1]=r[n]+t.getGeometrySize(e)}),l,f),i=r[r.length-1];else if(a.buffer instanceof c.a){var g=a.stride||4*this.positionSize;r=o.startIndices,i=r[o.length]||a.buffer.byteLength/g}else{var d=a.value||a,p=a.stride/d.BYTES_PER_ELEMENT||this.positionSize;r=o.startIndices,i=r[o.length]||d.length/p}this._allocate(i,Boolean(e)),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;var v={};this._forEachGeometry((function(e,o){e=h[o]||e,v.vertexStart=r[o],v.indexStart=n[o];var a=o<r.length-1?r[o+1]:i;v.geometrySize=a-r[o],v.geometryIndex=o,t.updateGeometryAttributes(e,v)}),l,f),this.vertexCount=n[n.length-1]}}}]),e}()},xnQO:function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},xq54:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("HDXh").Buffer,s=n(6).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},yDR0:function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},yXPU:function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},yXba:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,s;return t?(s=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(i=a(e,(0|e)<0?-1:0,!0),s&&(r[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(i=a(e,e<0?-1:0,!1),s&&(n[e]=i),i)}function o(e,t){if(isNaN(e)||!isFinite(e))return t?p:d;if(t){if(e<0)return p;if(e>=f)return E}else{if(e<=-h)return I;if(e+1>=h)return b}return e<0?o(-e,t).neg():a(e%A|0,e/A|0,t)}function a(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=a;var s=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return d;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=o(s(n,8)),a=d,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),A=parseInt(e.substring(u,u+l),n);if(l<8){var f=o(s(n,l));a=a.mul(f).add(o(A))}else a=(a=a.mul(i)).add(o(A))}return a.unsigned=t,a}function u(t){return t instanceof e?t:"number"===typeof t?o(t):"string"===typeof t?c(t):a(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=u;var l=65536,A=l*l,f=A*A,h=f/2,g=i(1<<24),d=i(0);e.ZERO=d;var p=i(0,!0);e.UZERO=p;var v=i(1);e.ONE=v;var y=i(1,!0);e.UONE=y;var m=i(-1);e.NEG_ONE=m;var b=a(-1,2147483647,!1);e.MAX_VALUE=b;var E=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var I=a(0,-2147483648,!1);e.MIN_VALUE=I;var C=e.prototype;return C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*A+(this.low>>>0):this.high*A+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(s(e,6),this.unsigned),a=this,c="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+c;for(;l.length<6;)l="0"+l;c=""+l+c}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return t(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.compare=function(e){if(t(e)||(e=u(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(v)},C.neg=C.negate,C.add=function(e){t(e)||(e=u(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,c=65535&e.high,l=e.low>>>16,A=0,f=0,h=0,g=0;return h+=(g+=o+(65535&e.low))>>>16,f+=(h+=i+l)>>>16,A+=(f+=r+c)>>>16,A+=n+s,a((h&=65535)<<16|(g&=65535),(A&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(e){return t(e)||(e=u(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return d;if(t(e)||(e=u(e)),e.isZero())return d;if(this.eq(I))return e.isOdd()?I:d;if(e.eq(I))return this.isOdd()?I:d;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,c=e.high>>>16,l=65535&e.high,A=e.low>>>16,f=65535&e.low,h=0,p=0,v=0,y=0;return v+=(y+=s*f)>>>16,p+=(v+=i*f)>>>16,v&=65535,p+=(v+=s*A)>>>16,h+=(p+=r*f)>>>16,p&=65535,h+=(p+=i*A)>>>16,p&=65535,h+=(p+=s*l)>>>16,h+=n*f+r*A+i*l+s*c,a((v&=65535)<<16|(y&=65535),(h&=65535)<<16|(p&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(t(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?p:d;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return p;if(e.gt(this.shru(1)))return y;i=p}else{if(this.eq(I))return e.eq(v)||e.eq(m)?I:e.eq(I)?v:(n=this.shr(1).div(e).shl(1)).eq(d)?e.isNegative()?v:m:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(I))return this.unsigned?p:d;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=d}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:s(2,a-48),l=o(n),A=l.mul(e);A.isNegative()||A.gt(r);)A=(l=o(n-=c,this.unsigned)).mul(e);l.isZero()&&(l=v),i=i.add(l),r=r.sub(A)}return i},C.div=C.divide,C.modulo=function(e){return t(e)||(e=u(e)),this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.not=function(){return a(~this.low,~this.high,this.unsigned)},C.and=function(e){return t(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return t(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return t(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var n=this.high;return e<32?a(this.low>>>e|n<<32-e,n>>>e,this.unsigned):a(32===e?n:n>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})?r.apply(t,i):r)||(e.exports=o)},ybjB:function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"===typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s,c;if("string"===typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",a=e,s=" argument",(void 0===c||c>a.length)&&(c=a.length),a.substring(c-s.length,c)===s)i="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var u=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(o(t,"type"))}return i+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},zJdk:function(e,t,n){"use strict";function r(e){if(!e||!e.POSITION)return null;var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION.value,c=s&&s.length;if(!c)return null;for(var u=0;u<c;u+=3){var l=s[u],A=s[u+1],f=s[u+2];t=l<t?l:t,n=A<n?A:n,r=f<r?f:r,i=l>i?l:i,o=A>o?A:o,a=f>a?f:a}return[[t,n,r],[i,o,a]]}n.d(t,"a",(function(){return r}))},zY86:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("ewpT");function i(e){return e&&"object"===typeof e&&e[r.d]}function o(e,t){if(!t){if(!(n=e)||"object"!==typeof n)throw Error();t=[e]}var n;return{[r.d]:!0,send:e,transferables:t}}},zqkD:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.cancel="cancel",e.run="run"}(r||(r={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(i||(i={}))}}]);